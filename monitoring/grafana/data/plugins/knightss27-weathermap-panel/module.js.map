{"version":3,"file":"module.js","mappings":"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AAG,CAAEjC,SAAUmI,EAASpI,QAAQ,GAAGC,SAAUiC,eAAgB,GAC7D,EAAG,CAAEjC,SAAUmI,EAASpI,QAAQ,GAAGC,SAAUiC,eAAgB,GAC7D,EAAG,CAAEjC,SAAUmI,EAASpI,QAAQ,GAAGC,SAAUiC,eAAgB,IAExDkG,CACT,CAGA,MAokCMpD,GAAYC,EAAAA,EAAAA,gBAAc,KACvB,CACLoD,QAASlD,EAAAA,GAAG;;;;MAKZmD,QAASnD,EAAAA,GAAG;;;;;MAMZD,SAAUC,EAAAA,GAAG;;;;;;;;MASboD,SAAUpD,EAAAA,GAAG;;;;;;;UCjpCJqD,EAAa,CACxB,eACA,QACA,YACA,QACA,6BACA,cACA,cACA,cACA,MACA,MACA,MACA,qBACA,UACA,WACA,iBACA,kBACA,MACA,WACA,mBACA,aACA,aACA,wBACA,MACA,MACA,OACA,gBACA,eACA,SACA,mBACA,YACA,cACA,cACA,MACA,yBACA,YACA,MACA,aACA,kBACA,aACA,WACA,oBACA,YACA,iBACA,gCACA,sBACA,cACA,mBACA,QACA,wBACA,yBACA,iBACA,mBACA,gCACA,yBACA,8BACA,iBACA,iCACA,UACA,QACA,UACA,OACA,WACA,kCACA,mBACA,WACA,uBACA,UACA,MACA,QACA,YACA,cACA,aACA,MACA,aACA,YACA,+BACA,8BACA,eACA,cACA,aACA,+BACA,WACA,sBACA,aACA,oBACA,mBACA,kBACA,oBACA,qBACA,gCACA,sBACA,kBACA,QACA,OACA,WACA,YACA,OACA,UACA,MACA,aACA,gBACA,iBACA,YACA,MACA,MACA,sBACA,oBACA,eACA,UACA,kBACA,SACA,WACA,sBACA,KACA,OACA,uBACA,cACA,eACA,cACA,MACA,OACA,MACA,OACA,aACA,SACA,wBACA,iBACA,iBACA,gBACA,OACA,gBACA,YACA,YACA,YACA,cACA,MACA,MACA,MACA,SACA,WACA,eACA,UACA,aACA,+BACA,aACA,iBACA,WACA,yBACA,uBACA,kBACA,QACA,aACA,MACA,6BACA,2BACA,qBACA,MACA,MACA,gBACA,aACA,MACA,iBACA,YACA,WACA,qBACA,mBACA,aACA,6BACA,aACA,aACA,QACA,WACA,oBACA,0BACA,oBACA,UACA,MACA,YACA,aACA,MACA,kBACA,SACA,gBACA,eACA,WACA,KACA,MACA,YACA,QACA,eACA,MACA,UACA,sBACA,sBACA,MACA,cACA,UACA,sBACA,WACA,WACA,yBACA,kBACA,qBACA,6BACA,SACA,SACA,cACA,kBACA,iBACA,YACA,UACA,gBACA,qBACA,kBACA,iBACA,iBACA,WACA,cACA,qBACA,mBACA,gBACA,iBACA,YACA,YACA,qBACA,wBACA,eACA,UACA,MACA,iBACA,gBACA,eACA,iBACA,MACA,iBACA,gBACA,MACA,WACA,kBACA,gBACA,MACA,oBACA,SACA,aACA,aACA,wBACA,qBACA,oBACA,QACA,SACA,YACA,QACA,SACA,KACA,SACA,aACA,eACA,oBACA,aACA,MACA,MACA,QACA,eACA,MACA,uBACA,iCACA,mBACA,mBACA,eACA,eACA,mBACA,cACA,MACA,MACA,oBACA,cACA,cACA,YACA,8BACA,kBACA,qBACA,WACA,iBACA,OACA,kBACA,qBACA,mBACA,cACA,cAGWC,EAAkB,CAC7B,aACA,eACA,aACA,mBACA,SACA,WACA,SACA,cACA,YACA,QACA,YACA,SACA,oBACA,WACA,sBACA,uBACA,cACA,gBACA,cACA,SACA,cACA,OACA,WACA,MACA,WACA,OACA,YACA,kBACA,QACA,UACA,QACA,SACA,OACA,yBACA,cACA,MACA,KACA,QACA,UACA,UACA,mBACA,iBACA,cACA,cACA,YACA,cACA,sBACA,WACA,eACA,SACA,iBACA,YACA,UACA,WACA,SACA,gBACA,cACA,eACA,iBACA,iBACA,SACA,YACA,MACA,OACA,eACA,cACA,iBACA,aACA,cACA,wBACA,kBACA,kBAGWC,EAAgB,CAC3B,YACA,WACA,mBACA,iBACA,gBACA,eACA,eACA,iBACA,sCACA,WACA,YACA,UACA,MACA,gBACA,WACA,UACA,kBACA,eACA,cACA,WACA,QACA,SACA,UACA,UACA,SACA,gBACA,UACA,QACA,QACA,QACA,SACA,QACA,UACA,aACA,UACA,SACA,YACA,SACA,QACA,UACA,YACA,OACA,UACA,OACA,aACA,YACA,SACA,UAGWC,EAAgB,CAC3B,cACA,YACA,WACA,gBACA,cACA,QACA,KACA,MACA,QACA,SACA,WACA,c,gcClZK,MAAMC,EAAW,EAAGrrB,QAAOsrB,WAAU9K,cAC1C,MAAMwH,EAASP,IACThD,GAAQ4F,EAAAA,EAAAA,aAEd,IAAIkB,EAAoB,EACxB,IAAK,IAAIrjB,KAAQlI,EAAM8iB,MACrByI,GAAqBrjB,EAAKkd,aAAe,EAAI,EAG/C,MAAMoG,EAAe,CAACtyB,EAAsCuR,KAC1D,IAAIghB,EAAyBzrB,EACA,MAAzB9G,EAAEwyB,cAAcrkB,KAClBokB,EAAW3I,MAAMrY,GAAGyF,SAAS,GAAKhX,EAAEwyB,cAAcC,cAChB,MAAzBzyB,EAAEwyB,cAAcrkB,KACzBokB,EAAW3I,MAAMrY,GAAGyF,SAAS,GAAKhX,EAAEwyB,cAAcC,cAChB,UAAzBzyB,EAAEwyB,cAAcrkB,OACzBokB,EAAW3I,MAAMrY,GAAGkZ,MAAQzqB,EAAEwyB,cAAc1rB,OAE9CsrB,EAASG,EAAW,EAShBG,EAA0B,CAAC1N,EAAazT,EAAWtG,KACvD,IAAIsnB,EAAyBzrB,EAC7ByrB,EAAW3I,MAAMrY,GAAGgZ,QAAQtf,GAAQ+Z,EACpCoN,EAASG,EAAW,EAwEhBI,EAAuB,CAACC,EAAarhB,EAAWtG,KACpD,IAAIsnB,EAAyBzrB,EAC7ByrB,EAAW3I,MAAMrY,GAAGsZ,SAAUlkB,KAAKsE,GAAQ2nB,EAC3CR,EAASG,EAAW,EAGhBM,EAA0B,CAACD,EAAarhB,EAAWtG,KACvD,IAAIsnB,EAAyBzrB,EAC7ByrB,EAAW3I,MAAMrY,GAAGsZ,SAAUN,QAAQtf,GAAQ2nB,EAC9CR,EAASG,EAAW,GAiFfO,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,QAEzCC,EAAsBlB,EAAW/mB,KAAK/K,IACnC,CAAEwqB,MAAOxqB,EAAG6G,MAAO,SAAW7G,MAEjCizB,EAA2BlB,EAAgBhnB,KAAK/K,IAC7C,CAAEwqB,MAAOxqB,EAAG6G,MAAO,cAAgB7G,MAEtCkzB,EAAyBlB,EAAcjnB,KAAK/K,IACzC,CAAEwqB,MAAOxqB,EAAG6G,MAAO,aAAe7G,MAErCmzB,EAAyBlB,EAAclnB,KAAK/K,IACzC,CAAEwqB,MAAOxqB,EAAG6G,MAAO,sBAAwB7G,MAGpD,IAAIozB,EAAwB,GAS5B,OARA/L,EAAQ7gB,KAAKsL,SAAQ,CAAC+T,EAAGvU,KACvB,IACE8hB,EAAY7rB,KAAK0mB,EAAiBpI,EAAGwB,EAAQ7gB,MAC/C,CAAE,MAAOzG,GACPqX,QAAQC,KAAK,mEAAoEtX,EACnF,KAIA,kBAAC8P,IAAAA,SAAc,KACb,kBAACwjB,KAAAA,CACCra,MAAO,CACLsR,QAAS,mBACTnG,UAAW,OACXmP,UAAW,kDAEd,SAGD,kBAACC,EAAAA,OAAMA,CACLpB,SAAWqB,IACTV,EAAeU,EAAAA,EAEjB3sB,MAAOgsB,EACP1U,QAAStX,EAAM8iB,MACf8J,eAAiB1kB,GAASA,EAAKyb,MAC/BkJ,eAAiB3kB,GAASA,EAAK2P,GAC/BjF,UAAWoV,EAAO8E,WAClBC,YAAa,gBACbC,aAAAA,IAGDhtB,EAAM8iB,MAAM5e,KAAI,CAACgE,EAAMuC,K,IAoDHvC,EAnDnB,GAAI8jB,GAAe9jB,EAAK2P,KAAOmU,EAAYnU,GACzC,OACE,kBAAC7O,IAAAA,SAAc,CAACjJ,IAAKmI,EAAK2P,IACxB,kBAACoV,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACC,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,KACvB,kBAAC0J,EAAAA,MAAKA,CACJrtB,MAAOkI,EAAKgI,SAAS,GACrBob,SAAWpyB,GAAMsyB,EAAatyB,EAAGuR,GACjCsiB,YAAa,aACb5oB,KAAM,SACNyO,UAAWoV,EAAOsF,UAClBjmB,KAAM,OAGV,kBAAC8lB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,KACvB,kBAAC0J,EAAAA,MAAKA,CACJrtB,MAAOkI,EAAKgI,SAAS,GACrBob,SAAWpyB,GAAMsyB,EAAatyB,EAAGuR,GACjCsiB,YAAa,aACb5oB,KAAM,SACNyO,UAAWoV,EAAOsF,UAClBjmB,KAAM,OAGV,kBAAC8lB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,SACvB,kBAAC0J,EAAAA,MAAKA,CACJrtB,MAAOkI,EAAKyb,MACZ2H,SAAWpyB,GAAMsyB,EAAatyB,EAAGuR,GACjCsiB,YAAa,aACb5oB,KAAM,OACNyO,UAAWoV,EAAOsF,UAClBjmB,KAAM,WAGV,kBAAC8lB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,kBACvB,kBAAC0J,EAAAA,MAAKA,CACJrtB,MAAOkI,EAAKwd,cACZ4F,SAAWpyB,GAjQK,EAACA,EAAsCuR,KACvE,IAAIghB,EAAyBzrB,EAC7ByrB,EAAW3I,MAAMrY,GAAGib,cAAgBxsB,EAAEwyB,cAAc1rB,MACpDsrB,EAASG,EAAW,EA8Pa8B,CAA0Br0B,EAAGuR,GAC9CsiB,YAAa,sBACb5oB,KAAM,OACNyO,UAAWoV,EAAOsF,UAClBjmB,KAAM,qBAIZ,kBAAC4lB,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACM,EAAAA,mBAAkBA,CAAC7J,MAAM,QACxB,kBAAC+I,EAAAA,OAAMA,CACLpB,SAAWqB,IAzNJ,EAACc,EAA0BhjB,KAClD,IAAIghB,EAAyBzrB,OAEhB7C,IAATswB,EACFhC,EAAW3I,MAAMrY,GAAGsZ,SAAW,CAC7BoB,IAAK,GACL9d,KAAM,GACNxH,KAAM,CACJuZ,MAAO,EACPR,OAAQ,GAEV6K,QAAS,CACPY,SAAU,EACVb,WAAY,GAEdQ,YAAY,IAGdyH,EAAW3I,MAAMrY,GAAGsZ,SAAUoB,IACnB,gBAATsI,EAAyB,GAAK,oDAAsDA,EAAO,OAC7FhC,EAAW3I,MAAMrY,GAAGsZ,SAAU1c,KAAOomB,EAEY,IAA7ChC,EAAW3I,MAAMrY,GAAGsZ,SAAUlkB,KAAKuZ,QACrCqS,EAAW3I,MAAMrY,GAAGsZ,SAAUlkB,KAAO,CAAEuZ,MAAO,GAAIR,OAAQ,MAI9D0S,EAASG,EAAW,EA+LFiC,CAAiBf,EAAIA,EAAE3sB,WAAQ7C,EAAWsN,EAAE,EAE9CzK,MAAoB,QAAbkI,EAAAA,EAAK6b,gBAAL7b,IAAAA,OAAAA,EAAAA,EAAeb,KACtBiQ,QAAS,CACP,CAAEqM,MAAO,cAAe3jB,MAAO,QAASsX,QAAS6U,GACjD,CAAExI,MAAO,mBAAoB3jB,MAAO,aAAcsX,QAAS8U,GAC3D,CAAEzI,MAAO,iBAAkB3jB,MAAO,YAAasX,QAAS+U,GACxD,CAAE1I,MAAO,iBAAkB3jB,MAAO,qBAAsBsX,QAASgV,GACjE,CAAE3I,MAAO,cAAe3jB,MAAO,gBAEjC4S,UAAWoV,EAAO8E,WAClBC,YAAa,iBACbC,aAAAA,IAED9kB,EAAK6b,UAAmC,gBAAvB7b,EAAK6b,SAAS1c,KAC9B,oCACE,kBAAC8lB,EAAAA,YAAWA,CACVC,MAAAA,EACAzJ,MAAM,qBACN/Q,UAAWoV,EAAO2F,YAClBxb,MAAO,CAAEiL,WAAY,SAErB,kBAACiQ,EAAAA,MAAKA,CACJrtB,MAAOkI,EAAK6b,SAASoB,IACrB4H,YAAa,+BACb5oB,KAAM,OACNkD,KAAM,eACNikB,SAAWpyB,IACT,IAAIoe,EAAUtX,EACVsX,EAAQwL,MAAMrY,GAAGsZ,WACnBzM,EAAQwL,MAAMrY,GAAGsZ,SAAUoB,IAAMjsB,EAAEwyB,cAAc1rB,OAEnDsrB,EAAShU,EAAQ,MAMzB,GAEF,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,SACvB,kBAAC0J,EAAAA,MAAKA,CACJrtB,MAAOkI,EAAK6b,SAAUlkB,KAAKuZ,MAC3BkS,SAAWpyB,GAAM2yB,EAAqB3yB,EAAEwyB,cAAcC,cAAelhB,EAAG,SACxEsiB,YAAa,QACb5oB,KAAM,SACNyO,UAAWoV,EAAOsF,UAClBjmB,KAAM,eAGV,kBAAC8lB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,UACvB,kBAAC0J,EAAAA,MAAKA,CACJrtB,MAAOkI,EAAK6b,SAAUlkB,KAAK+Y,OAC3B0S,SAAWpyB,GAAM2yB,EAAqB3yB,EAAEwyB,cAAcC,cAAelhB,EAAG,UACxEsiB,YAAa,SACb5oB,KAAM,SACNyO,UAAWoV,EAAOsF,UAClBjmB,KAAM,gBAGV,kBAAC8lB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,sBACvB,kBAACiK,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOkI,EAAK6b,SAAUN,QAAQD,WAC9BqK,KAAM,EACNvC,SAAWpN,GAAQ6N,EAAwB7N,EAAKzT,EAAG,iBAGvD,kBAAC0iB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,oBACvB,kBAACiK,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOkI,EAAK6b,SAAUN,QAAQY,SAC9BwJ,KAAM,EACNvC,SAAWpN,GAAQ6N,EAAwB7N,EAAKzT,EAAG,eAGvD,kBAAC0iB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,eACvB,kBAACmK,EAAAA,aAAYA,CACX9tB,MAAOkI,EAAK6b,SAAUC,WACtBsH,SAAWpyB,GAjQF,EAAC60B,EAAkBtjB,KAC9C,IAAIghB,EAAyBzrB,EAC7ByrB,EAAW3I,MAAMrY,GAAGsZ,SAAUC,WAAa+J,EAC3CzC,EAASG,EAAW,EA8PeuC,CAAqB90B,EAAEwyB,cAAcqC,QAAStjB,QAKvE,kBAACwiB,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACM,EAAAA,mBAAkBA,CAAC7J,MAAM,WACxB,kBAACsJ,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACC,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,cACvB,kBAACiK,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOkI,EAAKub,QAAQD,WACpBqK,KAAM,EACNvC,SAAWpN,GAAQ0N,EAAwB1N,EAAKzT,EAAG,iBAGvD,kBAAC0iB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,YACvB,kBAACiK,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOkI,EAAKub,QAAQY,SACpBwJ,KAAM,EACNvC,SAAWpN,GAAQ0N,EAAwB1N,EAAKzT,EAAG,kBAM7D,kBAACwiB,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACM,EAAAA,mBAAkBA,CAAC7J,MAAM,UACxB,kBAACsJ,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACC,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,SACvB,kBAAC+I,EAAAA,OAAMA,CACLpB,SAAWqB,IAjWD,EAACnH,EAA2B/a,KAC1D,IAAIghB,EAAyBzrB,EAC7ByrB,EAAW3I,MAAMrY,GAAGke,YAAcnD,EAClC8F,EAASG,EAAW,EA+VEwC,CAAwBtB,EAAIA,EAAE3sB,WAAQ7C,EAAWsN,EAAE,EAErDzK,MAAOusB,EAAYzhB,QAAO,CAACiB,EAAGtB,IAAMsB,IAAM7D,EAAKygB,cAAa,GAC5DrR,QAASiV,EAAYroB,KAAK8a,IACjB,CAAEhf,MAAOgf,EAAG2E,MAAO3E,MAE5B+N,YAAa,eACbC,aAAAA,MAIN,kBAACkB,EAAAA,YAAWA,CAAC9U,MAAO,OAAQjH,MAAO,CAAEqL,aAAc,QAAS,oBAE1D,kBAAC2Q,EAAAA,YAAWA,CACVlI,MAAO/d,EAAK0c,OAAOM,WACnBoG,SAAWrF,IACT,IAAIwF,EAAyBzrB,EAC7ByrB,EAAW3I,MAAMrY,GAAGma,OAAOM,WAAae,EACxCqF,EAASG,EAAW,OAM9B,kBAACwB,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACM,EAAAA,mBAAkBA,CAAC7J,MAAM,YACxB,kBAACsJ,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACC,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,oBACvB,kBAACmK,EAAAA,aAAYA,CAAC9tB,MAAOkI,EAAK4b,mBAAoBwH,SAAWpyB,GAjZjD,EAACA,EAAQuR,KACnC,IAAIghB,EAAyBzrB,EAC7ByrB,EAAW3I,MAAMrY,GAAGqZ,mBAAqB5qB,EAAEwyB,cAAcqC,QACzDzC,EAASG,EAAW,EA8Y6D2C,CAAoBl1B,EAAGuR,MAExF,kBAAC0iB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,0BACvB,kBAACmK,EAAAA,aAAYA,CAAC9tB,MAAOkI,EAAKqc,qBAAsB+G,SAAWpyB,GA9YnD,EAACA,EAAQuR,KACnC,IAAIghB,EAAyBzrB,EAC7ByrB,EAAW3I,MAAMrY,GAAG8Z,qBAAuBrrB,EAAEwyB,cAAcqC,QAC3DzC,EAASG,EAAW,EA2Y+D4C,CAAoBn1B,EAAGuR,MAE1F,kBAAC0iB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,4BACvB,kBAACmK,EAAAA,aAAYA,CAAC9tB,MAAOkI,EAAKkd,aAAckG,SAAWpyB,GA3YxC,EAACA,EAAsCuR,KACpE,IAAIghB,EAAyBzrB,EAC7ByrB,EAAW3I,MAAMrY,GAAG2a,aAAelsB,EAAEwyB,cAAcqC,QACnDtC,EAAW3I,MAAMrY,GAAGkZ,MAAQ,IAAM4H,EAClCD,EAASG,EAAW,EAuYuD6C,CAAuBp1B,EAAGuR,SAK3F,kBAACwiB,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACM,EAAAA,mBAAkBA,CAAC7J,MAAM,UACvB9oB,OAAO6B,KAAKwL,EAAK0c,QAAQ1gB,KAAKqqB,GAC7B,kBAACtB,EAAAA,eAAcA,CAACltB,IAAKwuB,GACnB,kBAACL,EAAAA,YAAWA,CAAC/b,MAAO,CAAEqL,aAAc,MAAOgR,cAAe,aAAcC,KAAM,aAC3EF,EAAU,UACX,kBAACJ,EAAAA,YAAWA,CACVlI,MAAO/d,EAAK0c,OAAO2J,GACnBjD,SAAWpyB,GA3YT,EAAC+sB,EAAexb,EAAWtG,KACnD,IAAIsnB,EAAyBzrB,EAC7ByrB,EAAW3I,MAAMrY,GAAGma,OAAOzgB,GAA4C8hB,EACvEqF,EAASG,EAAW,EAwYmBiD,CAAkBx1B,EAAGuR,EAAG8jB,SAKjD,kBAACI,EAAAA,OAAMA,CACLC,QAAQ,UACR/uB,KAAK,KACLkoB,QAAS,IA7YC,MAC1B,IAAI0D,EAAyBzrB,EAC7B,IAAK,IAAIkI,KAAQujB,EAAW3I,MAC1B5a,EAAK0c,OAAS,KAAKoH,EAAYpH,QAEjC0G,EAASG,EAAW,EAwYWoD,GACf1c,MAAO,CAAEmL,UAAW,SACrB,mBAKL,kBAAC2P,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACyB,EAAAA,OAAMA,CACLC,QAAQ,cACRnB,KAAK,YACL5tB,KAAK,KACLkoB,QAAS,IA9SN,CAACtd,IAClB,IAAIghB,EAAyBzrB,EAC7ByrB,EAAW7I,MAAQ6I,EAAW7I,MAAM9X,QAAQwY,IAC1C,IAAK,MAAMpb,KAAQob,EAAKR,MACtB,GAAI5a,EAAK2P,KAAO4T,EAAW3I,MAAMrY,GAAGoN,GAClC,OAAO,EAGX,OAAO,CAAI,IAEb4T,EAAW3I,MAAMjlB,OAAO4M,EAAG,GAC3B6gB,EAASG,EAAW,EAmSSqD,CAAWrkB,GAC1B0H,MAAO,CAAE4c,eAAgB,WAC1B,gBAOH,IAGR,kBAACJ,EAAAA,OAAMA,CAACC,QAAQ,YAAYnB,KAAK,OAAO5tB,KAAK,KAAKkoB,QA7WnC,KACjB,IAAI0D,EAAyBzrB,EAC7B,MAAMkI,EAAa,CACjB2P,GAAI6M,IACJxU,SAAU,EACPub,EAAWpI,SAAS8C,MAAMhG,OAAO5R,EAAIkd,EAAWpI,SAAS8C,MAAMI,UAAUnN,MAAQ,GACjFqS,EAAWpI,SAAS8C,MAAMhG,OAAO3R,EAAIid,EAAWpI,SAAS8C,MAAMI,UAAU3N,OAAS,GAErF+K,MAAO,aACPlB,QAAS,CACP,EAAG,CAAEC,SAAU,EAAGiC,eAAgB,GAClC,EAAG,CAAEjC,SAAU,EAAGiC,eAAgB,GAClC,EAAG,CAAEjC,SAAU,EAAGiC,eAAgB,GAClC,EAAG,CAAEjC,SAAU,EAAGiC,eAAgB,GAClC,EAAG,CAAEjC,SAAU,EAAGiC,eAAgB,IAEpCb,oBAAoB,EACpBS,sBAAsB,EACtBd,QAAS,CACPY,SAAU,EACVb,WAAY,IAEdoB,OACE6G,EAAW3I,MAAMtpB,OAAS,EACtBiyB,EAAW3I,MAAM,GAAG8B,OACpB,CACE1C,KAAMuC,EAAMG,OAAOC,UAAUC,aAC7BC,WAAYN,EAAMG,OAAOC,UAAUG,KACnCC,OAAQR,EAAMG,OAAOC,UAAUI,OAC/BC,WAAY,WAEpBnB,SAAU,CACRoB,IAAK,GACL9d,KAAM,GACNxH,KAAM,CACJuZ,MAAO,EACPR,OAAQ,GAEV6K,QAAS,CACPY,SAAU,EACVb,WAAY,GAEdQ,YAAY,GAEdoB,cAAc,GAEhBqG,EAAW3I,MAAMpiB,KAAKwH,GACtBojB,EAASG,GACTQ,EAAe/jB,EAAK,EA6TqD0K,UAAWoV,EAAOgH,QAAQ,YAGjG,kBAACL,EAAAA,OAAMA,CAACC,QAAQ,YAAYnB,KAAK,YAAY5tB,KAAK,KAAKkoB,QA/SxC,KACjB,IAAI0D,EAAyBzrB,EAC7ByrB,EAAW3I,MAAQ,GACnB2I,EAAW7I,MAAQ,GACnB0I,EAASG,EAAW,EA2S0D7Y,UAAWoV,EAAOiH,UAAU,eAOxGxH,GAAYC,EAAAA,EAAAA,gBAAc,KACvB,CACL4F,UAAW1F,EAAAA,GAAG;;MAGdoH,OAAQpH,EAAAA,GAAG;;;;;MAMXqH,SAAUrH,EAAAA,GAAG;;;;;MAMbkF,WAAYlF,EAAAA,GAAG;;MAGf+F,YAAa/F,EAAAA,GAAG;;MAGhBsF,UAAWtF,EAAAA,GAAG;;UC5hBLsH,EAAc,EAAGlI,WAE1B,kBAACwF,KAAAA,CACCra,MAAO,CACLsR,QAAS,mBACTnG,UAAW,OACXmP,UAAW,kDAGZzF,G,icCWA,MAAMmI,GAAYrtB,IACvB,MAAM,MAAE9B,EAAK,SAAEsrB,EAAQ,QAAE9K,GAAY1e,EAC/BkmB,EAASP,KAET2H,EAAiBC,IACrB,IAAIC,GAAa,EAMjB,OALAtvB,EAAM8iB,MAAM7X,SAAQ,CAAC/C,EAAMuC,KACrBvC,EAAK2P,KAAOwX,EAAGxX,KACjByX,EAAY7kB,EACd,IAEK6kB,CAAS,GAsIXC,EAAaC,IAAkBtD,EAAAA,EAAAA,UAAS,QAG/C,IAAIuD,EAAsC,GACtCC,EAAsC,GAC1C,IAAK,IAAIpM,KAAQtjB,EAAM4iB,MACjBU,EAAKR,MAAM,GAAGsC,cAChBqK,EAA0B/uB,KAAK4iB,EAAKR,MAAM,GAAGjL,IAE3CyL,EAAKR,MAAM,GAAGsC,cAChBsK,EAA0BhvB,KAAK4iB,EAAKR,MAAM,GAAGjL,IAIjD,IAAI8X,EAAsBF,EAA0B3kB,QAAQzR,GAAMq2B,EAA0B3M,SAAS1pB,KACjGu2B,EAAiB5vB,EAAM8iB,MAAMhY,QAAQzR,IAAOs2B,EAAoB5M,SAAS1pB,EAAEwe,MAE3E0U,EAAwB,GAS5B,OARA/L,EAAQ7gB,KAAKsL,SAAQ,CAAC+T,EAAGvU,KACvB,IACE8hB,EAAY7rB,KAAK0mB,EAAiBpI,EAAGwB,EAAQ7gB,MAC/C,CAAE,MAAOzG,GACPqX,QAAQC,KAAK,mEAAoEtX,EACnF,KAIA,kBAAC8P,IAAAA,SAAc,KACb,kBAACwjB,KAAAA,CACCra,MAAO,CACLsR,QAAS,mBACTnG,UAAW,OACXmP,UAAW,kDAEd,SAGD,kBAACC,EAAAA,OAAMA,CACLpB,SAAWqB,IACT6C,EAAe7C,EAAAA,EAEjB3sB,MAAOuvB,EACPjY,QAAStX,EAAM4iB,MACfgK,eAAiBtJ,I,IAAqCA,EAA2BA,E,OAAtDA,EAAKR,MAAMtpB,OAAS,EAAI,GAAgB,QAAb8pB,EAAAA,EAAKR,MAAM,UAAXQ,IAAAA,OAAAA,EAAAA,EAAeK,YAAyB,QAAbL,EAAAA,EAAKR,MAAM,UAAXQ,IAAAA,OAAAA,EAAAA,EAAeK,QAAU,EAAE,EAC5GkJ,eAAiBvJ,GAASA,EAAKzL,GAC/BjF,UAAWoV,EAAO8E,WAClBC,YAAa,gBACbC,aAAAA,IAGDhtB,EAAM4iB,MAAM1e,KAAI,CAACof,EAAY7Y,KAC5B,GAAI8kB,GAAejM,EAAKzL,KAAO0X,EAAY1X,GACzC,OACE,kBAAC7O,IAAAA,SAAc,CAACjJ,IAAKujB,EAAKzL,IACvBhd,OAAOiuB,OAAOxF,EAAKN,OAAO9e,KAAI,CAAC2rB,EAAgBC,K,IAU/BxM,EATf,MAAMyM,EAAiC,IAAdD,EAAkB,IAAM,IACjD,OACE,kBAAC9mB,IAAAA,SAAc,CAACjJ,IAAK+vB,GACnB,kBAACZ,EAAWA,CAAClI,MAAO+I,EAAQ,kBAC5B,kBAAC5C,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,GAAGoM,SAAclM,WAAY,QACpD,kBAAC6I,EAAAA,OAAMA,CACLpB,SAAWqB,IAtKR,EAACzkB,EAAY2nB,EAAiBplB,KACrD,IAAIghB,EAAyBzrB,EAC7B,MAAMsvB,EAAYF,EAAclnB,GAGhC,GADAujB,EAAW3I,MAAMwM,GAAW7M,QAAQgJ,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAM3M,QAAQR,WAC/D,MAATmN,EAAc,CAChB,MAAMG,EAAKZ,EAAc3D,EAAW7I,MAAMnY,GAAGqY,MAAM,IACnD2I,EAAW3I,MAAMkN,GAAIvN,QAAQgJ,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAM3M,QAAQR,WACrE+I,EAAW7I,MAAMnY,GAAGqY,MAAM,GAAK2I,EAAW3I,MAAMwM,EAClD,MAAO,GAAa,MAATO,EAAc,CACvB,MAAMG,EAAKZ,EAAc3D,EAAW7I,MAAMnY,GAAGqY,MAAM,IACnD2I,EAAW3I,MAAMkN,GAAIvN,QAAQgJ,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAM3M,QAAQR,WACrE+I,EAAW7I,MAAMnY,GAAGqY,MAAM,GAAK2I,EAAW3I,MAAMwM,EAClD,CACAhE,EAASG,EAAW,EAyJEwE,CAAiBtD,EAAsBoD,EAAOtlB,EAAE,EAElDzK,OAA4B,QAArBsjB,EAAAA,EAAKR,MAAMgN,UAAXxM,IAAAA,OAAAA,EAAAA,EAAuBK,QAAS,WACvCrM,QAASsY,EACThD,eAAiB1kB,I,IAASA,E,OAAAA,QAAAA,EAAAA,SAAAA,IAAAA,OAAAA,EAAAA,EAAMyb,QAAS,UAAU,EACnDkJ,eAAiB3kB,GAASA,EAAK2P,GAC/BjF,UAAWoV,EAAO8E,WAClBC,YAAa,UAAUgD,SACvBG,aAAc5M,EAAKR,MAAMgN,MAG5B,EAAMhN,MAAM,GAAGsC,cAA0B,MAAV2K,GAC/BzM,EAAKR,MAAM,GAAGsC,cAA0B,MAAV2K,GAC9BzM,EAAKR,MAAM,GAAGsC,cAAgB9B,EAAKR,MAAM,GAAGsC,aAC3C,GAEA,kBAAC+H,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,GAAGoM,eAAoBlM,WAAY,QAC1D,kBAAC6I,EAAAA,OAAMA,CACLpB,SAAWqB,IAxKV,EAACkD,EAAiBplB,EAAW0lB,KACpD,IAAI1E,EAAyBzrB,EAC7ByrB,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAMrK,MAAQ2K,EACxC7E,EAASG,EAAW,EAsKI2E,CAAiBL,EAAOtlB,EAAGkiB,EAAIA,EAAE3sB,WAAQ7C,EAAU,EAIrD6C,MAAOusB,EAAYzhB,QAAQiB,GAAMA,IAAM8jB,EAAKrK,QAAO,GACnDlO,QAASiV,EAAYroB,KAAK8a,IACjB,CAAEhf,MAAOgf,EAAG2E,MAAO3E,MAE5BpM,UAAWoV,EAAOqI,YAClBtD,YAAa,UAAUgD,eACvB/C,aAAAA,KAIL,EAAMlK,MAAM,GAAGsC,cAA0B,MAAV2K,GAC/BzM,EAAKR,MAAM,GAAGsC,cAA0B,MAAV2K,GAC9BzM,EAAKR,MAAM,GAAGsC,cAAgB9B,EAAKR,MAAM,GAAGsC,aAC3C,GAEA,kBAACpc,IAAAA,SAAc,KACb,kBAACmkB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,GAAGoM,gBAAqB5d,MAAO,CAAEiH,MAAO,SAC/D,kBAACiU,EAAAA,MAAKA,CACJrtB,MAAO6vB,EAAKvK,UACZgG,SAAWpyB,GA3OP,EAAC4yB,EAAarhB,EAAWolB,KACrD,IAAIpE,EAAyBzrB,EAC7ByrB,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAMvK,UAAYwG,EAC5CL,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAMtK,oBAAiBpoB,EACjDmuB,EAASG,EAAW,EAuOqB6E,CAAsBp3B,EAAEwyB,cAAcC,cAAelhB,EAAGslB,GACzEhD,YAAa,uBACb5oB,KAAM,SACNyO,UAAWoV,EAAOsF,UAClBjmB,KAAM,GAAG0oB,gBAGb,kBAAC5C,EAAAA,YAAWA,CACVC,MAAAA,EACAzJ,MAAO,GAAGoM,oBACV5d,MAAO,CAAEiH,MAAO,QAChByK,WAAY,QAEZ,kBAAC6I,EAAAA,OAAMA,CACLpB,SAAWqB,IAlPF,EAACtF,EAA2B5c,EAAWolB,KACxE,IAAIpE,EAAyBzrB,EAC7ByrB,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAMvK,UAAY,EAC5CmG,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAMtK,eAAiB8B,EACjDiE,EAASG,EAAW,EA+OM8E,CAA2B5D,EAAIA,EAAE3sB,WAAQ7C,EAAWsN,EAAGslB,EAAM,EAE/D/vB,MAAOusB,EAAYzhB,QAAQiB,GAAMA,IAAM8jB,EAAKtK,iBAAgB,GAC5DjO,QAASiV,EAAYroB,KAAK8a,IACjB,CAAEhf,MAAOgf,EAAG2E,MAAO3E,MAE5BpM,UAAWoV,EAAOwI,gBAClBzD,YAAa,mBACbC,aAAAA,KAGJ,kBAACG,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,GAAGoM,mBAAwB5d,MAAO,CAAEiH,MAAO,SAClE,kBAACwU,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,IACL0B,MAAO6vB,EAAKpK,YACZ6F,SAAWqB,IAzNL,EAAC8D,EAAahmB,EAAWolB,KACvD,IAAIpE,EAAyBzrB,EAC7ByrB,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAMpK,YAAcgL,EAC9CnF,EAASG,EAAW,EAuNMiF,CAAwB/D,EAAGliB,EAAGslB,EAAM,KAI1C,kBAAC5C,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,GAAGoM,sBAA2B5d,MAAO,CAAEiH,MAAO,SACrE,kBAACsT,EAAAA,OAAMA,CACLpB,SAAWqB,IAnQV,EAACzJ,EAAgBzY,EAAWolB,KACrD,IAAIpE,EAAyBzrB,EAC7B,MAAMsvB,EAAYF,EAAc3D,EAAW7I,MAAMnY,GAAGqY,MAAe,MAAT+M,EAAe,EAAI,IAG7EpE,EAAW3I,MAAMwM,GAAW7M,QAAQgJ,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAM3M,QAAQR,WAC5E+I,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAM3M,OAASA,EAEzCuI,EAAW3I,MAAMwM,GAAW7M,QAAQgJ,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAM3M,QAAQR,WAC5E4I,EAASG,EAAW,EA2PMkF,CAAmBhE,EAAE3sB,MAAQ2sB,EAAE3sB,MAAQ,EAAGyK,EAAGslB,EAAM,EAErD/vB,MAAO,CAAE2jB,MAAOtE,EAAOwQ,EAAK3M,QAASljB,MAAO6vB,EAAK3M,QACjD5L,QAASzc,OAAO6B,KAAK2iB,GAClBtc,MAAM,GACNmB,KAAI,CAAC0sB,EAAInmB,KACD,CAAEkZ,MAAOtE,EAAO5U,GAAIzK,MAAOyK,MAEtCmI,UAAWoV,EAAOwI,gBAClBzD,YAAa,mBAGjB,kBAACI,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,GAAGoM,mBAAwB5d,MAAO,CAAEiH,MAAO,SAClE,kBAACiU,EAAAA,MAAKA,CACJrtB,MAAO6vB,EAAKnK,cACZ4F,SAAWpyB,GA1OH,EAACu3B,EAAahmB,EAAWolB,KACzD,IAAIpE,EAAyBzrB,EAC7ByrB,EAAW7I,MAAMnY,GAAGuY,MAAM6M,GAAMnK,cAAgB+K,EAChDnF,EAASG,EAAW,EAuOqB8B,CAA0Br0B,EAAEwyB,cAAc1rB,MAAOyK,EAAGslB,GACrEhD,YAAa,0BACb5oB,KAAM,OACNyO,UAAWoV,EAAOsF,UAClBjmB,KAAM,GAAG0oB,qB,IAQvB,kBAACb,EAAWA,CAAClI,MAAM,iBACnB,kBAACiG,EAAAA,eAAcA,CAACra,UAAWoV,EAAO6I,MAChC,kBAAC1D,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,aAAcxR,MAAO,CAAEiH,MAAO,SACrD,kBAAC0X,EAAAA,WAAUA,CACTxF,SAAWmF,IACT,IAAIlO,EAAKviB,EACTuiB,EAAGK,MAAMnY,GAAGkb,MAAQ8K,EACpBnF,EAAS/I,EAAG,EAEdviB,MAAOsjB,EAAKqC,UAIlB,kBAACwH,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,iCACvB,kBAACmK,EAAAA,aAAYA,CACX9tB,MAAOsjB,EAAKuC,yBACZyF,SAAWpyB,IACT,IAAIqpB,EAAKviB,EACTuiB,EAAGK,MAAMnY,GAAGob,yBAA2B3sB,EAAEwyB,cAAcqC,QACvDzC,EAAS/I,EAAG,KAIlB,kBAACiL,EAAAA,mBAAkBA,CAAC7J,MAAM,oBACxB,kBAACwJ,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,oBAAoB/Q,UAAWoV,EAAO2F,aAC5D,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOsjB,EAAKF,OACZyK,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQsL,MAAMnY,GAAG2Y,OAASlF,EAC1BoN,EAAShU,EAAQ,KAItBgM,EAAKR,MAAM,GAAGsC,aACb,GAEA,kBAACpc,IAAAA,SAAc,KACb,kBAACmkB,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,cAAc/Q,UAAWoV,EAAO2F,aACtD,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOsjB,EAAKsC,OAAOxM,MACnByU,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQsL,MAAMnY,GAAGmb,OAAOxM,MAAQ8E,EAChCoN,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,eAAe/Q,UAAWoV,EAAO2F,aACvD,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOsjB,EAAKsC,OAAOhN,OACnBiV,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQsL,MAAMnY,GAAGmb,OAAOhN,OAASsF,EACjCoN,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,eAAe/Q,UAAWoV,EAAO2F,aACvD,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOsjB,EAAKsC,OAAOzF,OACnB0N,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQsL,MAAMnY,GAAGmb,OAAOzF,OAASjC,EACjCoN,EAAShU,EAAQ,MAM3B,kBAACqX,EAAAA,OAAMA,CACLC,QAAQ,UACR/uB,KAAK,KACLkoB,QAAS,KACP,IAAI0D,EAAyBzrB,EAC7B,IAAK,IAAIsjB,KAAQmI,EAAW7I,MAC1BU,EAAKsC,OAAS,MAAK2J,EAAY3J,QAC/BtC,EAAKF,OAASmM,EAAYnM,OAE5BkI,EAASG,EAAW,EAEtBtZ,MAAO,CAAEmL,UAAW,SACrB,kBAIH,kBAAC2P,EAAAA,eAAcA,CAACra,UAAWoV,EAAO+I,KAChC,kBAACpC,EAAAA,OAAMA,CAACC,QAAQ,cAAcnB,KAAK,YAAY5tB,KAAK,KAAKkoB,QAAS,IA1S7D,CAACtd,IAClB,IAAIghB,EAAyBzrB,EACzBgxB,EAAWvF,EAAW7I,MAAMnY,GAChC,IAAK,IAAIA,EAAI,EAAGA,EAAIghB,EAAW3I,MAAMtpB,OAAQiR,IACvCghB,EAAW3I,MAAMrY,GAAGoN,KAAOmZ,EAASlO,MAAM,GAAGjL,GAC/C4T,EAAW3I,MAAMrY,GAAGgY,QAAQuO,EAAShO,MAAMC,EAAEC,QAAQR,WAC5C+I,EAAW3I,MAAMrY,GAAGoN,KAAOmZ,EAASlO,MAAM,GAAGjL,IACtD4T,EAAW3I,MAAMrY,GAAGgY,QAAQuO,EAAShO,MAAMG,EAAED,QAAQR,WAGzD+I,EAAW7I,MAAM/kB,OAAO4M,EAAG,GAC3B6gB,EAASG,EAAW,EA+RgEwF,CAAWxmB,GAAImI,UAAW,IAAI,gBAOxG,IAGR,kBAAC+b,EAAAA,OAAMA,CAACC,QAAQ,YAAYnB,KAAK,OAAO5tB,KAAK,KAAKkoB,QA7VnC,KACjB,GAA2B,IAAvB/nB,EAAM8iB,MAAMtpB,OACd,MAAM,IAAI4N,MAAM,8CAElB,IAAIqkB,EAAyBzrB,EAC7B,MAAMsjB,EAAa,CACjBzL,GAAI6M,IACJ5B,MAAO,CAAC9iB,EAAM8iB,MAAM,GAAI9iB,EAAM8iB,MAAM,IACpCE,MAAO,CACLC,EAAG,CACDqC,UAAW,EACXC,oBAAgBpoB,EAChBqoB,WAAOroB,EACPsoB,YAAa,GACbvC,OAAQ7D,EAAOC,OACfoG,cAAe,IAEjBvC,EAAG,CACDmC,UAAW,EACXC,oBAAgBpoB,EAChBqoB,WAAOroB,EACPsoB,YAAa,GACbvC,OAAQ7D,EAAOC,OACfoG,cAAe,KAGnBC,WAAOxoB,EACPimB,OAAQ,EACRwC,OAAQ,CACNxM,MAAO,EACPR,OAAQ,GACRuH,OAAQ,GAEV0F,0BAA0B,GAE5B4F,EAAW3I,MAAM,GAAGL,QAAQpD,EAAOC,QAAQoD,UAAY,EACvD+I,EAAW7I,MAAMliB,KAAK4iB,GACtBgI,EAASG,GACT+D,EAAelM,EAAK,EAuTqD1Q,UAAWoV,EAAOgH,QAAQ,YAGjG,kBAACL,EAAAA,OAAMA,CAACC,QAAQ,YAAYnB,KAAK,YAAY5tB,KAAK,KAAKkoB,QAzSxC,KACjB,IAAI0D,EAAyBzrB,EAC7ByrB,EAAW7I,MAAQ,GACnB,IAAK,IAAInY,EAAI,EAAGA,EAAIghB,EAAW3I,MAAMtpB,OAAQiR,IAC3CghB,EAAW3I,MAAMrY,GAAGgY,QAAU,CAC5B,EAAG,CAAEC,SAAU,EAAGiC,eAAgB,GAClC,EAAG,CAAEjC,SAAU,EAAGiC,eAAgB,GAClC,EAAG,CAAEjC,SAAU,EAAGiC,eAAgB,GAClC,EAAG,CAAEjC,SAAU,EAAGiC,eAAgB,GAClC,EAAG,CAAEjC,SAAU,EAAGiC,eAAgB,IAGtC7iB,EAAMwpB,SAASG,EAAW,EA6RoD7Y,UAAWoV,EAAOiH,UAAU,eAOxGxH,IAAYC,EAAAA,EAAAA,gBAAc,KACvB,CACL4F,UAAW1F,EAAAA,GAAG;;MAGdoH,OAAQpH,EAAAA,GAAG;;;;;MAMXqH,SAAUrH,EAAAA,GAAG;;;;;MAMbkF,WAAYlF,EAAAA,GAAG;;MAGf4I,gBAAiB5I,EAAAA,GAAG;;MAGpByI,YAAazI,EAAAA,GAAG;;MAGhBmJ,IAAKnJ,EAAAA,GAAG;;;;;MAMRiJ,KAAMjJ,EAAAA,GAAG;;;MAIT+F,YAAa/F,EAAAA,GAAG,OCpePsJ,GAAapvB,IACxB,MAAM2iB,GAAQ4F,EAAAA,EAAAA,aACRrC,EAASP,GAAUhD,IAEnB,MAAEzkB,EAAK,SAAEsrB,GAAaxpB,GAgDrBqvB,EAAgBC,IAAqBlF,EAAAA,EAAAA,UAASlsB,EAAM4R,OAE3D,OACE,kBAAC5I,IAAAA,SAAc,KACb,kBAACwjB,KAAAA,CACCra,MAAO,CACLsR,QAAS,mBACTnG,UAAW,OACXmP,UAAW,kDAEd,eAGA0E,EAAejtB,KAAI,CAAC+iB,EAAWxc,IAC9B,kBAAC4iB,EAAAA,MAAKA,CACJza,UAAWoV,EAAOqJ,KAClBltB,KAAK,SACL0pB,KAAK,SACL9tB,IAAK0K,EACL6gB,SAAWpyB,IACTk4B,GAAmBE,IACjB,IAAIn4B,EAAIm4B,EAER,OADAn4B,EAAEsR,GAAG0c,QAAUjuB,EAAEwyB,cAAcC,cACxBxyB,CAAC,IAEVmyB,EAAStrB,EAAM,EAEjBA,MAAOmxB,EAAe1mB,GAAG0c,QACzBoK,aAAY,wBAAwBtK,EAAUE,UAC9CqK,OAASt4B,GA3EU,EAACA,EAAQu4B,KAClC,IAAIhG,EAAyBzrB,EAC7ByrB,EAAW7Z,MAAM6f,GAActK,QAAUjuB,EAAEwyB,cAAcC,cACzDF,EAAW7Z,MAAM8f,MAAK,CAAC1T,EAAG2T,IAAM3T,EAAEmJ,QAAUwK,EAAExK,UAC9CmE,EAASG,GACT2F,EAAkB3F,EAAW7Z,MAAM,EAsEdggB,CAAmB14B,EAAGuR,GACrCmR,OACE,kBAAC2O,MAAAA,CAAI3X,UAAWoV,EAAO6J,aACrB,kBAACtH,MAAAA,CAAI3X,UAAWoV,EAAO8J,aACrB,kBAAC3D,EAAAA,YAAWA,CAAClI,MAAOgB,EAAUhB,MAAOqF,SAAWrF,GAvEpC,EAACA,EAAY9mB,KACrC,IAAIssB,EAAyBzrB,EAC7ByrB,EAAW7Z,MAAMzS,GAAO8mB,MAAQA,EAChCqF,EAASG,GACT2F,EAAkB3F,EAAW7Z,MAAM,EAmEmC8c,CAAkBzI,EAAOxb,OAIzFsnB,OAAQ,kBAACC,EAAAA,KAAIA,CAACpf,UAAWoV,EAAOiK,UAAW5qB,KAAK,YAAY0gB,QAAS,IA5CjD,CAAC0J,IAC3B,IAAIhG,EAAyBzrB,EAC7ByrB,EAAW7Z,MAAM/T,OAAO4zB,EAAc,GACtCnG,EAASG,GACT2F,EAAkB3F,EAAW7Z,MAAM,EAwC8CsgB,CAAoBznB,SAInG,kBAACkkB,EAAAA,OAAMA,CAACC,QAAQ,YAAYnB,KAAK,OAAO5tB,KAAK,KAAKkoB,QAxElC,KAClB,IAAI0D,EAAyBzrB,EACF,IAAvBA,EAAM4R,MAAMpY,OACdiyB,EAAW7Z,MAAMlR,KAAK,CACpBymB,QAAS,EACTlB,MAAO,YAGTwF,EAAW7Z,MAAMlR,KAAK,CACpBymB,QAASsE,EAAW7Z,MAAM6Z,EAAW7Z,MAAMpY,OAAS,GAAG2tB,QAAU,GACjElB,MAAO,YAGXqF,EAASG,GACT2F,EAAkB3F,EAAW7Z,MAAM,EA0DuCgB,UAAWoV,EAAOgH,QAAQ,mBAGlG,kBAACL,EAAAA,OAAMA,CAACC,QAAQ,YAAYnB,KAAK,YAAY5tB,KAAK,KAAKkoB,QA1DvC,KAClB,IAAI0D,EAAyBzrB,EAC7ByrB,EAAW7Z,MAAQ,GACnB0Z,EAASG,GACT2F,EAAkB3F,EAAW7Z,MAAM,EAsD4CgB,UAAWoV,EAAOiH,UAAU,eAOzGxH,IAAYC,EAAAA,EAAAA,gBAAejD,IACxB,CACL6I,UAAW1F,EAAAA,GAAG;;MAGdoH,OAAQpH,EAAAA,GAAG;;;;;MAMXqH,SAAUrH,EAAAA,GAAG;;;;;MAMbkF,WAAYlF,EAAAA,GAAG;;MAGfiK,YAAajK,EAAAA,GAAG;;;MAIhBkK,YAAalK,EAAAA,GAAG;mBACDnD,EAAMlB,QAAQ;;4BAELkB,EAAMG,OAAOK,OAAOkN;;MAG5CF,UAAWrK,EAAAA,GAAG;eACHnD,EAAMG,OAAO/C,KAAKgD;;;iBAGhBJ,EAAMG,OAAO/C,KAAKwE;;MAG/BgL,KAAMzJ,EAAAA,GAAG;uBACUnD,EAAMlB,QAAQ;;;;UCjIxB6O,GAAY,EAAGpyB,QAAOsrB,eACjC,MAAMtD,EAASP,IAAU4C,EAAAA,EAAAA,cAazB,OAAIrqB,EAEA,kBAACgJ,IAAAA,SAAc,KACb,kBAACkmB,EAAWA,CAAClI,MAAM,UACnB,kBAACmG,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,cAAc/Q,UAAWoV,EAAO2F,aACtD,kBAAC3kB,IAAAA,SAAc,OAEjB,kBAACklB,EAAAA,YAAWA,CAAC9U,MAAO,OAAQjH,MAAO,CAAEqL,aAAc,MAAOJ,WAAY,SAAU,WAE9E,kBAAC+Q,EAAAA,YAAWA,CACVlI,MACEjmB,EAAMqjB,SAAS8C,MAAMC,gBAAgBvF,WAAW,SAC5C7gB,EAAMqjB,SAAS8C,MAAMC,gBAAgBtF,MAAM,IAAK,GAAG,GACnD9gB,EAAMqjB,SAAS8C,MAAMC,gBAE3BkF,SA1BiBrF,IACzB,IAAI3O,EAAUtX,GACTimB,EAAMpF,WAAW,UAAYvJ,EAAQ+L,SAAS8C,MAAMC,gBAAgBvF,WAAW,SAClFvJ,EAAQ+L,SAAS8C,MAAMC,gBACrB,SAAWH,EAAQ,IAAM3O,EAAQ+L,SAAS8C,MAAMC,gBAAgBtF,MAAM,IAAK,GAAG,GAEhFxJ,EAAQ+L,SAAS8C,MAAMC,gBAAkBH,EAE3CqF,EAAShU,EAAQ,KAqBb,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,WAAYxR,MAAO,CAAEqL,aAAc,MAAOJ,WAAY,SAC5Epd,EAAMqjB,SAAS8C,MAAMkM,gBACpB,kBAAC1D,EAAAA,OAAMA,CACLC,QAAQ,cACR/uB,KAAK,KACL4tB,KAAK,YACL1F,QAAS,KACP,IAAKuK,QAAQ,sDACX,OAEF,IAAIhb,EAAUtX,EACdsX,EAAQ+L,SAAS8C,MAAMkM,qBAAkBl1B,EACzCmuB,EAAShU,EAAQ,EAEnBnF,MAAO,CAAE4c,eAAgB,YAG3B,kBAACJ,EAAAA,OAAMA,CACL5G,QAAS,KACP,IAAIzQ,EAAUtX,EACdsX,EAAQ+L,SAAS8C,MAAMkM,gBAAkB,CACvCE,IAAK,GACLC,IAAK,WAEPlH,EAAShU,EAAQ,EAEnBmW,KAAK,OACLtb,MAAO,CAAE4c,eAAgB,aAI9B/uB,EAAMqjB,SAAS8C,MAAMkM,gBACpB,oCACE,kBAAClF,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,eAAe/Q,UAAWoV,EAAO2F,YAAaxb,MAAO,CAAEiL,WAAY,SACzF,kBAACiQ,EAAAA,MAAKA,CACJrtB,MAAOA,EAAMqjB,SAAS8C,MAAMkM,gBAAgBE,IAC5CxF,YAAa,qCACb5oB,KAAM,OACNkD,KAAM,aACNikB,SAAWpyB,IACT,IAAIoe,EAAUtX,EACVsX,EAAQ+L,SAAS8C,MAAMkM,kBACzB/a,EAAQ+L,SAAS8C,MAAMkM,gBAAgBE,IAAMr5B,EAAEwyB,cAAc1rB,OAE/DsrB,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,YAAY/Q,UAAWoV,EAAO2F,YAAaxb,MAAO,CAAEiL,WAAY,SACtF,kBAACsP,EAAAA,OAAMA,CACLpB,SAAWqB,IACT,IAAIrV,EAAUtX,EACVsX,EAAQ+L,SAAS8C,MAAMkM,kBACzB/a,EAAQ+L,SAAS8C,MAAMkM,gBAAgBG,IAAM7F,EAAE3sB,MAAQ2sB,EAAE3sB,MAAQ,WAEnEsrB,EAAShU,EAAQ,EAEnBtX,MAAOA,EAAMqjB,SAAS8C,MAAMkM,gBAAgBG,IAC5Clb,QAAS,CAAC,UAAW,QAAS,QAAQpT,KAAKuuB,IAClC,CAAE9O,MAAO8O,EAAGzyB,MAAOyyB,MAE5B1F,YAAa,uBAKnB,GAEF,kBAACI,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,qBAAqB/Q,UAAWoV,EAAO2F,aAC7D,kBAACN,EAAAA,MAAKA,CACJrtB,MAAOA,EAAMqjB,SAAS8C,MAAMI,UAAUnN,MACtC2T,YAAa,cACb5oB,KAAM,SACNkD,KAAM,aACNikB,SAAWpyB,IACT,IAAIoe,EAAUtX,EACdsX,EAAQ+L,SAAS8C,MAAMI,UAAUnN,MAAQlgB,EAAEwyB,cAAcC,cACzDL,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,sBAAsB/Q,UAAWoV,EAAO2F,aAC9D,kBAACN,EAAAA,MAAKA,CACJrtB,MAAOA,EAAMqjB,SAAS8C,MAAMI,UAAU3N,OACtCmU,YAAa,eACb5oB,KAAM,SACNkD,KAAM,cACNikB,SAAWpyB,IACT,IAAIoe,EAAUtX,EACdsX,EAAQ+L,SAAS8C,MAAMI,UAAU3N,OAAS1f,EAAEwyB,cAAcC,cAC1DL,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,aAAa/Q,UAAWoV,EAAO2F,aACrD,kBAACN,EAAAA,MAAKA,CACJrtB,MAAOA,EAAMqjB,SAAS8C,MAAMK,UAC5BuG,YAAa,aACb5oB,KAAM,SACNmnB,SAAWpyB,IACT,IAAIoe,EAAUtX,EACdsX,EAAQ+L,SAAS8C,MAAMK,UAAYttB,EAAEwyB,cAAcC,cACnDL,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,gBAAgB/Q,UAAWoV,EAAO2F,aACxD,kBAACN,EAAAA,MAAKA,CACJrtB,MAAOA,EAAMqjB,SAAS8C,MAAMhG,OAAO5R,EACnCwe,YAAa,WACb5oB,KAAM,SACNmnB,SAAWpyB,IACT,IAAIoe,EAAUtX,EACdsX,EAAQ+L,SAAS8C,MAAMhG,OAAO5R,EAAIrV,EAAEwyB,cAAcC,cAClDL,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,gBAAgB/Q,UAAWoV,EAAO2F,aACxD,kBAACN,EAAAA,MAAKA,CACJrtB,MAAOA,EAAMqjB,SAAS8C,MAAMhG,OAAO3R,EACnCue,YAAa,WACb5oB,KAAM,SACNmnB,SAAWpyB,IACT,IAAIoe,EAAUtX,EACdsX,EAAQ+L,SAAS8C,MAAMhG,OAAO3R,EAAItV,EAAEwyB,cAAcC,cAClDL,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,qBACvB,kBAACmK,EAAAA,aAAYA,CACX9tB,MAAOA,EAAMqjB,SAAS8C,MAAMG,cAC5BgF,SAAWpyB,IACT,IAAIqpB,EAAKviB,EACTuiB,EAAGc,SAAS8C,MAAMG,cAAgBptB,EAAEwyB,cAAcqC,QAClDzC,EAAS/I,EAAG,KAIlB,kBAAC2M,EAAWA,CAAClI,MAAM,iBACnB,kBAACmG,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,uCACvB,kBAACmK,EAAAA,aAAYA,CACX9tB,MAAOA,EAAMqjB,SAASC,KAAK4C,sBAC3BoF,SAAWpyB,IACT,IAAIqpB,EAAKviB,EACTuiB,EAAGc,SAASC,KAAK4C,sBAAwBhtB,EAAEwyB,cAAcqC,QACzDzC,EAAS/I,EAAG,KAIlB,kBAAC4K,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,sBACvB,kBAACmN,EAAAA,WAAUA,CACTxF,SAAWmF,IACT,IAAIlO,EAAKviB,EACTuiB,EAAGc,SAASC,KAAKoP,aAAejC,EAChCnF,EAAS/I,EAAG,EAEdviB,MAAOA,EAAMqjB,SAASC,KAAKoP,aAAe1yB,EAAMqjB,SAASC,KAAKoP,aAAe,SAGjF,kBAACvF,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAO,oCACvB,kBAACgL,EAAAA,OAAMA,CACLC,QAAQ,cACR/uB,KAAK,KACL4tB,KAAK,YACL1F,QAAS,KACP,IAAKuK,QAAQ,kDACX,OAEF,IAAIhb,EAAUtX,EACd,IAAK,IAAI6iB,KAAKvL,EAAQsL,MACpBC,EAAE8C,WAAQxoB,EAEZmuB,EAAShU,EAAQ,EAEnBnF,MAAO,CAAE4c,eAAgB,aAI7B,kBAACb,EAAAA,YAAWA,CAAC9U,MAAM,OAAOjH,MAAO,CAAEqL,aAAc,QAAS,cAExD,kBAAC2Q,EAAAA,YAAWA,CACVlI,MAAOjmB,EAAMqjB,SAASC,KAAKF,OAAO6C,MAClCqF,SAAWrF,IACT,IAAI3O,EAAUtX,EACdsX,EAAQ+L,SAASC,KAAKF,OAAO6C,MAAQA,EACrCqF,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,0BAA0B/Q,UAAWoV,EAAO2F,aAClE,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOA,EAAMqjB,SAASC,KAAKC,QAAQC,WACnCqK,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAASC,KAAKC,QAAQC,WAAatF,EAC3CoN,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,wBAAwB/Q,UAAWoV,EAAO2F,aAChE,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOA,EAAMqjB,SAASC,KAAKC,QAAQc,SACnCwJ,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAASC,KAAKC,QAAQc,SAAWnG,EACzCoN,EAAShU,EAAQ,KAIvB,kBAAC4W,EAAAA,YAAWA,CAAC9U,MAAM,OAAOjH,MAAO,CAAEqL,aAAc,QAAS,0BAExD,kBAAC2Q,EAAAA,YAAWA,CACVlI,MAAOjmB,EAAMqjB,SAASC,KAAKK,MAAMoB,WACjCuG,SAAWrF,IACT,IAAI3O,EAAUtX,EACdsX,EAAQ+L,SAASC,KAAKK,MAAMoB,WAAakB,EACzCqF,EAAShU,EAAQ,KAIvB,kBAAC4W,EAAAA,YAAWA,CAAC9U,MAAM,OAAOjH,MAAO,CAAEqL,aAAc,QAAS,sBAExD,kBAAC2Q,EAAAA,YAAWA,CACVlI,MAAOjmB,EAAMqjB,SAASC,KAAKK,MAAMsB,OACjCqG,SAAWrF,IACT,IAAI3O,EAAUtX,EACdsX,EAAQ+L,SAASC,KAAKK,MAAMsB,OAASgB,EACrCqF,EAAShU,EAAQ,KAIvB,kBAAC4W,EAAAA,YAAWA,CAAC9U,MAAM,OAAOjH,MAAO,CAAEqL,aAAc,QAAS,oBAExD,kBAAC2Q,EAAAA,YAAWA,CACVlI,MAAOjmB,EAAMqjB,SAASC,KAAKK,MAAMzB,KACjCoJ,SAAWrF,IACT,IAAI3O,EAAUtX,EACdsX,EAAQ+L,SAASC,KAAKK,MAAMzB,KAAO+D,EACnCqF,EAAShU,EAAQ,KAIvB,kBAAC4X,EAAWA,CAAClI,MAAM,kBAEnB,kBAACkI,EAAWA,CAAClI,MAAM,iBACnB,kBAACiG,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACC,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,4BAA4B/Q,UAAWoV,EAAO2F,aACpE,kBAACG,EAAAA,aAAYA,CACX9tB,MAAOA,EAAMqjB,SAAS8C,MAAMpQ,KAAK0Q,QACjC6E,SAAWpyB,IACT,IAAIqpB,EAAKviB,EACTuiB,EAAGc,SAAS8C,MAAMpQ,KAAK0Q,QAAUvtB,EAAEwyB,cAAcqC,QACjDxL,EAAGc,SAAS8C,MAAMpQ,KAAK2Q,eAAgB,EACvC4E,EAAS/I,EAAG,KAIjBviB,EAAMqjB,SAAS8C,MAAMpQ,KAAK0Q,QACzB,kBAAC0G,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,iBAAiB/Q,UAAWoV,EAAO2F,aACzD,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOA,EAAMqjB,SAAS8C,MAAMpQ,KAAKlW,KACjCguB,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAAS8C,MAAMpQ,KAAKlW,KAAOqe,EACnCoN,EAAShU,EAAQ,KAKvB,IAGHtX,EAAMqjB,SAAS8C,MAAMpQ,KAAK0Q,QACzB,kBAACwG,EAAAA,eAAcA,CAACra,UAAWoV,EAAOkF,WAChC,kBAACC,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,cAAc/Q,UAAWoV,EAAO2F,aACtD,kBAACG,EAAAA,aAAYA,CACX9tB,MAAOA,EAAMqjB,SAAS8C,MAAMpQ,KAAK2Q,cACjC4E,SAAWpyB,IACT,IAAIqpB,EAAKviB,EACTuiB,EAAGc,SAAS8C,MAAMpQ,KAAK2Q,cAAgBxtB,EAAEwyB,cAAcqC,QACvDzC,EAAS/I,EAAG,MAMpB,GAEF,kBAAC2M,EAAWA,CAAClI,MAAM,iBACnB,kBAACmG,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,iBAAiB/Q,UAAWoV,EAAO2F,aACzD,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOA,EAAMqjB,SAASe,WAAWlc,KACjC2lB,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAASe,WAAWlc,KAAOgW,EACnCoN,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,iBAAiB/Q,UAAWoV,EAAO2F,aACzD,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOA,EAAMqjB,SAASe,WAAWd,KACjCuK,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAASe,WAAWd,KAAOpF,EACnCoN,EAAShU,EAAQ,KAIvB,kBAAC4X,EAAWA,CAAClI,MAAM,oBACnB,kBAACkH,EAAAA,YAAWA,CAAC9U,MAAO,OAAQjH,MAAO,CAAEqL,aAAc,QAAS,oBAE1D,kBAAC2Q,EAAAA,YAAWA,CACVlI,MAAOjmB,EAAMqjB,SAASsD,QAAQP,gBAC9BkF,SAAWrF,IACT,IAAI3O,EAAUtX,EACdsX,EAAQ+L,SAASsD,QAAQP,gBAAkBH,EAC3CqF,EAAShU,EAAQ,KAIvB,kBAAC4W,EAAAA,YAAWA,CAAC9U,MAAM,OAAOjH,MAAO,CAAEqL,aAAc,QAAS,cAExD,kBAAC2Q,EAAAA,YAAWA,CACVlI,MAAOjmB,EAAMqjB,SAASsD,QAAQC,UAC9B0E,SAAWrF,IACT,IAAI3O,EAAUtX,EACdsX,EAAQ+L,SAASsD,QAAQC,UAAYX,EACrCqF,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,oBAAoB/Q,UAAWoV,EAAO2F,aAC5D,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOA,EAAMqjB,SAASsD,QAAQ7E,SAC9B+L,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAASsD,QAAQ7E,SAAW5D,EACpCoN,EAAShU,EAAQ,KAIvB,kBAAC4W,EAAAA,YAAWA,CAAC9U,MAAM,OAAOjH,MAAO,CAAEqL,aAAc,QAAS,uBAExD,kBAAC2Q,EAAAA,YAAWA,CACVlI,MAAOjmB,EAAMqjB,SAASsD,QAAQE,aAC9ByE,SAAWrF,IACT,IAAI3O,EAAUtX,EACdsX,EAAQ+L,SAASsD,QAAQE,aAAeZ,EACxCqF,EAAShU,EAAQ,KAIvB,kBAAC4W,EAAAA,YAAWA,CAAC9U,MAAM,OAAOjH,MAAO,CAAEqL,aAAc,QAAS,wBAExD,kBAAC2Q,EAAAA,YAAWA,CACVlI,MAAOjmB,EAAMqjB,SAASsD,QAAQG,cAC9BwE,SAAWrF,IACT,IAAI3O,EAAUtX,EACdsX,EAAQ+L,SAASsD,QAAQG,cAAgBb,EACzCqF,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,6BAA6B/Q,UAAWoV,EAAO2F,aACrE,kBAACG,EAAAA,aAAYA,CACX9tB,MAAOA,EAAMqjB,SAASsD,QAAQI,iBAC9BuE,SAAWpyB,IACT,IAAIqpB,EAAKviB,EACTuiB,EAAGc,SAASsD,QAAQI,iBAAmB7tB,EAAEwyB,cAAcqC,QACvDzC,EAAS/I,EAAG,KAIlB,kBAAC2M,EAAWA,CAAClI,MAAM,kBACnB,kBAACmG,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,cAAc/Q,UAAWoV,EAAO2F,aACtD,kBAACN,EAAAA,MAAKA,CACJrtB,MAAOA,EAAMqjB,SAASzR,MAAMoV,MAC5B+F,YAAa,cACb5oB,KAAM,OACNkD,KAAM,aACNikB,SAAWpyB,IACT,IAAIoe,EAAUtX,EACdsX,EAAQ+L,SAASzR,MAAMoV,MAAQ9tB,EAAEwyB,cAAc1rB,MAC/CsrB,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,cAAc/Q,UAAWoV,EAAO2F,aACtD,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,GACLnf,IAAK,IACL0B,MAAOA,EAAMqjB,SAASzR,MAAM/R,KAAKuZ,MACjCyU,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAASzR,MAAM/R,KAAKuZ,MAAQ8E,EACpCoN,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,eAAe/Q,UAAWoV,EAAO2F,aACvD,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,IACL0B,MAAOA,EAAMqjB,SAASzR,MAAM/R,KAAK+Y,OACjCiV,KAAM,GACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAASzR,MAAM/R,KAAK+Y,OAASsF,EACrCoN,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,mBAAmB/Q,UAAWoV,EAAO2F,aAC3D,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,IACL0B,MAAOA,EAAMqjB,SAASzR,MAAM1B,SAAS3B,EACrCsf,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAASzR,MAAM1B,SAAS3B,EAAI2P,EACpCoN,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,mBAAmB/Q,UAAWoV,EAAO2F,aAC3D,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,IACL0B,MAAOA,EAAMqjB,SAASzR,MAAM1B,SAAS1B,EACrCqf,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAASzR,MAAM1B,SAAS1B,EAAI0P,EACpCoN,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,kBAAkB/Q,UAAWoV,EAAO2F,aAC1D,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOA,EAAMqjB,SAASzR,MAAMwS,WAAW4C,MACvC6G,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAASzR,MAAMwS,WAAW4C,MAAQ9I,EAC1CoN,EAAShU,EAAQ,KAIvB,kBAAC6V,EAAAA,YAAWA,CAACC,MAAAA,EAAKzJ,MAAM,sBAAsB/Q,UAAWoV,EAAO2F,aAC9D,kBAACC,EAAAA,OAAMA,CACLnQ,IAAK,EACLnf,IAAK,GACL0B,MAAOA,EAAMqjB,SAASzR,MAAMwS,WAAW6C,UACvC4G,KAAM,EACNvC,SAAWpN,IACT,IAAI5G,EAAUtX,EACdsX,EAAQ+L,SAASzR,MAAMwS,WAAW6C,UAAY/I,EAC9CoN,EAAShU,EAAQ,MAOpB,kBAACtO,IAAAA,SAAc,KACxB,EAGIye,IAAYC,EAAAA,EAAAA,gBAAejD,IACxB,CACLkJ,YAAa/F,EAAAA,GAAG;;MAGhBsF,UAAWtF,EAAAA,GAAG;;UCzhBL+K,GAAqB7wB,IAChC,MAAM2iB,GAAQ4F,EAAAA,EAAAA,aAERuI,EAAe,CAACpO,EAAkB,SAAU,CAAC,IAAK,KAAMC,GAAQD,EAAkB,SAAU,CAAC,IAAK,KAAMC,IAExGyL,EAA2B,CAC/BlK,QVlB2B,GUmB3BnO,GAAI6M,IACJ5B,MAAO8P,EAAa1uB,KAAI,CAAC8a,EAAGvU,KAC1B,IAAIkiB,EAAI3N,EAER,OADA2N,EAAElK,QAAc,IAANhY,EAAU4U,EAAOK,MAAQL,EAAOI,MAAMiD,SAAW,EACpDiK,CAAC,IAEV/J,MAAO,CAACyC,EAAkB,CAACuN,EAAa,GAAIA,EAAa,MACzDhhB,MAAO,GACPyR,SAAU,CACRC,KAAM,CACJC,QAAS,CACPC,WAAY,GACZa,SAAU,GAEZjB,OAAQ,CACN6C,MAAOxB,EAAMG,OAAOC,UAAUG,MAEhCrB,MAAO,CACLoB,WAAYN,EAAMG,OAAOC,UAAUG,KACnCC,OAAQR,EAAMG,OAAOC,UAAUI,OAC/B/C,KAAMuC,EAAMG,OAAOC,UAAUC,cAE/BoB,uBAAuB,GAEzB9B,WAAY,CACVlc,KAAM,GACNob,KAAM,GAER6C,MAAO,CACLC,gBAAiB3B,EAAMG,OAAOG,WAAWsB,QACzCC,eAAe,EACfC,UAAW,CACTnN,MAAO,IACPR,OAAQ,KAEV4N,UAAW,EACXrG,OAAQ,CACN5R,EAAG,EACHC,EAAG,GAELuH,KAAM,CACJ0Q,SAAS,EACT5mB,KAAM,GACN6mB,eAAe,IAGnBC,QAAS,CACP7E,SAAU,EACV8E,UAAW,QACXR,gBAAiB,QACjBS,aAAc,UACdC,cAAe,UACfC,kBAAkB,GAEpBnV,MAAO,CACL1B,SAAU,CACR3B,EAAG,EACHC,EAAG,GAEL3O,KAAM,CACJuZ,MAAO,GACPR,OAAQ,KAEVoO,MAAO,eACP5C,WAAY,CACV4C,MAAO,GACPC,UAAW,OAMnB,GAAKnlB,EAAM9B,OAGJ,IAAK8B,EAAM9B,MAAMgmB,SV9FK,KU8FMlkB,EAAM9B,MAAMgmB,QAA6B,CAE1E,IAAIzD,EAAKzgB,EAAM9B,MACf8B,EAAMwpB,SAASxF,EAA4BvD,EAAIkC,GACjD,OANElU,QAAQ2W,IAAI,mCACZplB,EAAMwpB,SAAS4E,GAOjB,OAAIpuB,EAAM9B,MAEN,kBAACgJ,IAAAA,SAAc,KACb,kBAACqiB,EAAavpB,GACd,kBAACqtB,GAAartB,GACd,kBAACovB,GAAcpvB,GACf,kBAACswB,GAActwB,IAIZ,kBAACkH,IAAAA,SAAc,KACxB,E,0HC1GK,MAAM6pB,GAAa,EAAG7yB,QAAOsrB,eAClC,MAAMtD,EAASP,IAAU4C,EAAAA,EAAAA,cAanByI,G,EAAkB,YACtB,MAAMC,EAAM3c,SAASwB,eAAe,MAAM5X,EAAM6X,OAEhD,IAAIlY,EAAOozB,EAAKC,WAAa,GAC7B,MAEMC,EAAQF,EAAKhb,qBAAqB,SAExC,IAAK,IAAItN,EAAI,EAAGA,EAAIwoB,EAAMz5B,OAAQiR,IAAK,CACrC,MAAMyoB,EAAU9c,SAASpP,SAASmsB,OAAS,IAAMF,EAAMxoB,GAAGqf,KAAKsJ,QACzDC,QAAiBC,MAAMJ,GACvBK,QAAmBF,EAASxR,OAC5B2R,EAAe,6BAA+B7iB,OAAO8iB,KAAKF,GAEhE5zB,EAAOA,EAAK1C,QAAQg2B,EAAMxoB,GAAGqf,KAAKsJ,QAASI,EAC7C,CAEA,MAAME,EAAU,IAAIC,KAAK,CAbT,4CAamBh0B,GAAO,CAAEwE,KAAM,gCA5BvB,EAAC2lB,EAAc8J,KAC1C,IAAIC,EAAezd,SAASvD,cAAc,KAC1CghB,EAAa/J,KAAOA,EACpB+J,EAAaD,SAAWA,EACxBC,EAAarpB,OAAS,SAEtB4L,SAASvB,KAAKmD,YAAY6b,GAC1BA,EAAaC,QACb1d,SAASvB,KAAKkf,YAAYF,EAAa,EAuBvCG,CAFeC,IAAIC,gBAAgBR,GAEN,uBAAsB,IAAIl1B,MAAO21B,oBAChE,E,8NArBwB,I,IAiCxB,OAAIn0B,EAEA,kBAACgJ,IAAAA,SAAc,KACb,kBAACikB,EAAAA,eAAcA,KACb,kBAAC0B,EAAAA,OAAMA,CAAC5G,QAAS+K,EAAiBlgB,UAAWoV,EAAOoM,cAAc,gBAUjE,kBAACprB,IAAAA,SAAc,KACxB,EAGIye,IAAYC,EAAAA,EAAAA,gBAAejD,IACxB,CACL2P,aAAcxM,EAAAA,GAAG;gBACLnD,EAAMlB,QAAQ;sBACRkB,EAAMlB,QAAQ;MAEhC8Q,iBAAkBzM,EAAAA,GAAG;gBACTnD,EAAMlB,QAAQ;UC5EjB+Q,GAAS,IAAIC,EAAAA,aT6D2CzyB,IACnE,MAAM,QAAEwV,EAAO,KAAE3X,EAAMyZ,MAAOob,EAAQ5b,OAAQ6b,EAAO,gBAAEC,EAAe,UAAEC,GAAc7yB,EAChFkmB,EAASP,IACThD,GAAQ4F,EAAAA,EAAAA,aACR9H,EAAKjL,EAAQmU,YAEflJ,GAAQA,EAAGyD,SHpEc,KGoEHzD,EAAGyD,SAC3B0O,EAAgB,CAAEjJ,WAAY3F,EAA4BvD,EAAIkC,KAIhE,MAAMmQ,EAAajkB,OAAO3J,SAAS6tB,OAAO9R,SAAS,cAE5C8E,EAAaiN,IAAkB5I,EAAAA,EAAAA,UAAS,OACxCpE,EAAeiN,IAAoB7I,EAAAA,EAAAA,UAAS,IAEnD,SAAS8I,EAAc9jB,EAAiB5S,GACtC,GAAY,IAARA,EACF,OAAOoiB,EAAuB6B,EAAGc,SAASC,KAAKF,OAAO6C,MAAO1D,EAAGc,SAAS8C,MAAMC,iBAGjF,MAAMe,EAAU,EAAW7oB,EAAO,IAClC,IAAI22B,EAAgB,GAQpB,OANA1S,EAAG3Q,MAAM3G,SAASgc,IACZA,EAAUE,SAAWA,IACvB8N,EAAgBhO,EAAUhB,MAC5B,IAGKgP,CACT,CAGA,SAASC,EAAe3zB,EAAkBiJ,EAAkB2V,GAC1D,MAAM5R,GAAKhN,EAAOgN,EAAI/D,EAAO+D,GAAK,EAC5BC,GAAKjN,EAAOiN,EAAIhE,EAAOgE,GAAK,EAC5BwP,EAAIxT,EAAO+D,EAAIhN,EAAOgN,EACtBojB,EAAInnB,EAAOgE,EAAIjN,EAAOiN,EACtB2mB,EAAO92B,KAAK+2B,KAAKpX,EAAIA,EAAI2T,EAAIA,GAGnC,MAAO,CAAEpjB,EAFIA,EAAI,GAAW/D,EAAO+D,EAAIhN,EAAOgN,GAAM4mB,EAElC3mB,EADLA,EAAI,GAAWhE,EAAOgE,EAAIjN,EAAOiN,GAAM2mB,EAEtD,CAGA,SAASE,EAAgB9zB,EAAkBiJ,EAAkB2c,GAG3D,MAAO,CAAE5Y,EAFI/D,EAAO+D,GAAKhN,EAAOgN,EAAI/D,EAAO+D,GAAK4Y,EAE9B3Y,EADLhE,EAAOgE,GAAKjN,EAAOiN,EAAIhE,EAAOgE,GAAK2Y,EAElD,CAGA,SAASmO,EAAgBC,EAAUC,EAAU5c,EAAgBQ,GAC3D,IAAIqc,EAAI7c,EACJ8c,EAAItc,EAAQ,EACZuc,EAAO,CAAEpnB,EAAGinB,EAAIjnB,EAAIgnB,EAAIhnB,EAAGC,EAAGgnB,EAAIhnB,EAAI+mB,EAAI/mB,GAC1ChV,EAAS6E,KAAK+2B,KAAKO,EAAKpnB,EAAIonB,EAAKpnB,EAAIonB,EAAKnnB,EAAImnB,EAAKnnB,GACvDmnB,EAAKpnB,EAAIonB,EAAKpnB,EAAI/U,EAClBm8B,EAAKnnB,EAAImnB,EAAKnnB,EAAIhV,EAClB,IAAIo8B,GAAaD,EAAKnnB,EAAlBonB,EAAwBD,EAAKpnB,EAGjC,MAAO,CAAEsnB,GAFA,CAAEtnB,EAAGinB,EAAIjnB,EAAIknB,EAAIE,EAAKpnB,EAAImnB,EAAIE,EAAQpnB,EAAGgnB,EAAIhnB,EAAIinB,EAAIE,EAAKnnB,EAAIknB,EAAIE,GAE1DE,GADR,CAAEvnB,EAAGinB,EAAIjnB,EAAIknB,EAAIE,EAAKpnB,EAAImnB,EAAIE,EAAQpnB,EAAGgnB,EAAIhnB,EAAIinB,EAAIE,EAAKnnB,EAAIknB,EAAIE,GAE7E,CAEA,MAAO9S,EAAOiT,IAAY7J,EAAAA,EAAAA,UACxB3J,EAAGO,MAAM5e,KAAI,CAAC8a,EAAGvU,IACRmgB,EAAkB5L,EAAGvU,EAAG8X,MAKnC,IAAIyT,EAAYlT,EAAM/f,QAEtB,MAAO6f,EAAOqT,IAAY/J,EAAAA,EAAAA,UACxB3J,EACIA,EAAGK,MAAM1e,KAAI,CAAC8a,EAAGvU,IACRyrB,EAAkBlX,EAAGvU,KAE9B,IAaN,SAAS0rB,EAAqBnX,EAAc6Q,GAE1C,IAAIthB,EAAIyQ,EAAEzQ,EACNC,EAAIwQ,EAAExQ,EAGVD,EACEgU,EAAGc,SAAS8C,MAAMpQ,KAAK0Q,SACvBoB,IACCA,EAAY1oB,QAAU6f,EAAE7f,OAAS2oB,EAAckB,MAAM3vB,GAAMA,EAAE8F,QAAU6f,EAAE7f,SACtEijB,EAAgBpD,EAAEzQ,EAAGgU,EAAGc,SAAS8C,MAAMpQ,KAAKlW,MAC5C0O,EACNC,EACE+T,EAAGc,SAAS8C,MAAMpQ,KAAK0Q,SACvBoB,IACCA,EAAY1oB,QAAU6f,EAAE7f,OAAS2oB,EAAckB,MAAM3vB,GAAMA,EAAE8F,QAAU6f,EAAE7f,SACtEijB,EAAgBpD,EAAExQ,EAAG+T,EAAGc,SAAS8C,MAAMpQ,KAAKlW,MAC5C2O,EAGN,MAAM4nB,EAAe/3B,KAAKC,OACrBikB,EAAGK,MACH9X,QAAQ+X,GAAMA,EAAEC,MAAM,GAAGjL,KAAOmH,EAAEnH,IAAMgL,EAAEC,MAAM,GAAGjL,KAAOmH,EAAEnH,KAC5D/M,QAAQ+X,GAAMgN,EAAK3M,SAAWL,EAAEG,MAAMC,EAAEC,QAAUL,EAAEG,MAAMG,EAAED,SAAW2M,EAAK3M,SAC5Ehf,KAAK2e,GAAMA,EAAEO,UAIlB,GAAIyM,EAAK3M,SAAW7D,EAAOI,MAAQoQ,EAAK3M,SAAW7D,EAAOK,MAEpDmQ,EAAK3M,SAAW7D,EAAOI,KACzBlR,GAAK+T,EAA4BtD,EAAGuD,GAAM,EAAI6T,EAAe,EAE7D7nB,GAAK+T,EAA4BtD,EAAGuD,GAAM,EAAI6T,EAAe,GAG1DpX,EAAEuF,sBAAwBvF,EAAEyD,QAAQoN,EAAK3M,QAAQR,SAAW,IAI/DlU,KAHmB4nB,EAAe7T,EAAGc,SAASC,KAAKC,QAAQc,UAE5CrF,EAAEyD,QAAQoN,EAAK3M,QAAQR,SAAWH,EAAGc,SAASC,KAAKC,QAAQc,SAAW+R,GACnE,EAClB5nB,IACGwQ,EAAEyD,QAAQoN,EAAK3M,QAAQyB,eAAiB,GAAKyR,EAC9CpX,EAAEyD,QAAQoN,EAAK3M,QAAQyB,eAAiBpC,EAAGc,SAASC,KAAKC,QAAQc,SACjE+R,QAEC,GAAIvG,EAAK3M,SAAW7D,EAAOC,OAAQ,CACxC,GAAIN,EAAE8E,mBAKJvV,KAFE6nB,GAAgBpX,EAAEyD,QAAQoN,EAAK3M,QAAQR,SAAW,GAClDH,EAAGc,SAASC,KAAKC,QAAQC,YAAcxE,EAAEyD,QAAQoN,EAAK3M,QAAQR,SAAW,IAE7D,EAAI1D,EAAEyD,QAAQoN,EAAK3M,QAAQyB,gBAAkByR,EAAe7T,EAAGc,SAASC,KAAKC,QAAQC,gBAC9F,CAEL,MAAM6S,EAAcrX,EAAE6E,WAAoC,EAAvB7E,EAAEyE,QAAQD,WAC7CjV,IACG8nB,EAAc,GACdrX,EAAEyD,QAAQoN,EAAK3M,QAAQyB,eAAiB,IACtC0R,GAAevT,EAAM9D,EAAE7f,OAAOsjB,QAAQoN,EAAK3M,QAAQR,SAAW,GACrE,CAEImN,EAAK3M,SAAW7D,EAAOG,OACzBhR,GAAKyV,EAA6BjF,EAAGuD,GAAM,EAAI6T,EAAe,EACrDvG,EAAK3M,SAAW7D,EAAOE,MAChC/Q,GAAKyV,EAA6BjF,EAAGuD,GAAM,EAC3C/T,GAAK4nB,EAAe,EAExB,CAGA,OADApX,EAAEyD,QAAQoN,EAAK3M,QAAQyB,iBAChB,CAAEpW,IAAGC,IACd,CAGA,SAAS0nB,EAAkBlX,EAASvU,GAClC,IAAIogB,EAAsB,OAAK7L,GAAAA,CAAGgE,MAAO,CAAEC,EAAG,KAAKjE,EAAEgE,MAAMC,GAAKE,EAAG,KAAKnE,EAAEgE,MAAMG,MAChF0H,EAAS1rB,MAAQsL,EAEjB,MAAM6rB,GAzLqBC,EA0LzBvX,EAAE2G,MAAQ3G,EAAE2G,MAAQpD,EAAGc,SAASC,KAAKoP,aAAenQ,EAAGc,SAASC,KAAKoP,aAAe,OA1LxC8D,EAAAA,EAAAA,gBAAeD,IAAnC,IAACA,EA8L3B1L,EAAStpB,OAASuhB,EAAMhY,QAAQzR,GAAMA,EAAEwe,KAAOgT,EAAS/H,MAAM,GAAGjL,KAAI,GACrEgT,EAASrgB,OAASsY,EAAMhY,QAAQzR,GAAMA,EAAEwe,KAAOgT,EAAS/H,MAAM,GAAGjL,KAAI,GAErE,IAAI4e,EAAyD,GAC7D92B,EAAKkpB,OAAO5d,SAASoc,IACnB,KAAIA,EAAMG,OAAOhuB,OAAS,GAG1B,IACEi9B,EAAiB/1B,KAAK,CACpBV,MAAOqnB,EAAMG,OAAO,GAAGsB,OAAOtoB,IAAI6mB,EAAMG,OAAO,GAAGsB,OAAOtvB,OAAS,GAClEqe,GAAIuP,EAAiBC,EAAO1nB,EAAKkpB,SAErC,CAAE,MAAO3vB,GACPqX,QAAQC,KAAK,mEAAoEtX,EACnF,KAGF,IAAIw9B,EAA4BD,EAAiB3rB,QAC9C9K,GAAUA,EAAM6X,KAAOgT,EAAS7H,MAAMC,EAAEuC,OAASxlB,EAAM6X,KAAOgT,EAAS7H,MAAMG,EAAEqC,QAIlF,IAAK,IAAIiN,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAM5C,EAAwB,IAAN4C,EAAU,IAAM,IAGxC,GAAI5H,EAAS7H,MAAM6M,GAAMtK,eAAgB,CACvC,IAAIoR,EAAYF,EAAiB3rB,QAAQ9K,GAAUA,EAAM6X,KAAOgT,EAAS7H,MAAM6M,GAAMtK,sBAGhEpoB,IAAjBw5B,EAAU,SAA2Cx5B,IAAvBw5B,EAAU,GAAG32B,MAE7C6qB,EAAS7H,MAAM6M,GAAMvK,UAAYqR,EAAU,GAAG32B,MAE9C6qB,EAAS7H,MAAM6M,GAAMvK,UAAY,CAErC,CAUA,GAPAuF,EAAS7H,MAAM6M,GAAM+G,aAAe,EACpC/L,EAAS7H,MAAM6M,GAAMgH,YAAc,MACnChM,EAAS7H,MAAM6M,GAAMiH,iBAAmB,MACxCjM,EAAS7H,MAAM6M,GAAMkH,sBAAwB,OAC7ClM,EAAS7H,MAAM6M,GAAMmH,qBAAuB,MAGxCnM,EAAS7H,MAAM6M,GAAMrK,MAAO,CAC9B,IAAIyR,EAAapM,EAAS7H,MAAM6M,GAAMrK,MAClCmR,EAAYD,EAA0B5rB,QAAQ2nB,GAAMA,EAAE5a,KAAOof,IAGjE,QAAqB95B,IAAjBw5B,EAAU,SAA2Cx5B,IAAvBw5B,EAAU,GAAG32B,MAAqB,CAElE6qB,EAAS7H,MAAM6M,GAAM+G,aAAeD,EAAU,GAAG32B,MAGjD,IAAIk3B,EAAkBZ,EAAmBzL,EAAS7H,MAAM6M,GAAM+G,cAC9D/L,EAAS7H,MAAM6M,GAAMiH,iBAAmB,GAAGI,EAAgBrV,QAAQqV,EAAgBnF,SAInFlH,EAAS7H,MAAM6M,GAAMkH,sBACnBlM,EAAS7H,MAAM6M,GAAMvK,UAAY,EAC7B,IAAI,EAAUtC,MAAM6M,GAAM+G,aAAe/L,EAAS7H,MAAM6M,GAAMvK,UAAa,KAAK6R,QAAQ,MACxF,MACR,CACF,CAGItM,EAAShF,0BAA4BtD,EAAGc,SAASC,KAAK4C,sBACxD2E,EAAS7H,MAAM6M,GAAMgH,YAAchM,EAAS7H,MAAM6M,GAAMkH,sBAExDlM,EAAS7H,MAAM6M,GAAMgH,YAAchM,EAAS7H,MAAM6M,GAAMiH,iBAG1D,IAAIM,EAAkBd,EAAmBzL,EAAS7H,MAAM6M,GAAMvK,WAC9DuF,EAAS7H,MAAM6M,GAAMmH,qBAAuB,GAAGI,EAAgBvV,QAAQuV,EAAgBrF,QACzF,CAmDA,OAhDU,IAANtnB,IACFurB,EAAYA,EAAU9xB,KAAK7K,IACzBA,EAAEopB,QAAU,CACV,EAAG,CAAEC,SAAUrpB,EAAEopB,QAAQ,GAAGC,SAAUiC,eAAgB,GACtD,EAAG,CAAEjC,SAAUrpB,EAAEopB,QAAQ,GAAGC,SAAUiC,eAAgB,GACtD,EAAG,CAAEjC,SAAUrpB,EAAEopB,QAAQ,GAAGC,SAAUiC,eAAgB,GACtD,EAAG,CAAEjC,SAAUrpB,EAAEopB,QAAQ,GAAGC,SAAUiC,eAAgB,GACtD,EAAG,CAAEjC,SAAUrpB,EAAEopB,QAAQ,GAAGC,SAAUiC,eAAgB,IAEjDtrB,MAIXwxB,EAASwM,WAAalB,EAAqBH,EAAUnL,EAAStpB,OAAOpC,OAAQ0rB,EAAS7H,MAAMC,GAC5F4H,EAASyM,WAAanB,EAAqBH,EAAUnL,EAASrgB,OAAOrL,OAAQ0rB,EAAS7H,MAAMG,GAE5F0H,EAAS0M,SAAWrC,EAClBrK,EAASyM,WACTzM,EAASwM,YACRxM,EAASjF,OAAOzF,OAAS0K,EAASjF,OAAOhN,QAGxCod,EAAUnL,EAASrgB,OAAOrL,OAAOimB,eACnCyF,EAAS0M,SAAW1M,EAASyM,WAC7BzM,EAAS2M,SAAW3M,EAASyM,YAG/BzM,EAAS4M,aAAevC,EAAerK,EAASyM,WAAYzM,EAASwM,YAAaxM,EAASjF,OAAOzF,QAClG0K,EAAS6M,cAAgBpC,EACvBzK,EAASwM,WACTxM,EAAS4M,aACT5M,EAASjF,OAAOhN,OAChBiS,EAASjF,OAAOxM,OAGlByR,EAAS2M,SAAWtC,EAClBrK,EAASyM,WACTzM,EAASwM,WACTxM,EAASjF,OAAOzF,OAAS0K,EAASjF,OAAOhN,QAE3CiS,EAAS8M,aAAezC,EAAerK,EAASyM,WAAYzM,EAASwM,WAAYxM,EAASjF,OAAOzF,QACjG0K,EAAS+M,cAAgBtC,EACvBzK,EAASyM,WACTzM,EAAS8M,aACT9M,EAASjF,OAAOhN,OAChBiS,EAASjF,OAAOxM,OAGXyR,CACT,CAGA,MAAMpV,GAAUoiB,EAAAA,EAAAA,SAAO,IAGvBC,EAAAA,EAAAA,YAAU,KACHriB,EAAQvE,QAGX6kB,EACEze,EAAQmU,WAAW3I,MAAM5e,KAAI,CAAC8a,EAAGvU,IACxBmgB,EAAkB5L,EAAGvU,EAAG6M,EAAQmU,eAJ3ChW,EAAQvE,SAAU,CAOpB,GAEC,CAACoG,EAAS3X,IAEbq2B,EAAYlT,EAAM/f,SAIlB+0B,EAAAA,EAAAA,YAAU,KACR7B,EACE3e,EAAQmU,WAAW7I,MAAM1e,KAAI,CAAC8a,EAAGvU,IACxByrB,EAAkBlX,EAAGvU,KAC9B,GAGD,CAAC6M,EAAS3X,EAAMmjB,IAEnB,MAkBOiV,EAAYC,IAAe9L,EAAAA,EAAAA,WAAS,GAE3C,IAAI+L,EAAU1V,EAAGc,SAAS8C,MAAMI,UAAUnN,MAAQob,EAC9C0D,EAAU3V,EAAGc,SAAS8C,MAAMI,UAAU3N,OAAS6b,EAC/C0D,EAAmB95B,KAAKC,IAAI25B,EAASC,GAEzC,MAMO/X,EAAQiY,IAAalM,EAAAA,EAAAA,UAAS3J,EAAGc,SAAS8C,MAAMhG,SAgBhDkY,EAAaC,KAAkBpM,EAAAA,EAAAA,UAAS,MAEzCqM,GAAkB,CAACvZ,EAAc6Q,EAAiB32B,KACtD,IAAIA,EAAEs/B,SAAN,CAIA,GAAIxC,EAAUhX,EAAEzd,OAAOpC,OAAOimB,aAAc,CAK1C,IAAIqT,EAAY7V,EAAM9X,QAAQ+X,GAAMA,EAAErY,OAAOqN,KAAOmH,EAAEzd,OAAOsW,KAG7D,KAA4B,IAArB4gB,EAAUj/B,QAAgBw8B,EAAUyC,EAAU,GAAGl3B,OAAOpC,OAAOimB,cACpEqT,EAAY7V,EAAM9X,QAAQ+X,GAAMA,EAAErY,OAAOqN,KAAO4gB,EAAU,GAAGl3B,OAAOsW,KAItE,GAAyB,IAArB4gB,EAAUj/B,OACZ,IAAK,IAAIuG,KAAO04B,EAAU,GAAGzV,MAAMC,EACrB,gBAARljB,GAAiC,WAARA,IAE3Bif,EAAEgE,MAAMC,EAAEljB,GAAO04B,EAAU,GAAGzV,MAAMC,EAAEljB,SAI1CwQ,QAAQC,KAAK,oBAAoBwO,EAAEzd,OAAOoiB,mCAE9C,CAEA,GAAIqS,EAAUhX,EAAExU,OAAOrL,OAAOimB,aAAc,CAK1C,IAAIsT,EAAe9V,EAAM9X,QAAQ+X,GAAMA,EAAEthB,OAAOsW,KAAOmH,EAAExU,OAAOqN,KAGhE,KAA+B,IAAxB6gB,EAAal/B,QAAgBw8B,EAAU0C,EAAa,GAAGluB,OAAOrL,OAAOimB,cAC1EsT,EAAe9V,EAAM9X,QAAQ+X,GAAMA,EAAEthB,OAAOsW,KAAO6gB,EAAa,GAAGluB,OAAOqN,KAI5E,GAA4B,IAAxB6gB,EAAal/B,OACf,IAAK,IAAIuG,KAAO24B,EAAa,GAAG1V,MAAMG,EACxB,gBAARpjB,GAAiC,WAARA,IAE3Bif,EAAEgE,MAAMG,EAAEpjB,GAAO24B,EAAa,GAAG1V,MAAMG,EAAEpjB,SAI7CwQ,QAAQC,KAAK,oBAAoBwO,EAAExU,OAAOmZ,oCAE9C,CAEA2U,GAAe,CAAEhV,KAAMtE,EAAG6Q,OAAM8I,WAAYz/B,GApD5C,CAoDgD,EAG5C0/B,GAAuB1/B,IACvBA,EAAEs/B,UAGNF,GAAe,OAGXO,GAAuBl5B,EAAKkpB,OAAO/d,QAAQuc,IAC/C,IAAKgR,EACH,OAGF,IAAIS,EAAc,KAClB,IACEA,EAAc1R,EAAiBC,EAAO1nB,EAAKkpB,OAC7C,CAAE,MAAO3vB,GACPqX,QAAQC,KAAK,mEAAoEtX,EACnF,CAEA,OAAO4/B,IAAgBT,EAAY/U,KAAKN,MAAMC,EAAEuC,OAASsT,IAAgBT,EAAY/U,KAAKN,MAAMG,EAAEqC,KAAK,I,IA0J/EjD,GAvJ1B,OAAIA,EAEA,kBAACgI,MAAAA,CACC3X,WAAW4X,EAAAA,EAAAA,IACTxC,EAAO8C,QACPlD,EAAAA,GAAG;qBACQ4M;sBACCC;;cAKb4D,EACC,kBAAC9N,MAAAA,CACC3X,UAAWgV,EAAAA,GAAG;;qBAELyQ,EAAYM,WAAWI,YAAYC;sBAClCX,EAAYM,WAAWI,YAAYE;;kCAEvB1W,EAAGc,SAASsD,QAAQP;uBAC/B7D,EAAGc,SAASsD,QAAQC;2BAChBrE,EAAGc,SAASsD,QAAQ7E;;yBAEtBuW,EAAc,OAAS;;;;eAMpC,kBAAC9N,MAAAA,CAAIpY,MAAO,CAAE2P,SAAUS,EAAGc,SAASsD,QAAQ7E,WAAY,oBACpCuW,EAAY/U,KAAKN,MAAMG,EAAE2T,iBAAiB,cAAY,IACvEuB,EAAY/U,KAAKN,MAAMC,EAAE6T,kBAE5B,kBAACvM,MAAAA,CAAIpY,MAAO,CAAE2P,SAAUS,EAAGc,SAASsD,QAAQ7E,WAAY,wBAChCuW,EAAY/U,KAAKN,MAAMG,EAAE6T,qBAAqB,cAAY,IAC/EqB,EAAY/U,KAAKN,MAAMC,EAAE+T,sBAE5B,kBAACzM,MAAAA,CAAIpY,MAAO,CAAE2P,SAAUS,EAAGc,SAASsD,QAAQ7E,WAAY,6BAC3BuW,EAAY/U,KAAKN,MAAMG,EAAE4T,sBAAsB,cAAY,IACrFsB,EAAY/U,KAAKN,MAAMC,EAAE8T,uBAE5B,kBAACxM,MAAAA,CAAIpY,MAAO,CAAE2P,SAAUS,EAAGc,SAASsD,QAAQ7E,SAAU5I,cAAe,QAClEmf,EAAY/U,KAAKN,MAAMqV,EAAYxI,MAAMnK,cAAclsB,OAAS,EAAI,qBAAuB,KAE5F6+B,EAAY/U,KAAKN,MAAMC,EAAEuC,OAAS6S,EAAY/U,KAAKN,MAAMG,EAAEqC,QAAUqT,GAAqBr/B,OAAS,EACnG,kBAACwP,IAAAA,SAAc,KACb,kBAACkwB,EAAAA,WAAUA,CACT9f,MAAO,IACPR,OAAQ,IACR+b,UAAWA,EACXwE,UAAUC,EAAAA,EAAAA,eACVC,OAAQR,GAAqB30B,KAAKmjB,IAChC,IAAIiS,EAAOjS,EACPkS,EAAiBnS,EAAiBC,EAAO1nB,EAAKkpB,UAAYwP,EAAY/U,KAAKN,MAAMG,EAAEqC,MAUvF,OATA8T,EAAK9R,OAAS8R,EAAK9R,OAAOtjB,KAAKyoB,IAC7BA,EAAE6M,OAAOC,OAAS,CAChBC,YAAa,GACbC,UAAWJ,EACPhX,EAAGc,SAASsD,QAAQE,aACpBtE,EAAGc,SAASsD,QAAQG,eAEnB6F,KAEF2M,CAAI,IAEbM,OAAQ,CACNC,MAAO,GACPC,YAAaC,EAAAA,kBAAkBC,KAC/BC,UAAW,SACXC,WAAW,EACXC,YAAY,GAEdC,WAAY,CAACC,EAAMC,KACjBD,EAAKE,QAAU,EAEbhY,EAAGc,SAASsD,QAAQI,kBACpBsR,EAAY/U,KAAKN,MAAMqV,EAAYxI,MAAMvK,UAAY,IAErD+U,EAAKG,QAAUnC,EAAY/U,KAAKN,MAAMqV,EAAYxI,MAAMvK,WAEnD+U,GAETI,UAAW,CAACJ,EAAMC,KAhjBlC,IAAC/D,EAwjBiB,OAPA8D,EAAKK,aAjjBtBnE,EAkjBmB8B,EAAY/U,KAAKqC,MACb0S,EAAY/U,KAAKqC,MACjBpD,EAAGc,SAASC,KAAKoP,aACjBnQ,EAAGc,SAASC,KAAKoP,aACjB,MArjBvB/F,IACC,IACIgO,GADYnE,EAAAA,EAAAA,gBAAeD,EACVqE,CAAUjO,GAC/B,MAAO,GAAGgO,EAAe9Y,QAAQ8Y,EAAe5I,QAAQ,GAojBjCsI,CAAI,IAGZ,CAACb,EAAQqB,IAEN,oCACE,kBAACC,EAAAA,cAAaA,CACZtB,OAAQA,EACR75B,KAAMk7B,EACNE,KAAMC,EAAAA,mBAAmBC,MACzB9B,UAAUC,EAAAA,EAAAA,oBAMpB,kBAAC7O,MAAAA,CAAIpY,MAAO,CAAE+W,QAAS,OAAQgS,WAAY,SAAUjiB,WAAY,SAC/D,kBAACsR,MAAAA,CACCpY,MAAO,CACLiH,MAAO,OACPR,OAAQ,MACRmM,WAAYxC,EAAGc,SAASsD,QAAQE,aAChCvN,YAAa,MACbiE,YAAa,SAGjB,kBAACgN,MAAAA,CAAIpY,MAAO,CAAE2P,SAAUS,EAAGc,SAASsD,QAAQ7E,WAAY,WACxD,kBAACyI,MAAAA,CACCpY,MAAO,CACLiH,MAAO,OACPR,OAAQ,MACRmM,WAAYxC,EAAGc,SAASsD,QAAQG,cAChC1J,WAAY,OACZG,YAAa,SAGjB,kBAACgN,MAAAA,CACCpY,MAAO,CACL2P,SAAUS,EAAGc,SAASsD,QAAQ7E,WAEjC,cAML,IAIJ,GAEF,kBAACqZ,EAAUA,CAAC/Q,WAAY7H,EAAG3Q,MAAOyR,SAAUd,EAAGc,WAC/C,kBAAC0P,MAAAA,CACC5gB,MAAO,CACLjC,SAAU,WACVqD,IAAK,EACLF,KAAM,EACNgf,gBAAiB9P,EAAGc,SAAS8C,MAAMkM,gBAC/B,OAAO9P,EAAGc,SAAS8C,MAAMkM,gBAAgBE,OACzC,OACJ6I,eAAiD,QAAjC7Y,GAAAA,EAAGc,SAAS8C,MAAMkM,uBAAlB9P,IAAAA,QAAAA,EAAAA,GAAmCiQ,IACnD6I,mBAAoB,SACpBC,iBAAkB,YAClBlV,gBAAiB7D,EAAGc,SAAS8C,MAAMkM,gBAAkB,OAAS9P,EAAGc,SAAS8C,MAAMC,iBAElFvO,GAAI,MAAM0K,EAAG1K,KAAK+c,EAAa,IAAM,KACrCxb,MAAOob,EACP5b,OAAQ6b,EACR8G,MAAM,6BACNC,WAAW,+BACXC,QAAS,OAAOlZ,EAAGc,SAAS8C,MAAMI,UAAUnN,MAAQ/a,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,cAClFjE,EAAGc,SAAS8C,MAAMI,UAAU3N,OAASva,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,aAEvEmV,eAAe,aACfC,cAAc,qBACdC,WAAW,aAEXC,QAxSM5iC,IAEZ,IAAK07B,IAAe17B,EAAEs/B,SACpB,OAGF,IAAIuD,EAAqBxZ,EAErBrpB,EAAE6W,OAAS,EACbgsB,EAAO1Y,SAAS8C,MAAMK,WAAa,EAEnCuV,EAAO1Y,SAAS8C,MAAMK,WAAa,EAErCkO,EAAgB,CACdjJ,WAAYsQ,GACZ,EA0RIvnB,YAActb,IACZA,EAAEkc,iBAjRV6iB,EAAU1V,EAAGc,SAAS8C,MAAMI,UAAUnN,MAAQob,EAC9C0D,EAAU3V,EAAGc,SAAS8C,MAAMI,UAAU3N,OAAS6b,EAC/C0D,EAAmB95B,KAAKC,IAAI25B,EAASC,GAiR7BF,GAAY,EAAK,EAEnBgE,YAAc9iC,IACR6+B,IAAe7+B,EAAE+iC,SAAyB,IAAd/iC,EAAEgjC,SAAiBhjC,EAAEs/B,WA/QlD,CAACt/B,IACZ,GAAIA,EAAE+iC,SAAyB,IAAd/iC,EAAEgjC,SAAiBhjC,EAAEs/B,SAAU,CAC9Ct/B,EAAE6/B,YAAY3jB,iBACd,MAAM+mB,EAAU99B,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,WAEhD4R,GAAW9G,IACF,CACL/iB,EAAG+iB,EAAK/iB,EAAIrV,EAAE6/B,YAAYqD,UAAYD,EAAUhE,EAChD3pB,EAAG8iB,EAAK9iB,EAAItV,EAAE6/B,YAAYsD,UAAYF,EAAUhE,KAGtD,GAqQUmE,CAAKpjC,EACP,EAEF4d,UAAW,KACTkhB,GAAY,GACZ,IAAIuE,EAASha,EACbga,EAAOlZ,SAAS8C,MAAMhG,OAASA,EAC/BuU,EAAgB,CAAEjJ,WAAY8Q,GAAS,EAEzCC,cAAe,KACbzH,EAAiB,GAAG,GAGrBxS,EAAGc,SAAS8C,MAAMpQ,KAAK0Q,QACtB,kBAACgW,OAAAA,KACC,kBAACC,UAAAA,CACC7kB,GAAG,YACHuB,MAAOmJ,EAAGc,SAAS8C,MAAMpQ,KAAKlW,KAC9B+Y,OAAQ2J,EAAGc,SAAS8C,MAAMpQ,KAAKlW,KAC/B88B,aAAa,kBAEb,kBAACC,OAAAA,CACC5d,EAAG,KAAKuD,EAAGc,SAAS8C,MAAMpQ,KAAKlW,kBAAkB0iB,EAAGc,SAAS8C,MAAMpQ,KAAKlW,OACxEupB,KAAK,OACLhG,OAAO,OACPiG,YAAY,IACZwT,QAAS,MAKf,GAEF,kBAACjiC,IAAAA,CACCF,UAAW,cACR6nB,EAAGc,SAAS8C,MAAMI,UAAUnN,MAAQ/a,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,WACnEjE,EAAGc,SAAS8C,MAAMI,UAAUnN,OAC5B,EACF+G,EAAO5R,OAENgU,EAAGc,SAAS8C,MAAMI,UAAU3N,OAASva,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,WACpEjE,EAAGc,SAAS8C,MAAMI,UAAU3N,QAC5B,EACFuH,EAAO3R,KAETsuB,SAAS,WAERva,EAAGc,SAAS8C,MAAMpQ,KAAK2Q,cACtB,oCACE,kBAACyC,OAAAA,CACC5a,EACEgU,EAAGO,MAAMtpB,OAAS,EACd+oB,EAAGO,MAAM,GAAG5S,SAAS,GACrBqS,EAAGc,SAAS8C,MAAMI,UAAUnN,MAAQ/a,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,WAAa,EACjF,EAENhY,EACE+T,EAAGO,MAAMtpB,OAAS,EACd+oB,EAAGO,MAAM,GAAG5S,SAAS,GACrBqS,EAAGc,SAAS8C,MAAMI,UAAU3N,OAASva,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,WAAa,EAClF,EAENpN,MAAOmJ,EAAGc,SAAS8C,MAAMI,UAAUnN,MAAQ/a,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,WAAa,EACxF5N,OAAQ2J,EAAGc,SAAS8C,MAAMI,UAAU3N,OAASva,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,WAAa,EAC1F4C,KAAK,qBAIT,IAGJ,kBAACxuB,IAAAA,CACCF,UAAW,cACR6nB,EAAGc,SAAS8C,MAAMI,UAAUnN,MAAQ/a,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,WACnEjE,EAAGc,SAAS8C,MAAMI,UAAUnN,OAC5B,EACF+G,EAAO5R,OAENgU,EAAGc,SAAS8C,MAAMI,UAAU3N,OAASva,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,WACpEjE,EAAGc,SAAS8C,MAAMI,UAAU3N,QAC5B,EACFuH,EAAO3R,MAGT,kBAAC5T,IAAAA,KACEgoB,EAAM1e,KAAI,CAAC8a,EAAGvU,KACb,GAAIuU,EAAE8D,MAAM,GAAGjL,KAAOmH,EAAE8D,MAAM,GAAGjL,GAC/B,OAEF,IAAI4gB,EAAyB,GAE7B,GAAIzC,EAAUhX,EAAEzd,OAAOpC,OAAOimB,aAK5B,GAFAqT,EAAY7V,EAAM9X,QAAQ+X,GAAMA,EAAErY,OAAOqN,KAAOmH,EAAEzd,OAAOsW,KAEhC,IAArB4gB,EAAUj/B,OACZ,IAAK,IAAIuG,KAAOif,EAAEgE,MAAMC,EACV,gBAARljB,GAAiC,WAARA,IAE3Bif,EAAEgE,MAAMC,EAAEljB,GAAO04B,EAAU,GAAGzV,MAAMC,EAAEljB,SAI1CwQ,QAAQC,KAAK,oBAAoBwO,EAAEzd,OAAOoiB,oCAG9C,OACE,kBAAC/oB,IAAAA,CACCmF,IAAK0K,EACLmI,UAAU,OACV8X,cAAY,OACZqS,cAAe,EACf3jB,MAAO/a,KAAK2+B,IAAIhe,EAAExU,OAAO+D,EAAIyQ,EAAEzd,OAAOgN,GACtCqK,OAAQva,KAAK2+B,IAAIhe,EAAExU,OAAOgE,EAAIwQ,EAAEzd,OAAOiN,IAEvC,kBAACyuB,OAAAA,CACC5T,YAAarK,EAAEoE,OACfA,OAAQ4R,EAAchW,EAAEgE,MAAMC,EAAE2T,aAAc5X,EAAEgE,MAAMC,EAAEqC,WACxD4X,GAAIle,EAAEqY,WAAW9oB,EACjB4uB,GAAIne,EAAEqY,WAAW7oB,EACjB4uB,GAAIpe,EAAEuY,SAAShpB,EACf8uB,GAAIre,EAAEuY,SAAS/oB,EACfwtB,YAAc9iC,IACZq/B,GAAgBvZ,EAAG,IAAK9lB,EAAE,EAE5BokC,WAAY1E,GACZ7Q,QAAS,KACH/I,EAAEgE,MAAMC,EAAEyC,cAAclsB,OAAS,GACnCmX,OAAO4sB,KAAKve,EAAEgE,MAAMC,EAAEyC,cAAe,SACvC,EAEFvT,MAAO6M,EAAEgE,MAAMC,EAAEyC,cAAclsB,OAAS,EAAI,CAAEyvB,OAAQ,WAAc,CAAC,IAEtE+M,EAAUhX,EAAEzd,OAAOpC,OAAOimB,aACzB,kBAACoY,SAAAA,CACChT,GAAIxL,EAAEqY,WAAW9oB,EACjBkvB,GAAIze,EAAEqY,WAAW7oB,EACjBvV,EAAGw/B,EAAUj/B,OAAS,EAAI6E,KAAKC,IAAI0gB,EAAEoE,OAAQqV,EAAU,GAAGrV,QAAU,EAAIpE,EAAEoE,OAAS,EACnFgG,KAAM4L,EAAchW,EAAEgE,MAAMC,EAAE2T,aAAc5X,EAAEgE,MAAMC,EAAEqC,WACtDnT,MAAO,CAAEqX,WAAY,YAGvB,GAEDwM,EAAUhX,EAAExU,OAAOrL,OAAOimB,aACzB,GAEA,kBAACpc,IAAAA,SAAc,KACb,kBAAC00B,UAAAA,CACCC,OAAQ,6CACQ3e,EAAEyY,aAAalpB,8CACfyQ,EAAEyY,aAAajpB,8CACfwQ,EAAE0Y,cAAc7B,GAAGtnB,8CACnByQ,EAAE0Y,cAAc7B,GAAGrnB,8CACnBwQ,EAAE0Y,cAAc5B,GAAGvnB,8CACnByQ,EAAE0Y,cAAc5B,GAAGtnB,0CAEnC4a,KAAM4L,EAAchW,EAAEgE,MAAMC,EAAE2T,aAAc5X,EAAEgE,MAAMC,EAAEqC,WACtD0W,YAAc9iC,IACZq/B,GAAgBvZ,EAAG,IAAK9lB,EAAE,EAE5BokC,WAAY1E,GACZ7Q,QAAS,KACH/I,EAAEgE,MAAMC,EAAEyC,cAAclsB,OAAS,GACnCmX,OAAO4sB,KAAKve,EAAEgE,MAAMC,EAAEyC,cAAe,SACvC,EAEFvT,MAAO6M,EAAEgE,MAAMC,EAAEyC,cAAclsB,OAAS,EAAI,CAAEyvB,OAAQ,WAAc,CAAC,IAEvE,kBAACgU,OAAAA,CACC5T,YAAarK,EAAEoE,OACfA,OAAQ4R,EAAchW,EAAEgE,MAAMG,EAAEyT,aAAc5X,EAAEgE,MAAMG,EAAEmC,WACxD4X,GAAIle,EAAEsY,WAAW/oB,EACjB4uB,GAAIne,EAAEsY,WAAW9oB,EACjB4uB,GAAIpe,EAAEwY,SAASjpB,EACf8uB,GAAIre,EAAEwY,SAAShpB,EACfwtB,YAAc9iC,IACZq/B,GAAgBvZ,EAAG,IAAK9lB,EAAE,EAE5BokC,WAAY1E,GACZ7Q,QAAS,KACH/I,EAAEgE,MAAMG,EAAEuC,cAAclsB,OAAS,GACnCmX,OAAO4sB,KAAKve,EAAEgE,MAAMG,EAAEuC,cAAe,SACvC,EAEFvT,MAAO6M,EAAEgE,MAAMG,EAAEuC,cAAclsB,OAAS,EAAI,CAAEyvB,OAAQ,WAAc,CAAC,IAEvE,kBAACyU,UAAAA,CACCC,OAAQ,6CACQ3e,EAAE2Y,aAAappB,8CACfyQ,EAAE2Y,aAAanpB,8CACfwQ,EAAE4Y,cAAc/B,GAAGtnB,8CACnByQ,EAAE4Y,cAAc/B,GAAGrnB,8CACnBwQ,EAAE4Y,cAAc9B,GAAGvnB,8CACnByQ,EAAE4Y,cAAc9B,GAAGtnB,0CAEnC4a,KAAM4L,EAAchW,EAAEgE,MAAMG,EAAEyT,aAAc5X,EAAEgE,MAAMG,EAAEmC,WACtD0W,YAAc9iC,IACZq/B,GAAgBvZ,EAAG,IAAK9lB,EAAE,EAE5BokC,WAAY1E,GACZ7Q,QAAS,KACH/I,EAAEgE,MAAMG,EAAEuC,cAAclsB,OAAS,GACnCmX,OAAO4sB,KAAKve,EAAEgE,MAAMG,EAAEuC,cAAe,SACvC,EAEFvT,MAAO6M,EAAEgE,MAAMG,EAAEuC,cAAclsB,OAAS,EAAI,CAAEyvB,OAAQ,WAAc,CAAC,K,KAQnF,kBAACruB,IAAAA,KACEgoB,EAAM1e,KAAI,CAAC8a,EAAGvU,KACb,GAAIuU,EAAE8D,MAAM,GAAGjL,KAAOmH,EAAE8D,MAAM,GAAGjL,GAC/B,OAEF,MAAMnd,EAAY26B,EAChBrW,EAAEsY,WACFtY,EAAEqY,YACDrB,EAAUhX,EAAExU,OAAOrL,OAAOimB,aAAe,EAAI,KAAQpG,EAAEgE,MAAMC,EAAEwC,YAAc,MAEhF,OACE,kBAAC7qB,IAAAA,CACCmnB,UAAW,SACXrnB,UAAW,aAAaA,EAAU6T,KAAK7T,EAAU8T,KACjDwtB,YAAc9iC,IACZq/B,GAAgBvZ,EAAG,IAAK9lB,EAAE,EAE5BokC,WAAY1E,GACZ74B,IAAK0K,GAEL,kBAAC0e,OAAAA,CACC5a,GACGqT,EAAY,GAAG5C,EAAEgE,MAAMC,EAAE4T,cAAetU,EAAGc,SAASe,WAAWd,MAAMlK,MAAQ,EAC/C,IAA/B,EAAIiK,SAASe,WAAWd,KAAc,EAExC9U,GAAI+T,EAAGc,SAASe,WAAWd,KAC3BlK,MACEwI,EAAY,GAAG5C,EAAEgE,MAAMC,EAAE4T,cAAetU,EAAGc,SAASe,WAAWd,MAAMlK,MACvC,IAA9BmJ,EAAGc,SAASe,WAAWd,KAEzB1K,OAAsC,EAA9B2J,EAAGc,SAASe,WAAWd,KAC/B8F,KAAM1I,EACJ6B,EAAGc,SAASC,KAAKK,MAAMoB,WACvBxC,EAAGc,SAAS8C,MAAMC,iBAEpBhD,OAAQ1C,EAAuB6B,EAAGc,SAASC,KAAKK,MAAMsB,OAAQ1C,EAAGc,SAAS8C,MAAMC,iBAChFiD,YAAa,EACbC,IAAK/G,EAAGc,SAASe,WAAWd,KAAO,GAAK,IAE1C,kBAACzB,OAAAA,CACCtT,EAAG,EACHC,EACEoT,EAAY,GAAG5C,EAAEgE,MAAMC,EAAE4T,cAAetU,EAAGc,SAASe,WAAWd,MAAMuG,wBAA0B,EAEjGJ,WAAY,SACZ3H,SAAU,GAAGS,EAAGc,SAASe,WAAWd,SACpC8F,KAAM7G,EAAGc,SAASC,KAAKK,MAAMzB,MAE5B,GAAGlD,EAAEgE,MAAMC,EAAE4T,eAAa,KAMrC,kBAACj8B,IAAAA,KACEgoB,EAAM1e,KAAI,CAAC8a,EAAGvU,KACb,GAAIuU,EAAE8D,MAAM,GAAGjL,KAAOmH,EAAE8D,MAAM,GAAGjL,IAAMme,EAAUhX,EAAExU,OAAOrL,OAAOimB,aAC/D,OAEF,MAAM1qB,EAAY26B,EAAgBrW,EAAEqY,WAAYrY,EAAEsY,WAAmBtY,EAAEgE,MAAMG,EAAEsC,YAAc,IAA/B,IAC9D,OACE,kBAAC7qB,IAAAA,CACCmnB,UAAW,SACXrnB,UAAW,aAAaA,EAAU6T,KAAK7T,EAAU8T,KACjDwtB,YAAc9iC,IACZq/B,GAAgBvZ,EAAG,IAAK9lB,EAAE,EAE5BokC,WAAY1E,GACZ74B,IAAK0K,GAEL,kBAAC0e,OAAAA,CACC5a,GACGqT,EAAY,GAAG5C,EAAEgE,MAAMG,EAAE0T,cAAetU,EAAGc,SAASe,WAAWd,MAAMlK,MAAQ,EAC/C,IAA/B,EAAIiK,SAASe,WAAWd,KAAc,EAExC9U,GAAI+T,EAAGc,SAASe,WAAWd,KAC3BlK,MACEwI,EAAY,GAAG5C,EAAEgE,MAAMG,EAAE0T,cAAetU,EAAGc,SAASe,WAAWd,MAAMlK,MACvC,IAA9BmJ,EAAGc,SAASe,WAAWd,KAEzB1K,OAAsC,EAA9B2J,EAAGc,SAASe,WAAWd,KAC/B8F,KAAM1I,EACJ6B,EAAGc,SAASC,KAAKK,MAAMoB,WACvBxC,EAAGc,SAAS8C,MAAMC,iBAEpBhD,OAAQ1C,EAAuB6B,EAAGc,SAASC,KAAKK,MAAMsB,OAAQ1C,EAAGc,SAAS8C,MAAMC,iBAChFiD,YAAa,EACbC,IAAK/G,EAAGc,SAASe,WAAWd,KAAO,GAAK,IAE1C,kBAACzB,OAAAA,CACCtT,EAAG,EACHC,EACEoT,EAAY,GAAG5C,EAAEgE,MAAMG,EAAE0T,cAAetU,EAAGc,SAASe,WAAWd,MAAMuG,wBAA0B,EAEjGJ,WAAY,SACZ3H,SAAU,GAAGS,EAAGc,SAASe,WAAWd,SACpC8F,KAAM7G,EAAGc,SAASC,KAAKK,MAAMzB,MAE5B,GAAGlD,EAAEgE,MAAMG,EAAE0T,eAAa,KAMrC,kBAACj8B,IAAAA,KACEkoB,EAAM5e,KAAI,CAAC8a,EAAGvU,IACb,kBAACmzB,EAAOA,CACN79B,IAAKif,EAAEnH,GAEL3P,KAAM8W,EACN6I,YAAaA,EACbC,cAAeA,EACfvF,GAAIA,EACJvS,OAAQ,CAAC9W,EAAGgX,KAENhX,EAAE+iC,UAKNnH,EAAe9V,GACf+W,GAAU8H,GACRA,EAAU35B,KAAI,CAACusB,EAAKtxB,KAClB,GAAIA,IAAUsL,GAAKqd,EAAckB,MAAM3vB,GAAMA,EAAEwe,KAAOiL,EAAM3jB,GAAO0Y,KAAK,CACtE,MAAMimB,EAn4BhC,SAA2BC,GACzB,MAAM5B,EAAU99B,KAAKq9B,IAAI,IAAKnZ,EAAGc,SAAS8C,MAAMK,WAChD,MAAO,CACLjY,EAAGwvB,EAAIxvB,EAAI4tB,EAAUhE,EACrB3pB,EAAGuvB,EAAIvvB,EAAI2tB,EAAUhE,EAEzB,CA63B4C6F,CAAkB,CAAEzvB,EAAG2B,EAASJ,OAAQtB,EAAG0B,EAASH,SACtE0gB,EAAIliB,EAAIlQ,KAAKyf,MACXyE,EAAGc,SAAS8C,MAAMpQ,KAAK0Q,QACnBlE,EAAGO,MAAM3jB,GAAO+Q,SAAS,IAAMugB,EAAIliB,EAAIuvB,EAAUvvB,EAAIgU,EAAGO,MAAM3jB,GAAO+Q,SAAS,IAC9EugB,EAAIliB,EAAIuvB,EAAUvvB,GAExBkiB,EAAIjiB,EAAInQ,KAAKyf,MACXyE,EAAGc,SAAS8C,MAAMpQ,KAAK0Q,QACnBlE,EAAGO,MAAM3jB,GAAO+Q,SAAS,IAAMugB,EAAIjiB,EAAIsvB,EAAUtvB,EAAI+T,EAAGO,MAAM3jB,GAAO+Q,SAAS,IAC9EugB,EAAIjiB,EAAIsvB,EAAUtvB,EAE1B,CACA,OAAOiiB,CAAG,MAGduF,EAAYlT,EAAM/f,QAClBkzB,EACE1T,EAAGK,MAAM1e,KAAI,CAAC8a,EAAGvU,IACRyrB,EAAkBlX,EAAGvU,MAC9B,EAGJwF,OAAQ,CAAC/W,EAAGgX,KAEV4kB,EAAe,MACf,IAAI5jB,EAAsBqR,EAC1BrR,EAAQ4R,MAAMrY,GAAGyF,SAAW,CAC1BqS,EAAGc,SAAS8C,MAAMpQ,KAAK0Q,QACnBrE,EAAgBU,EAAMrY,GAAG8D,EAAGgU,EAAGc,SAAS8C,MAAMpQ,KAAKlW,MACnDijB,EAAMrY,GAAG8D,EACbgU,EAAGc,SAAS8C,MAAMpQ,KAAK0Q,QACnBrE,EAAgBU,EAAMrY,GAAG+D,EAAG+T,EAAGc,SAAS8C,MAAMpQ,KAAKlW,MACnDijB,EAAMrY,GAAG+D,GAGf,IAAK,IAAItG,KAAQ4f,EACf5W,EAAQ4R,MAAM5a,EAAK/I,OAAO+Q,SAAW,CACnCqS,EAAGc,SAAS8C,MAAMpQ,KAAK0Q,QACnBrE,EAAgBU,EAAM5a,EAAK/I,OAAOoP,EAAGgU,EAAGc,SAAS8C,MAAMpQ,KAAKlW,MAC5DijB,EAAM5a,EAAK/I,OAAOoP,EACtBgU,EAAGc,SAAS8C,MAAMpQ,KAAK0Q,QACnBrE,EAAgBU,EAAM5a,EAAK/I,OAAOqP,EAAG+T,EAAGc,SAAS8C,MAAMpQ,KAAKlW,MAC5DijB,EAAM5a,EAAK/I,OAAOqP,GAI1BkmB,EAAgB,OACXpd,GAAAA,CACHmU,WAAYva,I,EAGhB6W,QAAU7uB,IACJA,EAAE+iC,SAAWrH,EACfG,GAAkBpI,IAChB,IAAIsR,EAAStR,EAAEuR,WAAW7kC,GAAMA,EAAEwe,KAAOme,EAAUvrB,GAAGoN,KAMtD,OALIomB,GAAU,EACZtR,EAAE9uB,OAAOogC,EAAQ,GAEjBtR,EAAEjsB,KAAKs1B,EAAUvrB,IAEZkiB,CAAC,KAEAiI,GAAcoB,EAAUvrB,GAAGib,eACrC/U,OAAO4sB,KAAKvH,EAAUvrB,GAAGib,cAAe,UAG1CgP,EAAgBpd,EAAQ,EAE1BxC,UAAW8f,EACXj1B,KAAMA,SAOlB,kBAAC4qB,MAAAA,CACC3X,WAAW4X,EAAAA,EAAAA,IACTxC,EAAOgD,SACPpD,EAAAA,GAAG;uBACQnD,EAAMG,OAAO6F,gBACpBlI,EAAGc,SAAS8C,MAAMC,gBAAgBvF,WAAW,SACzC0B,EAAGc,SAAS8C,MAAMC,gBAAgBtF,MAAM,IAAK,GAAG,GAChDyB,EAAGc,SAAS8C,MAAMC;gBAK3B7D,EAAGc,SAAS8C,MAAMG,cAAgBqO,EAAUwJ,GAAGC,iBAAmB,KAKlE,kBAACp1B,IAAAA,SAAc,KACxB,ISlnCoEq1B,iBAAiBC,GAC9EA,EACJC,gBAAgB,CACf1mB,GAAI,mBACJ+kB,KAAM,aACNv1B,KAAM,kBACNm3B,YAAa,oDACbC,OAAQ9L,GACRtP,SAAU,CACR0J,YAAa,6BAGhBwR,gBAAgB,CACf1mB,GAAI,aACJ+kB,KAAM,aACNv1B,KAAM,oBACNm3B,YAAa,wJACbC,OAAQ5L,M","sources":["webpack:///../node_modules/clsx/dist/clsx.m.js","webpack:///../node_modules/lodash.merge/index.js","webpack:///../node_modules/prop-types/factoryWithThrowingShims.js","webpack:///../node_modules/prop-types/index.js","webpack:///../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///../node_modules/react-draggable/build/cjs/Draggable.js","webpack:///../node_modules/react-draggable/build/cjs/DraggableCore.js","webpack:///../node_modules/react-draggable/build/cjs/cjs.js","webpack:///../node_modules/react-draggable/build/cjs/utils/domFns.js","webpack:///../node_modules/react-draggable/build/cjs/utils/getPrefix.js","webpack:///../node_modules/react-draggable/build/cjs/utils/log.js","webpack:///../node_modules/react-draggable/build/cjs/utils/positionFns.js","webpack:///../node_modules/react-draggable/build/cjs/utils/shims.js","webpack:///external amd \"@grafana/data\"","webpack:///external amd \"@grafana/ui\"","webpack:///external amd \"emotion\"","webpack:///external amd \"react\"","webpack:///external amd \"react-dom\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///./types.ts","webpack:///../node_modules/uuid/dist/esm-browser/rng.js","webpack:///../node_modules/uuid/dist/esm-browser/regex.js","webpack:///../node_modules/uuid/dist/esm-browser/stringify.js","webpack:///../node_modules/uuid/dist/esm-browser/validate.js","webpack:///../node_modules/uuid/dist/esm-browser/v4.js","webpack:///./utils.ts","webpack:///./components/MapNode.tsx","webpack:///./components/ColorScale.tsx","webpack:///./WeathermapPanel.tsx","webpack:///./forms/iconOptions.ts","webpack:///./forms/NodeForm.tsx","webpack:///./forms/FormDivider.tsx","webpack:///./forms/LinkForm.tsx","webpack:///./forms/ColorForm.tsx","webpack:///./forms/PanelForm.tsx","webpack:///./forms/WeathermapBuilder.tsx","webpack:///./forms/ExportForm.tsx","webpack:///./module.ts"],"sourcesContent":["function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"DraggableCore\", {\n  enumerable: true,\n  get: function get() {\n    return _DraggableCore.default;\n  }\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _clsx2 = _interopRequireDefault(require(\"clsx\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _DraggableCore = _interopRequireDefault(require(\"./DraggableCore\"));\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nvar _excluded = [\"axis\", \"bounds\", \"children\", \"defaultPosition\", \"defaultClassName\", \"defaultClassNameDragging\", \"defaultClassNameDragged\", \"position\", \"positionOffset\", \"scale\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n// Define <Draggable>\n//\nvar Draggable = /*#__PURE__*/function (_React$Component) {\n  _inherits(Draggable, _React$Component);\n\n  var _super = _createSuper(Draggable);\n\n  function Draggable(props\n  /*: DraggableProps*/\n  ) {\n    var _this;\n\n    _classCallCheck(this, Draggable);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e, coreData) {\n      (0, _log.default)('Draggable: onDragStart: %j', coreData); // Short-circuit if user's callback killed it.\n\n      var shouldStart = _this.props.onStart(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData)); // Kills start event on core as well, so move handlers are never bound.\n\n\n      if (shouldStart === false) return false;\n\n      _this.setState({\n        dragging: true,\n        dragged: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e, coreData) {\n      if (!_this.state.dragging) return false;\n      (0, _log.default)('Draggable: onDrag: %j', coreData);\n      var uiData = (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        x: uiData.x,\n        y: uiData.y\n      }; // Keep within bounds.\n\n      if (_this.props.bounds) {\n        // Save original x and y.\n        var x = newState.x,\n            y = newState.y; // Add slack to the values used to calculate bound position. This will ensure that if\n        // we start removing slack, the element won't react to it right away until it's been\n        // completely removed.\n\n        newState.x += _this.state.slackX;\n        newState.y += _this.state.slackY; // Get bound position. This will ceil/floor the x and y within the boundaries.\n\n        var _getBoundPosition = (0, _positionFns.getBoundPosition)(_assertThisInitialized(_this), newState.x, newState.y),\n            _getBoundPosition2 = _slicedToArray(_getBoundPosition, 2),\n            newStateX = _getBoundPosition2[0],\n            newStateY = _getBoundPosition2[1];\n\n        newState.x = newStateX;\n        newState.y = newStateY; // Recalculate slack by noting how much was shaved by the boundPosition handler.\n\n        newState.slackX = _this.state.slackX + (x - newState.x);\n        newState.slackY = _this.state.slackY + (y - newState.y); // Update the event we fire to reflect what really happened after bounds took effect.\n\n        uiData.x = newState.x;\n        uiData.y = newState.y;\n        uiData.deltaX = newState.x - _this.state.x;\n        uiData.deltaY = newState.y - _this.state.y;\n      } // Short-circuit if user's callback killed it.\n\n\n      var shouldUpdate = _this.props.onDrag(e, uiData);\n\n      if (shouldUpdate === false) return false;\n\n      _this.setState(newState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e, coreData) {\n      if (!_this.state.dragging) return false; // Short-circuit if user's callback killed it.\n\n      var shouldContinue = _this.props.onStop(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData));\n\n      if (shouldContinue === false) return false;\n      (0, _log.default)('Draggable: onDragStop: %j', coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        dragging: false,\n        slackX: 0,\n        slackY: 0\n      }; // If this is a controlled component, the result of this operation will be to\n      // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n\n      var controlled = Boolean(_this.props.position);\n\n      if (controlled) {\n        var _this$props$position = _this.props.position,\n            x = _this$props$position.x,\n            y = _this$props$position.y;\n        newState.x = x;\n        newState.y = y;\n      }\n\n      _this.setState(newState);\n    });\n\n    _this.state = {\n      // Whether or not we are currently dragging.\n      dragging: false,\n      // Whether or not we have been dragged before.\n      dragged: false,\n      // Current transform x and y.\n      x: props.position ? props.position.x : props.defaultPosition.x,\n      y: props.position ? props.position.y : props.defaultPosition.y,\n      prevPropsPosition: _objectSpread({}, props.position),\n      // Used for compensating for out-of-bounds drags\n      slackX: 0,\n      slackY: 0,\n      // Can only determine if SVG after mounting\n      isElementSVG: false\n    };\n\n    if (props.position && !(props.onDrag || props.onStop)) {\n      // eslint-disable-next-line no-console\n      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n    }\n\n    return _this;\n  }\n\n  _createClass(Draggable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Check to see if the element passed is an instanceof SVGElement\n      if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {\n        this.setState({\n          isElementSVG: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setState({\n        dragging: false\n      }); // prevents invariant if unmounted while dragging\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      var _this$props$nodeRef$c, _this$props, _this$props$nodeRef;\n\n      return (_this$props$nodeRef$c = (_this$props = this.props) === null || _this$props === void 0 ? void 0 : (_this$props$nodeRef = _this$props.nodeRef) === null || _this$props$nodeRef === void 0 ? void 0 : _this$props$nodeRef.current) !== null && _this$props$nodeRef$c !== void 0 ? _this$props$nodeRef$c : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactElement<any>*/\n    {\n      var _clsx;\n\n      var _this$props2 = this.props,\n          axis = _this$props2.axis,\n          bounds = _this$props2.bounds,\n          children = _this$props2.children,\n          defaultPosition = _this$props2.defaultPosition,\n          defaultClassName = _this$props2.defaultClassName,\n          defaultClassNameDragging = _this$props2.defaultClassNameDragging,\n          defaultClassNameDragged = _this$props2.defaultClassNameDragged,\n          position = _this$props2.position,\n          positionOffset = _this$props2.positionOffset,\n          scale = _this$props2.scale,\n          draggableCoreProps = _objectWithoutProperties(_this$props2, _excluded);\n\n      var style = {};\n      var svgTransform = null; // If this is controlled, we don't want to move it - unless it's dragging.\n\n      var controlled = Boolean(position);\n      var draggable = !controlled || this.state.dragging;\n      var validPosition = position || defaultPosition;\n      var transformOpts = {\n        // Set left if horizontal drag is enabled\n        x: (0, _positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,\n        // Set top if vertical drag is enabled\n        y: (0, _positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y\n      }; // If this element was SVG, we use the `transform` attribute.\n\n      if (this.state.isElementSVG) {\n        svgTransform = (0, _domFns.createSVGTransform)(transformOpts, positionOffset);\n      } else {\n        // Add a CSS transform to move the element around. This allows us to move the element around\n        // without worrying about whether or not it is relatively or absolutely positioned.\n        // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n        // has a clean slate.\n        style = (0, _domFns.createCSSTransform)(transformOpts, positionOffset);\n      } // Mark with class while dragging\n\n\n      var className = (0, _clsx2.default)(children.props.className || '', defaultClassName, (_clsx = {}, _defineProperty(_clsx, defaultClassNameDragging, this.state.dragging), _defineProperty(_clsx, defaultClassNameDragged, this.state.dragged), _clsx)); // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n\n      return /*#__PURE__*/React.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop\n      }), /*#__PURE__*/React.cloneElement(React.Children.only(children), {\n        className: className,\n        style: _objectSpread(_objectSpread({}, children.props.style), style),\n        transform: svgTransform\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: // React 16.3+\n    // Arity (props, state)\n    function getDerivedStateFromProps(_ref, _ref2)\n    /*: ?$Shape<DraggableState>*/\n    {\n      var position = _ref.position;\n      var prevPropsPosition = _ref2.prevPropsPosition;\n\n      // Set x/y if a new position is provided in props that is different than the previous.\n      if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {\n        (0, _log.default)('Draggable: getDerivedStateFromProps %j', {\n          position: position,\n          prevPropsPosition: prevPropsPosition\n        });\n        return {\n          x: position.x,\n          y: position.y,\n          prevPropsPosition: _objectSpread({}, position)\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Draggable;\n}(React.Component);\n\nexports.default = Draggable;\n\n_defineProperty(Draggable, \"displayName\", 'Draggable');\n\n_defineProperty(Draggable, \"propTypes\", _objectSpread(_objectSpread({}, _DraggableCore.default.propTypes), {}, {\n  /**\n   * `axis` determines which axis the draggable can move.\n   *\n   *  Note that all callbacks will still return data as normal. This only\n   *  controls flushing to the DOM.\n   *\n   * 'both' allows movement horizontally and vertically.\n   * 'x' limits movement to horizontal axis.\n   * 'y' limits movement to vertical axis.\n   * 'none' limits all movement.\n   *\n   * Defaults to 'both'.\n   */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n\n  /**\n   * `bounds` determines the range of movement available to the element.\n   * Available values are:\n   *\n   * 'parent' restricts movement within the Draggable's parent node.\n   *\n   * Alternatively, pass an object with the following properties, all of which are optional:\n   *\n   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n   *\n   * All values are in px.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable bounds={{right: 300, bottom: 300}}>\n   *              <div>Content</div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  bounds: _propTypes.default.oneOfType([_propTypes.default.shape({\n    left: _propTypes.default.number,\n    right: _propTypes.default.number,\n    top: _propTypes.default.number,\n    bottom: _propTypes.default.number\n  }), _propTypes.default.string, _propTypes.default.oneOf([false])]),\n  defaultClassName: _propTypes.default.string,\n  defaultClassNameDragging: _propTypes.default.string,\n  defaultClassNameDragged: _propTypes.default.string,\n\n  /**\n   * `defaultPosition` specifies the x and y that the dragged item should start at\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  defaultPosition: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  positionOffset: _propTypes.default.shape({\n    x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  }),\n\n  /**\n   * `position`, if present, defines the current position of the element.\n   *\n   *  This is similar to how form elements in React work - if no `position` is supplied, the component\n   *  is uncontrolled.\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable position={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  position: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n}));\n\n_defineProperty(Draggable, \"defaultProps\", _objectSpread(_objectSpread({}, _DraggableCore.default.defaultProps), {}, {\n  axis: 'both',\n  bounds: false,\n  defaultClassName: 'react-draggable',\n  defaultClassNameDragging: 'react-draggable-dragging',\n  defaultClassNameDragged: 'react-draggable-dragged',\n  defaultPosition: {\n    x: 0,\n    y: 0\n  },\n  scale: 1\n}));","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Simple abstraction for dragging events names.\nvar eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n}; // Default to mouse events.\n\nvar dragEventFor = eventsFor.mouse;\n/*:: type DraggableCoreState = {\n  dragging: boolean,\n  lastX: number,\n  lastY: number,\n  touchIdentifier: ?number\n};*/\n\n/*:: export type DraggableData = {\n  node: HTMLElement,\n  x: number, y: number,\n  deltaX: number, deltaY: number,\n  lastX: number, lastY: number,\n};*/\n\n/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void | false;*/\n\n/*:: export type ControlPosition = {x: number, y: number};*/\n\n/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n\n/*:: export type DraggableCoreDefaultProps = {\n  allowAnyClick: boolean,\n  disabled: boolean,\n  enableUserSelectHack: boolean,\n  onStart: DraggableEventHandler,\n  onDrag: DraggableEventHandler,\n  onStop: DraggableEventHandler,\n  onMouseDown: (e: MouseEvent) => void,\n  scale: number,\n};*/\n\n/*:: export type DraggableCoreProps = {\n  ...DraggableCoreDefaultProps,\n  cancel: string,\n  children: ReactElement<any>,\n  offsetParent: HTMLElement,\n  grid: [number, number],\n  handle: string,\n  nodeRef?: ?React.ElementRef<any>,\n};*/\n\n//\n// Define <DraggableCore>.\n//\n// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n// work well with libraries that require more control over the element.\n//\nvar DraggableCore = /*#__PURE__*/function (_React$Component) {\n  _inherits(DraggableCore, _React$Component);\n\n  var _super = _createSuper(DraggableCore);\n\n  function DraggableCore() {\n    var _this;\n\n    _classCallCheck(this, DraggableCore);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      dragging: false,\n      // Used while dragging to determine deltas.\n      lastX: NaN,\n      lastY: NaN,\n      touchIdentifier: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStart\", function (e) {\n      // Make it possible to attach event handlers on top of this one.\n      _this.props.onMouseDown(e); // Only accept left-clicks.\n\n\n      if (!_this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false; // Get nodes. Be sure to grab relative document (could be iframed)\n\n      var thisNode = _this.findDOMNode();\n\n      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n        throw new Error('<DraggableCore> not mounted on DragStart!');\n      }\n\n      var ownerDocument = thisNode.ownerDocument; // Short circuit if handle or cancel prop was provided and selector doesn't match.\n\n      if (_this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || _this.props.handle && !(0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.handle, thisNode) || _this.props.cancel && (0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.cancel, thisNode)) {\n        return;\n      } // Prevent scrolling on mobile devices, like ipad/iphone.\n      // Important that this is after handle/cancel.\n\n\n      if (e.type === 'touchstart') e.preventDefault(); // Set touch identifier in component state if this is a touch event. This allows us to\n      // distinguish between individual touches on multitouch screens by identifying which\n      // touchpoint was set to this element.\n\n      var touchIdentifier = (0, _domFns.getTouchIdentifier)(e);\n\n      _this.setState({\n        touchIdentifier: touchIdentifier\n      }); // Get the current drag point from the event. This is used as the offset.\n\n\n      var position = (0, _positionFns.getControlPosition)(e, touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return; // not possible but satisfies flow\n\n      var x = position.x,\n          y = position.y; // Create an event object with all the data parents need to make a decision here.\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent); // Call event handler. If it returns explicit false, cancel.\n\n      (0, _log.default)('calling', _this.props.onStart);\n\n      var shouldUpdate = _this.props.onStart(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) return; // Add a style to the body to disable user-select. This prevents text from\n      // being selected all over the page.\n\n      if (_this.props.enableUserSelectHack) (0, _domFns.addUserSelectStyles)(ownerDocument); // Initiate dragging. Set the current x and y as offsets\n      // so we know how much we've moved during the drag. This allows us\n      // to drag elements around even if they have been moved, without issue.\n\n      _this.setState({\n        dragging: true,\n        lastX: x,\n        lastY: y\n      }); // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n      // this element. We use different events depending on whether or not we have detected that this\n      // is a touch-capable device.\n\n\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.move, _this.handleDrag);\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.stop, _this.handleDragStop);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDrag\", function (e) {\n      // Get the current drag point from the event. This is used as the offset.\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y; // Snap to grid if prop has been provided\n\n      if (Array.isArray(_this.props.grid)) {\n        var deltaX = x - _this.state.lastX,\n            deltaY = y - _this.state.lastY;\n\n        var _snapToGrid = (0, _positionFns.snapToGrid)(_this.props.grid, deltaX, deltaY);\n\n        var _snapToGrid2 = _slicedToArray(_snapToGrid, 2);\n\n        deltaX = _snapToGrid2[0];\n        deltaY = _snapToGrid2[1];\n        if (!deltaX && !deltaY) return; // skip useless drag\n\n        x = _this.state.lastX + deltaX, y = _this.state.lastY + deltaY;\n      }\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent); // Call event handler. If it returns explicit false, trigger end.\n\n      var shouldUpdate = _this.props.onDrag(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) {\n        try {\n          // $FlowIgnore\n          _this.handleDragStop(new MouseEvent('mouseup'));\n        } catch (err) {\n          // Old browsers\n          var event = ((document.createEvent('MouseEvents')\n          /*: any*/\n          )\n          /*: MouseTouchEvent*/\n          ); // I see why this insanity was deprecated\n          // $FlowIgnore\n\n          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n          _this.handleDragStop(event);\n        }\n\n        return;\n      }\n\n      _this.setState({\n        lastX: x,\n        lastY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStop\", function (e) {\n      if (!_this.state.dragging) return;\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y; // Snap to grid if prop has been provided\n\n      if (Array.isArray(_this.props.grid)) {\n        var deltaX = x - _this.state.lastX || 0;\n        var deltaY = y - _this.state.lastY || 0;\n\n        var _snapToGrid3 = (0, _positionFns.snapToGrid)(_this.props.grid, deltaX, deltaY);\n\n        var _snapToGrid4 = _slicedToArray(_snapToGrid3, 2);\n\n        deltaX = _snapToGrid4[0];\n        deltaY = _snapToGrid4[1];\n        x = _this.state.lastX + deltaX, y = _this.state.lastY + deltaY;\n      }\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y); // Call event handler\n\n      var shouldContinue = _this.props.onStop(e, coreEvent);\n\n      if (shouldContinue === false || _this.mounted === false) return false;\n\n      var thisNode = _this.findDOMNode();\n\n      if (thisNode) {\n        // Remove user-select hack\n        if (_this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(thisNode.ownerDocument);\n      }\n\n      (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent); // Reset the el.\n\n      _this.setState({\n        dragging: false,\n        lastX: NaN,\n        lastY: NaN\n      });\n\n      if (thisNode) {\n        // Remove event handlers\n        (0, _log.default)('DraggableCore: Removing handlers');\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, _this.handleDrag);\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, _this.handleDragStop);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function (e) {\n      dragEventFor = eventsFor.mouse;\n      return _this.handleDragStop(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStop(e);\n    });\n\n    return _this;\n  }\n\n  _createClass(DraggableCore, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true; // Touch handlers must be added with {passive: false} to be cancelable.\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        (0, _domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false; // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n      // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        var ownerDocument = thisNode.ownerDocument;\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n        if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(ownerDocument);\n      }\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      var _this$props, _this$props2, _this$props2$nodeRef;\n\n      return (_this$props = this.props) !== null && _this$props !== void 0 && _this$props.nodeRef ? (_this$props2 = this.props) === null || _this$props2 === void 0 ? void 0 : (_this$props2$nodeRef = _this$props2.nodeRef) === null || _this$props2$nodeRef === void 0 ? void 0 : _this$props2$nodeRef.current : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: React.Element<any>*/\n    {\n      // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n      return /*#__PURE__*/React.cloneElement(React.Children.only(this.props.children), {\n        // Note: mouseMove handler is attached to document so it will still function\n        // when the user drags quickly and leaves the bounds of the element.\n        onMouseDown: this.onMouseDown,\n        onMouseUp: this.onMouseUp,\n        // onTouchStart is added on `componentDidMount` so they can be added with\n        // {passive: false}, which allows it to cancel. See\n        // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n        onTouchEnd: this.onTouchEnd\n      });\n    }\n  }]);\n\n  return DraggableCore;\n}(React.Component);\n\nexports.default = DraggableCore;\n\n_defineProperty(DraggableCore, \"displayName\", 'DraggableCore');\n\n_defineProperty(DraggableCore, \"propTypes\", {\n  /**\n   * `allowAnyClick` allows dragging using any mouse button.\n   * By default, we only accept the left button.\n   *\n   * Defaults to `false`.\n   */\n  allowAnyClick: _propTypes.default.bool,\n\n  /**\n   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n   * with the exception of `onMouseDown`, will not fire.\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\n   * By default, we add 'user-select:none' attributes to the document body\n   * to prevent ugly text selection during drag. If this is causing problems\n   * for your app, set this to `false`.\n   */\n  enableUserSelectHack: _propTypes.default.bool,\n\n  /**\n   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n   * instead of using the parent node.\n   */\n  offsetParent: function offsetParent(props\n  /*: DraggableCoreProps*/\n  , propName\n  /*: $Keys<DraggableCoreProps>*/\n  ) {\n    if (props[propName] && props[propName].nodeType !== 1) {\n      throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n    }\n  },\n\n  /**\n   * `grid` specifies the x and y that dragging should snap to.\n   */\n  grid: _propTypes.default.arrayOf(_propTypes.default.number),\n\n  /**\n   * `handle` specifies a selector to be used as the handle that initiates drag.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable handle=\".handle\">\n   *              <div>\n   *                  <div className=\"handle\">Click me to drag</div>\n   *                  <div>This is some other content</div>\n   *              </div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  handle: _propTypes.default.string,\n\n  /**\n   * `cancel` specifies a selector to be used to prevent drag initialization.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *           return(\n   *               <Draggable cancel=\".cancel\">\n   *                   <div>\n   *                     <div className=\"cancel\">You can't drag from here</div>\n   *                     <div>Dragging here works fine</div>\n   *                   </div>\n   *               </Draggable>\n   *           );\n   *       }\n   *   });\n   * ```\n   */\n  cancel: _propTypes.default.string,\n\n  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.\n   * Unfortunately, in order for <Draggable> to work properly, we need raw access\n   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`\n   * as in this example:\n   *\n   * function MyComponent() {\n   *   const nodeRef = React.useRef(null);\n   *   return (\n   *     <Draggable nodeRef={nodeRef}>\n   *       <div ref={nodeRef}>Example Target</div>\n   *     </Draggable>\n   *   );\n   * }\n   *\n   * This can be used for arbitrarily nested components, so long as the ref ends up\n   * pointing to the actual child DOM node and not a custom component.\n   */\n  nodeRef: _propTypes.default.object,\n\n  /**\n   * Called when dragging starts.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onStart: _propTypes.default.func,\n\n  /**\n   * Called while dragging.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onDrag: _propTypes.default.func,\n\n  /**\n   * Called when dragging stops.\n   * If this function returns the boolean false, the drag will remain active.\n   */\n  onStop: _propTypes.default.func,\n\n  /**\n   * A workaround option which can be passed if onMouseDown needs to be accessed,\n   * since it'll always be blocked (as there is internal use of onMouseDown)\n   */\n  onMouseDown: _propTypes.default.func,\n\n  /**\n   * `scale`, if set, applies scaling while dragging an element\n   */\n  scale: _propTypes.default.number,\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n\n_defineProperty(DraggableCore, \"defaultProps\", {\n  allowAnyClick: false,\n  // by default only accept left click\n  disabled: false,\n  enableUserSelectHack: true,\n  onStart: function onStart() {},\n  onDrag: function onDrag() {},\n  onStop: function onStop() {},\n  onMouseDown: function onMouseDown() {},\n  scale: 1\n});","\"use strict\";\n\nvar _require = require('./Draggable'),\n    Draggable = _require.default,\n    DraggableCore = _require.DraggableCore; // Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.\n// See https://github.com/mzabriskie/react-draggable/pull/254\n// and https://github.com/mzabriskie/react-draggable/issues/266\n\n\nmodule.exports = Draggable;\nmodule.exports.default = Draggable;\nmodule.exports.DraggableCore = DraggableCore;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addClassName = addClassName;\nexports.addEvent = addEvent;\nexports.addUserSelectStyles = addUserSelectStyles;\nexports.createCSSTransform = createCSSTransform;\nexports.createSVGTransform = createSVGTransform;\nexports.getTouch = getTouch;\nexports.getTouchIdentifier = getTouchIdentifier;\nexports.getTranslation = getTranslation;\nexports.innerHeight = innerHeight;\nexports.innerWidth = innerWidth;\nexports.matchesSelector = matchesSelector;\nexports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;\nexports.offsetXYFromParent = offsetXYFromParent;\nexports.outerHeight = outerHeight;\nexports.outerWidth = outerWidth;\nexports.removeClassName = removeClassName;\nexports.removeEvent = removeEvent;\nexports.removeUserSelectStyles = removeUserSelectStyles;\n\nvar _shims = require(\"./shims\");\n\nvar _getPrefix = _interopRequireWildcard(require(\"./getPrefix\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar matchesSelectorFunc = '';\n\nfunction matchesSelector(el\n/*: Node*/\n, selector\n/*: string*/\n)\n/*: boolean*/\n{\n  if (!matchesSelectorFunc) {\n    matchesSelectorFunc = (0, _shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n      // $FlowIgnore: Doesn't think elements are indexable\n      return (0, _shims.isFunction)(el[method]);\n    });\n  } // Might not be found entirely (not an Element?) - in that case, bail\n  // $FlowIgnore: Doesn't think elements are indexable\n\n\n  if (!(0, _shims.isFunction)(el[matchesSelectorFunc])) return false; // $FlowIgnore: Doesn't think elements are indexable\n\n  return el[matchesSelectorFunc](selector);\n} // Works up the tree to the draggable itself attempting to match selector.\n\n\nfunction matchesSelectorAndParentsTo(el\n/*: Node*/\n, selector\n/*: string*/\n, baseNode\n/*: Node*/\n)\n/*: boolean*/\n{\n  var node = el;\n\n  do {\n    if (matchesSelector(node, selector)) return true;\n    if (node === baseNode) return false;\n    node = node.parentNode;\n  } while (node);\n\n  return false;\n}\n\nfunction addEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions); // $FlowIgnore[method-unbinding]\n\n\n  if (el.addEventListener) {\n    el.addEventListener(event, handler, options);\n  } else if (el.attachEvent) {\n    el.attachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = handler;\n  }\n}\n\nfunction removeEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions); // $FlowIgnore[method-unbinding]\n\n\n  if (el.removeEventListener) {\n    el.removeEventListener(event, handler, options);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = null;\n  }\n}\n\nfunction outerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetTop which is including margin. See getBoundPosition\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height += (0, _shims.int)(computedStyle.borderTopWidth);\n  height += (0, _shims.int)(computedStyle.borderBottomWidth);\n  return height;\n}\n\nfunction outerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetLeft which is including margin. See getBoundPosition\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width += (0, _shims.int)(computedStyle.borderLeftWidth);\n  width += (0, _shims.int)(computedStyle.borderRightWidth);\n  return width;\n}\n\nfunction innerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height -= (0, _shims.int)(computedStyle.paddingTop);\n  height -= (0, _shims.int)(computedStyle.paddingBottom);\n  return height;\n}\n\nfunction innerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width -= (0, _shims.int)(computedStyle.paddingLeft);\n  width -= (0, _shims.int)(computedStyle.paddingRight);\n  return width;\n}\n/*:: interface EventWithOffset {\n  clientX: number, clientY: number\n}*/\n\n\n// Get from offsetParent\nfunction offsetXYFromParent(evt\n/*: EventWithOffset*/\n, offsetParent\n/*: HTMLElement*/\n, scale\n/*: number*/\n)\n/*: ControlPosition*/\n{\n  var isBody = offsetParent === offsetParent.ownerDocument.body;\n  var offsetParentRect = isBody ? {\n    left: 0,\n    top: 0\n  } : offsetParent.getBoundingClientRect();\n  var x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;\n  var y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction createCSSTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: Object*/\n{\n  var translation = getTranslation(controlPos, positionOffset, 'px');\n  return _defineProperty({}, (0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default), translation);\n}\n\nfunction createSVGTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: string*/\n{\n  var translation = getTranslation(controlPos, positionOffset, '');\n  return translation;\n}\n\nfunction getTranslation(_ref2, positionOffset\n/*: PositionOffsetControlPosition*/\n, unitSuffix\n/*: string*/\n)\n/*: string*/\n{\n  var x = _ref2.x,\n      y = _ref2.y;\n  var translation = \"translate(\".concat(x).concat(unitSuffix, \",\").concat(y).concat(unitSuffix, \")\");\n\n  if (positionOffset) {\n    var defaultX = \"\".concat(typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);\n    var defaultY = \"\".concat(typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);\n    translation = \"translate(\".concat(defaultX, \", \").concat(defaultY, \")\") + translation;\n  }\n\n  return translation;\n}\n\nfunction getTouch(e\n/*: MouseTouchEvent*/\n, identifier\n/*: number*/\n)\n/*: ?{clientX: number, clientY: number}*/\n{\n  return e.targetTouches && (0, _shims.findInArray)(e.targetTouches, function (t) {\n    return identifier === t.identifier;\n  }) || e.changedTouches && (0, _shims.findInArray)(e.changedTouches, function (t) {\n    return identifier === t.identifier;\n  });\n}\n\nfunction getTouchIdentifier(e\n/*: MouseTouchEvent*/\n)\n/*: ?number*/\n{\n  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n} // User-select Hacks:\n//\n// Useful for preventing blue highlights all over everything when dragging.\n// Note we're passing `document` b/c we could be iframed\n\n\nfunction addUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n  var styleEl = doc.getElementById('react-draggable-style-el');\n\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\n\nfunction removeUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection'); // $FlowIgnore: IE\n\n    if (doc.selection) {\n      // $FlowIgnore: IE\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      var selection = (doc.defaultView || window).getSelection();\n\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {// probably IE\n  }\n}\n\nfunction addClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\")))) {\n      el.className += \" \".concat(className);\n    }\n  }\n}\n\nfunction removeClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\"), 'g'), '');\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.browserPrefixToKey = browserPrefixToKey;\nexports.browserPrefixToStyle = browserPrefixToStyle;\nexports.default = void 0;\nexports.getPrefix = getPrefix;\nvar prefixes = ['Moz', 'Webkit', 'O', 'ms'];\n\nfunction getPrefix()\n/*: string*/\n{\n  var _window$document, _window$document$docu;\n\n  var prop\n  /*: string*/\n  = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n  // Ensure we're running in an environment where there is actually a global\n  // `window` obj\n  if (typeof window === 'undefined') return ''; // If we're in a pseudo-browser server-side environment, this access\n  // path may not exist, so bail out if it doesn't.\n\n  var style = (_window$document = window.document) === null || _window$document === void 0 ? void 0 : (_window$document$docu = _window$document.documentElement) === null || _window$document$docu === void 0 ? void 0 : _window$document$docu.style;\n  if (!style) return '';\n  if (prop in style) return '';\n\n  for (var i = 0; i < prefixes.length; i++) {\n    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n  }\n\n  return '';\n}\n\nfunction browserPrefixToKey(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"\".concat(prefix).concat(kebabToTitleCase(prop)) : prop;\n}\n\nfunction browserPrefixToStyle(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"-\".concat(prefix.toLowerCase(), \"-\").concat(prop) : prop;\n}\n\nfunction kebabToTitleCase(str\n/*: string*/\n)\n/*: string*/\n{\n  var out = '';\n  var shouldCapitalize = true;\n\n  for (var i = 0; i < str.length; i++) {\n    if (shouldCapitalize) {\n      out += str[i].toUpperCase();\n      shouldCapitalize = false;\n    } else if (str[i] === '-') {\n      shouldCapitalize = true;\n    } else {\n      out += str[i];\n    }\n  }\n\n  return out;\n} // Default export is the prefix itself, like 'Moz', 'Webkit', etc\n// Note that you may have to re-test for certain things; for instance, Chrome 50\n// can handle unprefixed `transform`, but not unprefixed `user-select`\n\n\nvar _default = (getPrefix()\n/*: string*/\n);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = log;\n\n/*eslint no-console:0*/\nfunction log() {\n  var _console;\n\n  if (undefined) (_console = console).log.apply(_console, arguments);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canDragX = canDragX;\nexports.canDragY = canDragY;\nexports.createCoreData = createCoreData;\nexports.createDraggableData = createDraggableData;\nexports.getBoundPosition = getBoundPosition;\nexports.getControlPosition = getControlPosition;\nexports.snapToGrid = snapToGrid;\n\nvar _shims = require(\"./shims\");\n\nvar _domFns = require(\"./domFns\");\n\nfunction getBoundPosition(draggable\n/*: Draggable*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: [number, number]*/\n{\n  // If no bounds, short-circuit and move on\n  if (!draggable.props.bounds) return [x, y]; // Clone new bounds\n\n  var bounds = draggable.props.bounds;\n  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n  var node = findDOMNode(draggable);\n\n  if (typeof bounds === 'string') {\n    var ownerDocument = node.ownerDocument;\n    var ownerWindow = ownerDocument.defaultView;\n    var boundNode;\n\n    if (bounds === 'parent') {\n      boundNode = node.parentNode;\n    } else {\n      boundNode = ownerDocument.querySelector(bounds);\n    }\n\n    if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n      throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n    }\n\n    var boundNodeEl\n    /*: HTMLElement*/\n    = boundNode; // for Flow, can't seem to refine correctly\n\n    var nodeStyle = ownerWindow.getComputedStyle(node);\n    var boundNodeStyle = ownerWindow.getComputedStyle(boundNodeEl); // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n\n    bounds = {\n      left: -node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingLeft) + (0, _shims.int)(nodeStyle.marginLeft),\n      top: -node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingTop) + (0, _shims.int)(nodeStyle.marginTop),\n      right: (0, _domFns.innerWidth)(boundNodeEl) - (0, _domFns.outerWidth)(node) - node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingRight) - (0, _shims.int)(nodeStyle.marginRight),\n      bottom: (0, _domFns.innerHeight)(boundNodeEl) - (0, _domFns.outerHeight)(node) - node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingBottom) - (0, _shims.int)(nodeStyle.marginBottom)\n    };\n  } // Keep x and y below right and bottom limits...\n\n\n  if ((0, _shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);\n  if ((0, _shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom); // But above left and top limits.\n\n  if ((0, _shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);\n  if ((0, _shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);\n  return [x, y];\n}\n\nfunction snapToGrid(grid\n/*: [number, number]*/\n, pendingX\n/*: number*/\n, pendingY\n/*: number*/\n)\n/*: [number, number]*/\n{\n  var x = Math.round(pendingX / grid[0]) * grid[0];\n  var y = Math.round(pendingY / grid[1]) * grid[1];\n  return [x, y];\n}\n\nfunction canDragX(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n}\n\nfunction canDragY(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n} // Get {x, y} positions from event.\n\n\nfunction getControlPosition(e\n/*: MouseTouchEvent*/\n, touchIdentifier\n/*: ?number*/\n, draggableCore\n/*: DraggableCore*/\n)\n/*: ?ControlPosition*/\n{\n  var touchObj = typeof touchIdentifier === 'number' ? (0, _domFns.getTouch)(e, touchIdentifier) : null;\n  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n\n  var node = findDOMNode(draggableCore); // User can provide an offsetParent if desired.\n\n  var offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n  return (0, _domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);\n} // Create an data object exposed by <DraggableCore>'s events\n\n\nfunction createCoreData(draggable\n/*: DraggableCore*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: DraggableData*/\n{\n  var state = draggable.state;\n  var isStart = !(0, _shims.isNum)(state.lastX);\n  var node = findDOMNode(draggable);\n\n  if (isStart) {\n    // If this is our first move, use the x and y as last coords.\n    return {\n      node: node,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: x,\n      lastY: y,\n      x: x,\n      y: y\n    };\n  } else {\n    // Otherwise calculate proper values.\n    return {\n      node: node,\n      deltaX: x - state.lastX,\n      deltaY: y - state.lastY,\n      lastX: state.lastX,\n      lastY: state.lastY,\n      x: x,\n      y: y\n    };\n  }\n} // Create an data exposed by <Draggable>'s events\n\n\nfunction createDraggableData(draggable\n/*: Draggable*/\n, coreData\n/*: DraggableData*/\n)\n/*: DraggableData*/\n{\n  var scale = draggable.props.scale;\n  return {\n    node: coreData.node,\n    x: draggable.state.x + coreData.deltaX / scale,\n    y: draggable.state.y + coreData.deltaY / scale,\n    deltaX: coreData.deltaX / scale,\n    deltaY: coreData.deltaY / scale,\n    lastX: draggable.state.x,\n    lastY: draggable.state.y\n  };\n} // A lot faster than stringify/parse\n\n\nfunction cloneBounds(bounds\n/*: Bounds*/\n)\n/*: Bounds*/\n{\n  return {\n    left: bounds.left,\n    top: bounds.top,\n    right: bounds.right,\n    bottom: bounds.bottom\n  };\n}\n\nfunction findDOMNode(draggable\n/*: Draggable | DraggableCore*/\n)\n/*: HTMLElement*/\n{\n  var node = draggable.findDOMNode();\n\n  if (!node) {\n    throw new Error('<DraggableCore>: Unmounted during event!');\n  } // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n\n\n  return node;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dontSetMe = dontSetMe;\nexports.findInArray = findInArray;\nexports.int = int;\nexports.isFunction = isFunction;\nexports.isNum = isNum;\n\n// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\nfunction findInArray(array\n/*: Array<any> | TouchList*/\n, callback\n/*: Function*/\n)\n/*: any*/\n{\n  for (var i = 0, length = array.length; i < length; i++) {\n    if (callback.apply(callback, [array[i], i, array])) return array[i];\n  }\n}\n\nfunction isFunction(func\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  // $FlowIgnore[method-unbinding]\n  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n}\n\nfunction isNum(num\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  return typeof num === 'number' && !isNaN(num);\n}\n\nfunction int(a\n/*: string*/\n)\n/*: number*/\n{\n  return parseInt(a, 10);\n}\n\nfunction dontSetMe(props\n/*: Object*/\n, propName\n/*: string*/\n, componentName\n/*: string*/\n)\n/*: ?Error*/\n{\n  if (props[propName]) {\n    return new Error(\"Invalid prop \".concat(propName, \" passed to \").concat(componentName, \" - do not set this, set it on the child.\"));\n  }\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__305__;","module.exports = __WEBPACK_EXTERNAL_MODULE__388__;","module.exports = __WEBPACK_EXTERNAL_MODULE__881__;","module.exports = __WEBPACK_EXTERNAL_MODULE__650__;","module.exports = __WEBPACK_EXTERNAL_MODULE__729__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","import { DataFrame } from '@grafana/data';\n\nexport interface PanelOptions {\n  backgroundColor: string;\n  backgroundImage?: BGImageOptions;\n  panelSize: AreaSize;\n  zoomScale: number;\n  offset: Position;\n  showTimestamp: boolean;\n  grid: {\n    enabled: boolean;\n    size: number;\n    guidesEnabled: boolean;\n  };\n}\n\nexport interface BGImageOptions {\n  url: string;\n  fit: string;\n}\n\nexport interface TooltipOptions {\n  fontSize: number;\n  textColor: string;\n  backgroundColor: string;\n  inboundColor: string;\n  outboundColor: string;\n  scaleToBandwidth: boolean;\n}\n\nexport interface AreaSize {\n  width: number;\n  height: number;\n}\n\nexport enum Anchor {\n  Center = 0,\n  Top,\n  Bottom,\n  Left,\n  Right,\n}\n\nexport interface NodeAnchor {\n  numLinks: number;\n  numFilledLinks: number;\n}\n\nexport interface Icon {\n  src: string;\n  name: string;\n  size: AreaSize;\n  padding: {\n    vertical: number;\n    horizontal: number;\n  };\n  drawInside: boolean;\n}\n\nexport interface Node {\n  id: string;\n  position: [number, number];\n  label?: string;\n  dashboardLink?: string;\n  anchors: {\n    [Anchor.Center]: NodeAnchor;\n    [Anchor.Top]: NodeAnchor;\n    [Anchor.Bottom]: NodeAnchor;\n    [Anchor.Left]: NodeAnchor;\n    [Anchor.Right]: NodeAnchor;\n  };\n  useConstantSpacing: boolean;\n  compactVerticalLinks: boolean;\n  padding: {\n    horizontal: number;\n    vertical: number;\n  };\n  colors: {\n    font: string;\n    background: string;\n    border: string;\n    statusDown: string;\n  };\n  nodeIcon: Icon | null;\n  isConnection: boolean;\n  statusQuery?: string;\n}\n\nexport interface LinkSide {\n  bandwidth: number;\n  bandwidthQuery: string | undefined;\n  query: string | undefined;\n  labelOffset: number;\n  anchor: Anchor;\n  dashboardLink: string;\n}\n\nexport interface Link {\n  id: string;\n  nodes: [Node, Node];\n  sides: {\n    A: LinkSide;\n    Z: LinkSide;\n  };\n  units: string | undefined;\n  arrows: ArrowOptions;\n  stroke: number;\n  showThroughputPercentage: boolean;\n}\n\nexport interface DrawnNode extends Node {\n  filledLinks: number;\n  index: number;\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  labelWidth: number;\n}\n\nexport interface Position {\n  x: number;\n  y: number;\n}\n\nexport interface DrawnLinkSide extends LinkSide {\n  currentValue: number;\n  currentText: string;\n  currentBandwidthText: string;\n  currentValueText: string;\n  currentPercentageText: string;\n}\nexport interface DrawnLink extends Link {\n  sides: {\n    A: DrawnLinkSide;\n    Z: DrawnLinkSide;\n  };\n  index: number;\n  source: DrawnNode;\n  target: DrawnNode;\n  lineStartA: Position;\n  lineEndA: Position;\n  arrowCenterA: Position;\n  arrowPolygonA: any;\n  lineStartZ: Position;\n  lineEndZ: Position;\n  arrowCenterZ: Position;\n  arrowPolygonZ: any;\n}\n\nexport interface HoveredLink {\n  link: DrawnLink;\n  side: 'A' | 'Z';\n  mouseEvent: any;\n}\n\nexport interface ArrowOptions {\n  width: number;\n  height: number;\n  offset: number;\n}\n\nexport interface WeathermapSettings {\n  link: {\n    spacing: {\n      horizontal: number;\n      vertical: number;\n    };\n    stroke: {\n      color: string;\n    };\n    label: {\n      background: string;\n      border: string;\n      font: string;\n    };\n    showAllWithPercentage: boolean;\n    defaultUnits?: string;\n  };\n  fontSizing: {\n    node: number;\n    link: number;\n  };\n  panel: PanelOptions;\n  tooltip: TooltipOptions;\n  scale: TrafficPanelSettings;\n}\n\nexport interface Threshold {\n  percent: number;\n  color: string;\n}\n\nexport interface TrafficPanelSettings {\n  position: Position;\n  size: AreaSize;\n  title: string;\n  fontSizing: {\n    title: number;\n    threshold: number;\n  };\n}\n\nexport interface Weathermap {\n  version: number;\n  id: string;\n  nodes: Node[];\n  links: Link[];\n  scale: Threshold[];\n  settings: WeathermapSettings;\n}\n\nexport interface SimpleOptions {\n  weathermap: Weathermap;\n}\n\nexport interface DataFrameWithId extends DataFrame {\n  id: string;\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { DataFrame, GrafanaTheme2, getFieldDisplayName } from '@grafana/data';\nimport merge from 'lodash.merge';\nimport { Anchor, DrawnNode, Link, Node, Weathermap } from 'types';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport const CURRENT_VERSION = 14;\n\nlet colorsCalculatedCache: { [colors: string]: string } = {};\n\n/**\n * Creates a solid color from an translucent foreground.\n * @param fg foreground color\n * @param bg background color\n * @returns calculated solid color\n */\nexport function getSolidFromAlphaColor(fg: string, bg: string): string {\n  if (bg.startsWith('image')) {\n    return getSolidFromAlphaColor(fg, bg.split('|', 3)[1]);\n  }\n\n  if (colorsCalculatedCache[fg + bg]) {\n    return colorsCalculatedCache[fg + bg];\n  }\n\n  let fgColor = parseColor(fg.toUpperCase());\n  if (fgColor.length < 4) {\n    return fg;\n  }\n\n  let bgColor = parseColor(bg.toUpperCase());\n  if (bgColor.length < 4) {\n    bgColor.push(1.0);\n  }\n\n  let finalColor = [\n    bgColor[0] + (fgColor[0] - bgColor[0]) * fgColor[3],\n    bgColor[1] + (fgColor[1] - bgColor[1]) * fgColor[3],\n    bgColor[2] + (fgColor[2] - bgColor[2]) * fgColor[3],\n  ];\n\n  colorsCalculatedCache[fg + bg] = `rgb(${finalColor.join(',')})`;\n  return `rgb(${finalColor.join(',')})`;\n}\n\n/**\n * Parses a given color into a useable rgb array.\n * @param input rgb or hex css string\n * @returns color as rgb array\n */\nfunction parseColor(input: string) {\n  if (input.substring(0, 1) === '#') {\n    let collen = (input.length - 1) / 3;\n    let factors = [17, 1, 0.062272];\n    let fact = factors[collen - 1];\n    return [\n      Math.round(parseInt(input.substring(1, 1 + collen), 16) * fact),\n      Math.round(parseInt(input.substring(1 + collen, 1 + 2 * collen), 16) * fact),\n      Math.round(parseInt(input.substring(1 + 2 * collen), 16) * fact),\n    ];\n  } else {\n    return input\n      .split('(')[1]\n      .split(')')[0]\n      .split(',')\n      .map((x) => +x);\n  }\n}\n\n// Taken from https://github.com/grafana/grafana/blob/main/packages/grafana-ui/src/utils/measureText.ts\n// I want to ensure this function remains available regardless of Grafana version\nlet context: CanvasRenderingContext2D;\nconst cache = new Map<string, TextMetrics>();\nconst cacheLimit = 500;\nlet ctxFontStyle = '';\n\nfunction getCanvasContext() {\n  if (!context) {\n    context = document.createElement('canvas').getContext('2d')!;\n  }\n  return context;\n}\n\nexport function measureText(text: string, fontSize: number): TextMetrics {\n  const fontStyle = `${fontSize}px 'Roboto'`;\n  const cacheKey = text + fontStyle;\n  const fromCache = cache.get(cacheKey);\n\n  if (fromCache) {\n    return fromCache;\n  }\n\n  const context = getCanvasContext();\n\n  if (ctxFontStyle !== fontStyle) {\n    context.font = ctxFontStyle = fontStyle;\n  }\n\n  const metrics = context.measureText(text);\n\n  if (cache.size === cacheLimit) {\n    cache.clear();\n  }\n\n  cache.set(cacheKey, metrics);\n\n  return metrics;\n}\n\n// Find the nearest place to snap to on the grid\nexport function nearestMultiple(input: number, grid: number): number {\n  return Math.ceil(input / grid) * grid;\n}\n\n// Calculate the automatically determined widths for nodes with multiple links.\nexport function calculateRectangleAutoWidth(d: DrawnNode, wm: Weathermap): number {\n  const widerSideLinks = Math.max(d.anchors[Anchor.Top].numLinks, d.anchors[Anchor.Bottom].numLinks);\n  // Gets the maximum width of any link associated with this node.\n  const maxLinkHeight = Math.max(\n    ...wm.links\n      .filter((l) => l.nodes[0].id === d.id || l.nodes[1].id === d.id)\n      .filter(\n        (l) =>\n          [Anchor.Bottom, Anchor.Top].includes(l.sides.A.anchor) ||\n          [Anchor.Bottom, Anchor.Top].includes(l.sides.Z.anchor)\n      )\n      .map((l) => l.stroke),\n    0\n  );\n\n  const maxWidth =\n    maxLinkHeight * (widerSideLinks - 1) +\n    wm.settings.link.spacing.horizontal * (widerSideLinks - 1) +\n    d.padding.horizontal * 2;\n\n  let final = 0;\n  if (d.label !== undefined) {\n    const labeledWidth = d.labelWidth + d.padding.horizontal * 2;\n    if (!d.useConstantSpacing) {\n      final = labeledWidth;\n    } else {\n      final = Math.max(labeledWidth, maxWidth);\n    }\n  } else {\n    final = 0;\n  }\n\n  if (\n    d.nodeIcon?.drawInside &&\n    final < d.nodeIcon.padding.horizontal + d.nodeIcon.size.width + d.padding.horizontal * 2\n  ) {\n    final += d.nodeIcon.padding.horizontal + d.nodeIcon.size.width + d.padding.horizontal * 2 - final;\n  }\n  return final;\n}\n\n// Calculate the auto-determined height of a node's rectangle\nexport function calculateRectangleAutoHeight(d: DrawnNode, wm: Weathermap): number {\n  const numLinks = Math.max(1, Math.max(d.anchors[Anchor.Left].numLinks, d.anchors[Anchor.Right].numLinks));\n  // Gets the maximum height of any link associated with this node.\n  const maxLinkHeight = Math.max(\n    ...wm.links\n      .filter((l) => l.nodes[0].id === d.id || l.nodes[1].id === d.id)\n      .filter(\n        (l) =>\n          [Anchor.Left, Anchor.Right].includes(l.sides.A.anchor) ||\n          [Anchor.Left, Anchor.Right].includes(l.sides.Z.anchor)\n      )\n      .map((l) => l.stroke)\n  );\n  let minHeight = wm.settings.fontSizing.node + 2 * d.padding.vertical; // fontSize + padding\n\n  if (d.nodeIcon?.drawInside) {\n    minHeight += d.nodeIcon.size.height + 2 * d.nodeIcon.padding.vertical;\n  }\n\n  if (d.nodeIcon && d.label === '') {\n    minHeight -= wm.settings.fontSizing.node;\n  }\n\n  const linkHeight = maxLinkHeight + wm.settings.link.spacing.vertical + 2 * d.padding.vertical;\n  const fullHeight = linkHeight * numLinks - wm.settings.link.spacing.vertical;\n  let final = !d.compactVerticalLinks && fullHeight > minHeight ? fullHeight : minHeight;\n\n  return final;\n}\n\n// Generate a basic Node at a certain position and with a certain label.\nexport function generateBasicNode(label: string, position: [number, number], theme: GrafanaTheme2): Node {\n  return {\n    id: uuidv4(),\n    position,\n    label,\n    anchors: {\n      0: { numLinks: 0, numFilledLinks: 0 },\n      1: { numLinks: 0, numFilledLinks: 0 },\n      2: { numLinks: 0, numFilledLinks: 0 },\n      3: { numLinks: 0, numFilledLinks: 0 },\n      4: { numLinks: 0, numFilledLinks: 0 },\n    },\n    useConstantSpacing: false,\n    compactVerticalLinks: false,\n    padding: {\n      vertical: 4,\n      horizontal: 10,\n    },\n    colors: {\n      font: theme.colors.secondary.contrastText,\n      background: theme.colors.secondary.main,\n      border: theme.colors.secondary.border,\n      statusDown: '#ff0000',\n    },\n    nodeIcon: {\n      src: '',\n      name: '',\n      size: {\n        width: 0,\n        height: 0,\n      },\n      padding: {\n        vertical: 0,\n        horizontal: 0,\n      },\n      drawInside: false,\n    },\n    isConnection: false,\n  };\n}\n\nexport function generateBasicLink(nodes?: [Node, Node]): Link {\n  return {\n    id: uuidv4(),\n    // @ts-ignore\n    nodes: nodes ? nodes : [],\n    sides: {\n      A: {\n        bandwidth: 0,\n        bandwidthQuery: undefined,\n        query: undefined,\n        labelOffset: 55,\n        anchor: Anchor.Right,\n        dashboardLink: '',\n      },\n      Z: {\n        bandwidth: 0,\n        bandwidthQuery: undefined,\n        query: undefined,\n        labelOffset: 55,\n        anchor: Anchor.Left,\n        dashboardLink: '',\n      },\n    },\n    units: undefined,\n    arrows: {\n      width: 8,\n      height: 10,\n      offset: 2,\n    },\n    stroke: 8,\n    showThroughputPercentage: false,\n  };\n}\n\n// Handle file uploading errors consistently\nexport function handleFileUploadErrors(files: FileList | null): void {\n  if (files && files[0]) {\n    if (files[0].size > 1000000) {\n      throw new Error('File must be less than 1MB in size.');\n    }\n    if (!files[0].type.startsWith('image')) {\n      throw new Error('File type must be an image format.');\n    }\n  }\n}\n\nexport function handleVersionedStateUpdates(wm: Weathermap, theme: GrafanaTheme2): Weathermap {\n  const modelWeathermap: Weathermap = {\n    version: CURRENT_VERSION,\n    id: '',\n    nodes: [],\n    links: [],\n    scale: [],\n    settings: {\n      link: {\n        spacing: {\n          horizontal: 10,\n          vertical: 5,\n        },\n        stroke: {\n          color: theme.colors.secondary.main,\n        },\n        label: {\n          background: theme.colors.secondary.main,\n          border: theme.colors.secondary.border,\n          font: theme.colors.secondary.contrastText,\n        },\n        showAllWithPercentage: false,\n      },\n      fontSizing: {\n        node: 10,\n        link: 7,\n      },\n      panel: {\n        backgroundColor: theme.colors.background.primary,\n        showTimestamp: true,\n        panelSize: {\n          width: 600,\n          height: 600,\n        },\n        zoomScale: 0,\n        offset: {\n          x: 0,\n          y: 0,\n        },\n        grid: {\n          enabled: false,\n          size: 10,\n          guidesEnabled: false,\n        },\n      },\n      tooltip: {\n        fontSize: 8,\n        textColor: 'white',\n        backgroundColor: 'black',\n        inboundColor: '#00cf00',\n        outboundColor: '#fade2a',\n        scaleToBandwidth: false,\n      },\n      scale: {\n        position: {\n          x: 0,\n          y: 0,\n        },\n        size: {\n          width: 50,\n          height: 200,\n        },\n        title: 'Traffic Load',\n        fontSizing: {\n          title: 16,\n          threshold: 12,\n        },\n      },\n    },\n  };\n\n  wm.version = CURRENT_VERSION;\n  wm.nodes = wm.nodes.map((n) => merge(generateBasicNode('Node A', [200, 300], theme), n));\n  wm.links = wm.links.map((l) => merge(generateBasicLink(), l));\n  if (!(wm.scale instanceof Array)) {\n    console.log(wm.scale);\n    // @ts-ignore\n    wm.scale = Object.keys(wm.scale).map((key: number) => {\n      return {\n        percent: key,\n        color: wm.scale[key],\n      };\n    });\n  }\n  wm = merge(modelWeathermap, wm);\n  console.log('updated weathermap state version', wm);\n  return wm;\n}\n\nexport const getDataFrameName = (frame: DataFrame, allFrames: DataFrame[]): string => {\n  return getFieldDisplayName(frame.fields[1], frame);\n};\n","import React, { useMemo } from 'react';\nimport { DrawnNode, Weathermap } from '../types';\nimport {\n  nearestMultiple,\n  measureText,\n  getSolidFromAlphaColor,\n  calculateRectangleAutoWidth,\n  calculateRectangleAutoHeight,\n  getDataFrameName,\n} from '../utils';\nimport { css } from 'emotion';\nimport { stylesFactory } from '@grafana/ui';\nimport { DraggableCore, DraggableEventHandler } from 'react-draggable';\nimport { PanelData } from '@grafana/data';\n\ninterface NodeProps {\n  node: DrawnNode;\n  draggedNode: DrawnNode;\n  selectedNodes: DrawnNode[];\n  wm: Weathermap;\n  onDrag: DraggableEventHandler;\n  onStop: DraggableEventHandler;\n  onClick: React.MouseEventHandler<SVGGElement>;\n  disabled: boolean;\n  data: PanelData;\n}\n\n// Calculate the middle of the rectangle for text centering\nfunction calculateTextY(d: DrawnNode) {\n  return d.nodeIcon?.drawInside ? d.nodeIcon.size.height / 2 + d.nodeIcon.padding.vertical : 0;\n}\n\n// Find where to draw the rectangle for the node (top left x)\nfunction calculateRectX(d: DrawnNode, wm: Weathermap) {\n  const offset = Math.min(\n    -calculateRectangleAutoWidth(d, wm) / 2,\n    d.label !== undefined ? -(measureText(d.label, wm.settings.fontSizing.node).width / 2 + d.padding.horizontal) : 0\n  );\n  return offset;\n}\n\n// Find where to draw the rectangle for the node (top left y)\nfunction calculateRectY(d: DrawnNode, wm: Weathermap) {\n  return -calculateRectangleAutoHeight(d, wm) / 2;\n}\n\nconst MapNode: React.FC<NodeProps> = (props: NodeProps) => {\n  const { node, draggedNode, selectedNodes, wm, onDrag, onStop, onClick, disabled, data } = props;\n  const styles = getStyles();\n\n  const rectX = useMemo(() => calculateRectX(node, wm), [node, wm]);\n  const rectY = useMemo(() => calculateRectY(node, wm), [node, wm]);\n  const rectWidth = useMemo(() => calculateRectangleAutoWidth(node, wm), [node, wm]);\n  const rectHeight = useMemo(() => calculateRectangleAutoHeight(node, wm), [node, wm]);\n  const textY = useMemo(() => calculateTextY(node), [node]);\n\n  let nodeIsDown = false;\n  if (node.statusQuery) {\n    let recentFrame = data.series\n      .filter((series) => getDataFrameName(series, data.series) === node.statusQuery)\n      .map((frame) => frame.fields[1].values.get(frame.fields[1].values.length - 1));\n\n    // Check if the node is down (data returns 0 or below, or doesn't exist)\n    nodeIsDown = recentFrame.length === 0 || (recentFrame.length > 0 && recentFrame[0] < 1);\n  }\n\n  // Check if this node is selected for dragging\n  let nodeIsSelected = selectedNodes.find((n) => n.index === node.index);\n\n  return (\n    <DraggableCore disabled={disabled} onDrag={onDrag} onStop={onStop}>\n      <g\n        cursor={disabled ? (node.dashboardLink ? 'pointer' : '') : 'move'}\n        display={node.label !== undefined ? 'inline' : 'none'}\n        onClick={onClick}\n        transform={`translate(${\n          wm.settings.panel.grid.enabled &&\n          draggedNode &&\n          (draggedNode.index === node.index || selectedNodes.find((n) => n.index === node.index))\n            ? nearestMultiple(node.x, wm.settings.panel.grid.size)\n            : node.x\n        },\n                    ${\n                      wm.settings.panel.grid.enabled &&\n                      draggedNode &&\n                      (draggedNode.index === node.index || selectedNodes.find((n) => n.index === node.index))\n                        ? nearestMultiple(node.y, wm.settings.panel.grid.size)\n                        : node.y\n                    })`}\n      >\n        {node.label !== '' || node.nodeIcon?.drawInside ? (\n          <React.Fragment>\n            <rect\n              x={rectX}\n              y={rectY}\n              width={rectWidth}\n              height={rectHeight}\n              fill={\n                node.isConnection\n                  ? 'transparent'\n                  : getSolidFromAlphaColor(node.colors.background, wm.settings.panel.backgroundColor)\n              }\n              stroke={\n                nodeIsSelected\n                  ? getSolidFromAlphaColor(node.colors.font, wm.settings.panel.backgroundColor)\n                  : node.isConnection\n                  ? disabled\n                    ? 'transparent'\n                    : getSolidFromAlphaColor(node.colors.background, wm.settings.panel.backgroundColor)\n                  : getSolidFromAlphaColor(\n                      nodeIsDown ? node.colors.statusDown : node.colors.border,\n                      wm.settings.panel.backgroundColor\n                    )\n              }\n              strokeWidth={node.isConnection ? 2 : 4}\n              rx={6}\n              ry={7}\n              style={{ paintOrder: 'stroke' }}\n            ></rect>\n            <text\n              x={0}\n              y={textY}\n              textAnchor={'middle'}\n              alignmentBaseline={'central'}\n              dominantBaseline={'central'}\n              fill={node.colors.font}\n              className={styles.nodeText}\n              fontSize={node.isConnection ? '6px' : `${wm.settings.fontSizing.node}px`}\n            >\n              {node.label !== undefined && !(node.isConnection && disabled) ? node.label : ''}\n            </text>\n          </React.Fragment>\n        ) : (\n          ''\n        )}\n        {node.nodeIcon && node.nodeIcon.src !== '' ? (\n          <image\n            x={-node.nodeIcon.size.width / 2}\n            y={\n              node.nodeIcon.drawInside\n                ? node.label!.length > 0\n                  ? -(\n                      node.nodeIcon.size.height +\n                      node.nodeIcon.padding.vertical +\n                      measureText(node.label!, wm.settings.fontSizing.node).actualBoundingBoxAscent\n                    ) / 2\n                  : -node.nodeIcon.size.height / 2\n                : node.label!.length > 0\n                ? textY - node.nodeIcon.size.height - rectHeight / 2 - 1 - node.nodeIcon.padding.vertical\n                : -node.nodeIcon.size.height / 2\n            }\n            width={node.nodeIcon.size.width}\n            height={node.nodeIcon.size.height}\n            href={node.nodeIcon.src}\n          />\n        ) : (\n          ''\n        )}\n      </g>\n    </DraggableCore>\n  );\n};\n\nconst getStyles = stylesFactory(() => {\n  return {\n    nodeText: css`\n      -webkit-touch-callout: none;\n      -webkit-user-select: none;\n      -khtml-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      -o-user-select: none;\n      user-select: none;\n    `,\n  };\n});\n\nexport default MapNode;\n","import { stylesFactory, useTheme2 } from '@grafana/ui';\nimport { css, cx } from 'emotion';\nimport React from 'react';\nimport { Threshold, WeathermapSettings } from 'types';\n\ninterface ColorScaleProps {\n  thresholds: Threshold[];\n  settings: WeathermapSettings;\n}\n\n// TODO: Fix auto-updating to scale that happens before we've had onBlur called on the ColorForm.\nconst ColorScale: React.FC<ColorScaleProps> = (props: ColorScaleProps) => {\n  const { thresholds, settings } = props;\n  const styles = getStyles();\n  const theme = useTheme2();\n\n  // Calculate the height of a scale's sub-rectangle\n  const scaleHeights: { [num: number]: string } = {};\n\n  if (settings.scale) {\n    // Double check scale existence, since sometimes it doesn't before we get here.\n\n    thresholds.forEach((threshold, i) => {\n      const current: number = threshold.percent;\n      const next: number = thresholds[i + 1] !== undefined ? thresholds[i + 1].percent : 101;\n      let height: number = ((next - current) / 100) * settings.scale.size.height;\n      scaleHeights[i] = height.toString() + 'px';\n    });\n  }\n\n  if (settings.scale && settings.scale.fontSizing) {\n    return (\n      <div\n        className={cx(\n          styles.colorScaleContainer,\n          css`\n            top: ${settings.scale.position.y}%;\n            left: ${settings.scale.position.x}%;\n          `\n        )}\n      >\n        <div\n          className={cx(\n            styles.colorBoxTitle,\n            css`\n              font-size: ${settings.scale.fontSizing.title}px;\n              color: ${theme.colors.getContrastText(\n                settings.panel.backgroundColor.startsWith('image')\n                  ? settings.panel.backgroundColor.split('|', 3)[1]\n                  : settings.panel.backgroundColor\n              )};\n            `\n          )}\n        >\n          {settings.scale.title}\n        </div>\n        {thresholds.map((threshold, i) => (\n          <div className={styles.colorScaleItem} key={i} data-testid=\"scale-item\">\n            <span\n              className={cx(\n                styles.colorBox,\n                css`\n                  background: ${threshold.color};\n                  height: ${scaleHeights[i]};\n                  width: ${settings.scale.size.width}px;\n                `\n              )}\n            ></span>\n            <span\n              className={cx(\n                styles.colorLabel,\n                css`\n                  font-size: ${settings.scale.fontSizing.threshold}px;\n                  color: ${theme.colors.getContrastText(\n                    settings.panel.backgroundColor.startsWith('image')\n                      ? settings.panel.backgroundColor.split('|', 3)[1]\n                      : settings.panel.backgroundColor\n                  )};\n                `\n              )}\n            >\n              {threshold.percent +\n                '%' +\n                (thresholds[i + 1] === undefined\n                  ? threshold.percent >= 100\n                    ? ''\n                    : ' - 100%'\n                  : ' - ' + thresholds[i + 1].percent + '%')}\n            </span>\n          </div>\n        ))}\n      </div>\n    );\n  } else {\n    return <React.Fragment />;\n  }\n};\n\nconst getStyles = stylesFactory(() => {\n  return {\n    colorScaleContainer: css`\n      position: relative;\n      padding: 10px;\n      display: flex;\n      flex-direction: column;\n      color: black;\n      z-index: 2;\n      width: fit-content;\n    `,\n    colorBoxTitle: css`\n      font-weight: bold;\n      padding: 5px 0px;\n    `,\n    colorScaleItem: css`\n      display: flex;\n      align-items: center;\n    `,\n    colorBox: css`\n      margin-right: 5px;\n    `,\n    colorLabel: css`\n      line-height: 0px;\n    `,\n  };\n});\n\nexport default ColorScale;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { DataFrame, Field, getTimeZone, getValueFormat, PanelProps, Vector } from '@grafana/data';\nimport {\n  Anchor,\n  DrawnLink,\n  DrawnNode,\n  Link,\n  LinkSide,\n  Node,\n  SimpleOptions,\n  Position,\n  Weathermap,\n  HoveredLink,\n  Threshold,\n} from 'types';\nimport { css, cx } from 'emotion';\nimport {\n  LegendDisplayMode,\n  stylesFactory,\n  TimeSeries,\n  TooltipDisplayMode,\n  TooltipPlugin,\n  useTheme2,\n} from '@grafana/ui';\nimport {\n  measureText,\n  getSolidFromAlphaColor,\n  nearestMultiple,\n  calculateRectangleAutoWidth,\n  calculateRectangleAutoHeight,\n  CURRENT_VERSION,\n  handleVersionedStateUpdates,\n  getDataFrameName,\n} from 'utils';\nimport MapNode from './components/MapNode';\nimport ColorScale from 'components/ColorScale';\n\n// Calculate node position, width, etc.\nfunction generateDrawnNode(d: Node, i: number, wm: Weathermap): DrawnNode {\n  let toReturn: DrawnNode = { ...d } as DrawnNode;\n  toReturn.index = i;\n  toReturn.x = toReturn.position[0];\n  toReturn.y = toReturn.position[1];\n  toReturn.labelWidth = measureText(d.label ? d.label : '', wm.settings.fontSizing.node).width;\n  toReturn.anchors = {\n    0: { numLinks: toReturn.anchors[0].numLinks, numFilledLinks: 0 },\n    1: { numLinks: toReturn.anchors[1].numLinks, numFilledLinks: 0 },\n    2: { numLinks: toReturn.anchors[2].numLinks, numFilledLinks: 0 },\n    3: { numLinks: toReturn.anchors[3].numLinks, numFilledLinks: 0 },\n    4: { numLinks: toReturn.anchors[4].numLinks, numFilledLinks: 0 },\n  };\n  return toReturn;\n}\n\n// Format link values as the proper prefix of bits\nconst getlinkValueFormatter = (fmt_id: string) => getValueFormat(fmt_id);\nconst getlinkGraphFormatter =\n  (fmt_id: string) =>\n  (v: any): string => {\n    let formatter = getValueFormat(fmt_id);\n    let formattedValue = formatter(v);\n    return `${formattedValue.text} ${formattedValue.suffix}`;\n  };\n\n/**\n * Weathermap panel component.\n */\nexport const WeathermapPanel: React.FC<PanelProps<SimpleOptions>> = (props: PanelProps<SimpleOptions>) => {\n  const { options, data, width: width2, height: height2, onOptionsChange, timeRange } = props;\n  const styles = getStyles();\n  const theme = useTheme2();\n  const wm = options.weathermap;\n\n  if (wm && (!wm.version || wm.version !== CURRENT_VERSION)) {\n    onOptionsChange({ weathermap: handleVersionedStateUpdates(wm, theme) });\n  }\n\n  // Check for editing-related feature set\n  const isEditMode = window.location.search.includes('editPanel');\n\n  const [draggedNode, setDraggedNode] = useState(null as unknown as DrawnNode);\n  const [selectedNodes, setSelectedNodes] = useState([] as DrawnNode[]);\n\n  function getScaleColor(current: number, max: number) {\n    if (max === 0) {\n      return getSolidFromAlphaColor(wm.settings.link.stroke.color, wm.settings.panel.backgroundColor);\n    }\n\n    const percent = (current / max) * 100;\n    let assignedColor = '';\n\n    wm.scale.forEach((threshold: Threshold) => {\n      if (threshold.percent <= percent) {\n        assignedColor = threshold.color;\n      }\n    });\n\n    return assignedColor;\n  }\n\n  // Get the middle point between two nodes\n  function getMiddlePoint(source: Position, target: Position, offset: number): Position {\n    const x = (source.x + target.x) / 2;\n    const y = (source.y + target.y) / 2;\n    const a = target.x - source.x;\n    const b = target.y - source.y;\n    const dist = Math.sqrt(a * a + b * b);\n    const newX = x - (offset * (target.x - source.x)) / dist;\n    const newY = y - (offset * (target.y - source.y)) / dist;\n    return { x: newX, y: newY };\n  }\n\n  // Get a point a percentage of the way between two nodes\n  function getPercentPoint(source: Position, target: Position, percent: number): Position {\n    const newX = target.x + (source.x - target.x) * percent;\n    const newY = target.y + (source.y - target.y) * percent;\n    return { x: newX, y: newY };\n  }\n\n  // Find the points that create the two other points of a triangle for the arrow's tip\n  function getArrowPolygon(_p1: any, _p2: any, height: number, width: number) {\n    let h = height;\n    let w = width / 2;\n    let vec1 = { x: _p2.x - _p1.x, y: _p2.y - _p1.y };\n    let length = Math.sqrt(vec1.x * vec1.x + vec1.y * vec1.y);\n    vec1.x = vec1.x / length;\n    vec1.y = vec1.y / length;\n    let vec2 = { x: -vec1.y, y: vec1.x };\n    let v1 = { x: _p2.x - h * vec1.x + w * vec2.x, y: _p2.y - h * vec1.y + w * vec2.y };\n    let v2 = { x: _p2.x - h * vec1.x - w * vec2.x, y: _p2.y - h * vec1.y - w * vec2.y };\n    return { p1: v1, p2: v2 };\n  }\n\n  const [nodes, setNodes] = useState(\n    wm.nodes.map((d, i) => {\n      return generateDrawnNode(d, i, wm);\n    })\n  );\n\n  // To be used to calculate how many links we've drawn\n  let tempNodes = nodes.slice();\n\n  const [links, setLinks] = useState(\n    wm\n      ? wm.links.map((d, i) => {\n          return generateDrawnLink(d, i);\n        })\n      : []\n  );\n\n  // Calculate aspect-ratio corrected drag positions\n  function getScaledMousePos(pos: { x: number; y: number }): { x: number; y: number } {\n    const zoomAmt = Math.pow(1.2, wm.settings.panel.zoomScale);\n    return {\n      x: pos.x * zoomAmt * aspectMultiplier,\n      y: pos.y * zoomAmt * aspectMultiplier,\n    };\n  }\n\n  // Calculate the position of a link given the node and side information\n  function getMultiLinkPosition(d: DrawnNode, side: LinkSide): Position {\n    // Set initial x and y values for links. Defaults to center x of the node, and the middle y.\n    let x = d.x;\n    let y = d.y;\n\n    // Set x and y to the rounded value if we are using the grid\n    x =\n      wm.settings.panel.grid.enabled &&\n      draggedNode &&\n      (draggedNode.index === d.index || selectedNodes.find((n) => n.index === d.index))\n        ? nearestMultiple(d.x, wm.settings.panel.grid.size)\n        : x;\n    y =\n      wm.settings.panel.grid.enabled &&\n      draggedNode &&\n      (draggedNode.index === d.index || selectedNodes.find((n) => n.index === d.index))\n        ? nearestMultiple(d.y, wm.settings.panel.grid.size)\n        : y;\n\n    // The maximum link width on this anchor point\n    const maxLinkWidth = Math.max(\n      ...wm.links\n        .filter((l) => l.nodes[0].id === d.id || l.nodes[1].id === d.id)\n        .filter((l) => side.anchor === l.sides.A.anchor || l.sides.Z.anchor === side.anchor)\n        .map((l) => l.stroke)\n    );\n\n    // Change x values for left/right anchors\n    if (side.anchor === Anchor.Left || side.anchor === Anchor.Right) {\n      // Align left/right\n      if (side.anchor === Anchor.Left) {\n        x -= calculateRectangleAutoWidth(d, wm) / 2 - maxLinkWidth / 2;\n      } else {\n        x += calculateRectangleAutoWidth(d, wm) / 2 - maxLinkWidth / 2;\n      }\n      // Calculate vertical alignments given # of links\n      if (!d.compactVerticalLinks && d.anchors[side.anchor].numLinks > 1) {\n        const linkHeight = maxLinkWidth + wm.settings.link.spacing.vertical;\n        const fullHeight =\n          linkHeight * d.anchors[side.anchor].numLinks - wm.settings.link.spacing.vertical - maxLinkWidth;\n        y -= fullHeight / 2;\n        y +=\n          (d.anchors[side.anchor].numFilledLinks + 1) * maxLinkWidth +\n          d.anchors[side.anchor].numFilledLinks * wm.settings.link.spacing.vertical -\n          maxLinkWidth;\n      }\n    } else if (side.anchor !== Anchor.Center) {\n      if (d.useConstantSpacing) {\n        // To be used with constant-spacing\n        const maxWidth =\n          maxLinkWidth * (d.anchors[side.anchor].numLinks - 1) +\n          wm.settings.link.spacing.horizontal * (d.anchors[side.anchor].numLinks - 1);\n        x +=\n          -maxWidth / 2 + d.anchors[side.anchor].numFilledLinks * (maxLinkWidth + wm.settings.link.spacing.horizontal);\n      } else {\n        // To be used with auto-spacing\n        const paddedWidth = d.labelWidth + d.padding.horizontal * 2;\n        x +=\n          -paddedWidth / 2 +\n          (d.anchors[side.anchor].numFilledLinks + 1) *\n            (paddedWidth / (nodes[d.index].anchors[side.anchor].numLinks + 1));\n      }\n      // Add height if we are at the bottom;\n      if (side.anchor === Anchor.Bottom) {\n        y += calculateRectangleAutoHeight(d, wm) / 2 - maxLinkWidth / 2;\n      } else if (side.anchor === Anchor.Top) {\n        y -= calculateRectangleAutoHeight(d, wm) / 2;\n        y += maxLinkWidth / 2;\n      }\n    }\n    // Mark that we've drawn another link\n    d.anchors[side.anchor].numFilledLinks++;\n    return { x, y };\n  }\n\n  // Calculate link positions / text / colors / etc.\n  function generateDrawnLink(d: Link, i: number): DrawnLink {\n    let toReturn: DrawnLink = { ...d, sides: { A: { ...d.sides.A }, Z: { ...d.sides.Z } } } as DrawnLink;\n    toReturn.index = i;\n\n    const linkValueFormatter = getlinkValueFormatter(\n      d.units ? d.units : wm.settings.link.defaultUnits ? wm.settings.link.defaultUnits : 'bps'\n    );\n\n    // Set the link's source and target node\n    toReturn.source = nodes.filter((n) => n.id === toReturn.nodes[0].id)[0];\n    toReturn.target = nodes.filter((n) => n.id === toReturn.nodes[1].id)[0];\n\n    let dataFrameWithIds: Array<{ value: number; id: string }> = [];\n    data.series.forEach((frame) => {\n      if (frame.fields.length < 2) {\n        return;\n      }\n      try {\n        dataFrameWithIds.push({\n          value: frame.fields[1].values.get(frame.fields[1].values.length - 1),\n          id: getDataFrameName(frame, data.series),\n        });\n      } catch (e) {\n        console.warn('Network Weathermap: Error while attempting to access query data.', e);\n      }\n    });\n\n    let filteredDataFramesWithIds = dataFrameWithIds.filter(\n      (value) => value.id === toReturn.sides.A.query || value.id === toReturn.sides.Z.query\n    );\n\n    // For each of our A/Z sides\n    for (let s = 0; s < 2; s++) {\n      const side: 'A' | 'Z' = s === 0 ? 'A' : 'Z';\n\n      // Check if we have a query to run for this side's bandwidth\n      if (toReturn.sides[side].bandwidthQuery) {\n        let dataFrame = dataFrameWithIds.filter((value) => value.id === toReturn.sides[side].bandwidthQuery);\n\n        // Ensure we have the values we should\n        if (dataFrame[0] !== undefined && dataFrame[0].value !== undefined) {\n          // If we have a value, go use it\n          toReturn.sides[side].bandwidth = dataFrame[0].value;\n        } else {\n          toReturn.sides[side].bandwidth = 0;\n        }\n      }\n\n      // Set the display value to zero, just in case nothing exists\n      toReturn.sides[side].currentValue = 0;\n      toReturn.sides[side].currentText = 'n/a';\n      toReturn.sides[side].currentValueText = 'n/a';\n      toReturn.sides[side].currentPercentageText = 'n/a%';\n      toReturn.sides[side].currentBandwidthText = 'n/a';\n\n      // Check if we have a query to run for this side's throughput\n      if (toReturn.sides[side].query) {\n        let dataSource = toReturn.sides[side].query;\n        let dataFrame = filteredDataFramesWithIds.filter((s) => s.id === dataSource);\n\n        // Ensure we have the values we should\n        if (dataFrame[0] !== undefined && dataFrame[0].value !== undefined) {\n          // If we have a value, go use it\n          toReturn.sides[side].currentValue = dataFrame[0].value;\n\n          // Get the text formatted to KiB/MiB/etc.\n          let scaledSideValue = linkValueFormatter(toReturn.sides[side].currentValue);\n          toReturn.sides[side].currentValueText = `${scaledSideValue.text} ${scaledSideValue.suffix}`;\n\n          // Get the percentage througput text\n          // Note that this does allow the text to be 0% even when a query doesn't return a value.\n          toReturn.sides[side].currentPercentageText =\n            toReturn.sides[side].bandwidth > 0\n              ? `${((toReturn.sides[side].currentValue / toReturn.sides[side].bandwidth) * 100).toFixed(2)}%`\n              : 'n/a%';\n        }\n      }\n\n      // Display throughput % when necessary\n      if (toReturn.showThroughputPercentage || wm.settings.link.showAllWithPercentage) {\n        toReturn.sides[side].currentText = toReturn.sides[side].currentPercentageText;\n      } else {\n        toReturn.sides[side].currentText = toReturn.sides[side].currentValueText;\n      }\n\n      let scaledBandwidth = linkValueFormatter(toReturn.sides[side].bandwidth);\n      toReturn.sides[side].currentBandwidthText = `${scaledBandwidth.text} ${scaledBandwidth.suffix}`;\n    }\n\n    // Calculate positions for links and arrow polygons. Not included above to help with typing.\n    if (i === 0) {\n      tempNodes = tempNodes.map((n) => {\n        n.anchors = {\n          0: { numLinks: n.anchors[0].numLinks, numFilledLinks: 0 },\n          1: { numLinks: n.anchors[1].numLinks, numFilledLinks: 0 },\n          2: { numLinks: n.anchors[2].numLinks, numFilledLinks: 0 },\n          3: { numLinks: n.anchors[3].numLinks, numFilledLinks: 0 },\n          4: { numLinks: n.anchors[4].numLinks, numFilledLinks: 0 },\n        };\n        return n;\n      });\n    }\n\n    toReturn.lineStartA = getMultiLinkPosition(tempNodes[toReturn.source.index], toReturn.sides.A);\n    toReturn.lineStartZ = getMultiLinkPosition(tempNodes[toReturn.target.index], toReturn.sides.Z);\n\n    toReturn.lineEndA = getMiddlePoint(\n      toReturn.lineStartZ,\n      toReturn.lineStartA,\n      -toReturn.arrows.offset - toReturn.arrows.height\n    );\n\n    if (tempNodes[toReturn.target.index].isConnection) {\n      toReturn.lineEndA = toReturn.lineStartZ;\n      toReturn.lineEndZ = toReturn.lineStartZ;\n    }\n\n    toReturn.arrowCenterA = getMiddlePoint(toReturn.lineStartZ, toReturn.lineStartA, -toReturn.arrows.offset);\n    toReturn.arrowPolygonA = getArrowPolygon(\n      toReturn.lineStartA,\n      toReturn.arrowCenterA,\n      toReturn.arrows.height,\n      toReturn.arrows.width\n    );\n\n    toReturn.lineEndZ = getMiddlePoint(\n      toReturn.lineStartZ,\n      toReturn.lineStartA,\n      toReturn.arrows.offset + toReturn.arrows.height\n    );\n    toReturn.arrowCenterZ = getMiddlePoint(toReturn.lineStartZ, toReturn.lineStartA, toReturn.arrows.offset);\n    toReturn.arrowPolygonZ = getArrowPolygon(\n      toReturn.lineStartZ,\n      toReturn.arrowCenterZ,\n      toReturn.arrows.height,\n      toReturn.arrows.width\n    );\n\n    return toReturn;\n  }\n\n  // Minimize uneeded state changes\n  const mounted = useRef(false);\n\n  // Update nodes on props/data change\n  useEffect(() => {\n    if (!mounted.current) {\n      mounted.current = true;\n    } else {\n      setNodes(\n        options.weathermap.nodes.map((d, i) => {\n          return generateDrawnNode(d, i, options.weathermap);\n        })\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options, data]);\n\n  tempNodes = nodes.slice();\n\n  // Update links on props/data change\n  // TODO: Optimize this to only update the necessary links?\n  useEffect(() => {\n    setLinks(\n      options.weathermap.links.map((d, i) => {\n        return generateDrawnLink(d, i);\n      })\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options, data, nodes]); // need to keep nodes here for good looking updating\n\n  const zoom = (e: WheelEvent) => {\n    // Just don't allow zooming when not in edit mode\n    if (!isEditMode && !e.shiftKey) {\n      return;\n    }\n\n    let zoomed: Weathermap = wm;\n\n    if (e.deltaY > 0) {\n      zoomed.settings.panel.zoomScale += 1;\n    } else {\n      zoomed.settings.panel.zoomScale -= 1;\n    }\n    onOptionsChange({\n      weathermap: zoomed,\n    });\n  };\n\n  const [isDragging, setDragging] = useState(false);\n\n  let aspectX = wm.settings.panel.panelSize.width / width2;\n  let aspectY = wm.settings.panel.panelSize.height / height2;\n  let aspectMultiplier = Math.max(aspectX, aspectY);\n\n  const updateAspects = () => {\n    aspectX = wm.settings.panel.panelSize.width / width2;\n    aspectY = wm.settings.panel.panelSize.height / height2;\n    aspectMultiplier = Math.max(aspectX, aspectY);\n  };\n\n  const [offset, setOffset] = useState(wm.settings.panel.offset);\n\n  const drag = (e: React.MouseEvent<SVGSVGElement, MouseEvent>) => {\n    if (e.ctrlKey || e.buttons === 4 || e.shiftKey) {\n      e.nativeEvent.preventDefault();\n      const zoomAmt = Math.pow(1.2, wm.settings.panel.zoomScale);\n\n      setOffset((prev) => {\n        return {\n          x: prev.x + e.nativeEvent.movementX * zoomAmt * aspectMultiplier,\n          y: prev.y + e.nativeEvent.movementY * zoomAmt * aspectMultiplier,\n        };\n      });\n    }\n  };\n\n  const [hoveredLink, setHoveredLink] = useState(null as unknown as HoveredLink);\n\n  const handleLinkHover = (d: DrawnLink, side: 'A' | 'Z', e: any) => {\n    if (e.shiftKey) {\n      return;\n    }\n\n    if (tempNodes[d.source.index].isConnection) {\n      // If this link is coming from a connection, we want\n      // to take the link to that connection's data\n\n      // Find the link with that data\n      let prevLinks = links.filter((l) => l.target.id === d.source.id);\n\n      // Find previous links\n      while (prevLinks.length === 1 && tempNodes[prevLinks[0].source.index].isConnection) {\n        prevLinks = links.filter((l) => l.target.id === prevLinks[0].source.id);\n      }\n\n      // Check there is only one connection (otherwise this doesn't work)\n      if (prevLinks.length === 1) {\n        for (let key in prevLinks[0].sides.A) {\n          if (key !== 'labelOffset' && key !== 'anchor') {\n            // @ts-ignore\n            d.sides.A[key] = prevLinks[0].sides.A[key];\n          }\n        }\n      } else {\n        console.warn(`Connection node \"${d.source.label}\" missing input connection.`);\n      }\n    }\n\n    if (tempNodes[d.target.index].isConnection) {\n      // If this link is going to a connection, we want\n      // to get the forward data as well.\n\n      // Find the link with that data\n      let forwardLinks = links.filter((l) => l.source.id === d.target.id);\n\n      // Find forward links\n      while (forwardLinks.length === 1 && tempNodes[forwardLinks[0].target.index].isConnection) {\n        forwardLinks = links.filter((l) => l.source.id === forwardLinks[0].target.id);\n      }\n\n      // Check there is only one connection (otherwise this doesn't work)\n      if (forwardLinks.length === 1) {\n        for (let key in forwardLinks[0].sides.Z) {\n          if (key !== 'labelOffset' && key !== 'anchor') {\n            // @ts-ignore\n            d.sides.Z[key] = forwardLinks[0].sides.Z[key];\n          }\n        }\n      } else {\n        console.warn(`Connection node \"${d.target.label}\" missing output connection.`);\n      }\n    }\n\n    setHoveredLink({ link: d, side, mouseEvent: e });\n  };\n\n  const handleLinkHoverLoss = (e: any) => {\n    if (e.shiftKey) {\n      return;\n    }\n    setHoveredLink(null as unknown as HoveredLink);\n  };\n\n  const filteredGraphQueries = data.series.filter((frame) => {\n    if (!hoveredLink) {\n      return;\n    }\n\n    let displayName = null;\n    try {\n      displayName = getDataFrameName(frame, data.series);\n    } catch (e) {\n      console.warn('Network Weathermap: Error while attempting to access query data.', e);\n    }\n\n    return displayName === hoveredLink.link.sides.A.query || displayName === hoveredLink.link.sides.Z.query;\n  });\n\n  if (wm) {\n    return (\n      <div\n        className={cx(\n          styles.wrapper,\n          css`\n            width: ${width2}px;\n            height: ${height2}px;\n            position: relative;\n          `\n        )}\n      >\n        {hoveredLink ? (\n          <div\n            className={css`\n              position: absolute;\n              top: ${hoveredLink.mouseEvent.nativeEvent.layerY}px;\n              left: ${hoveredLink.mouseEvent.nativeEvent.layerX}px;\n              transform: translate(0%, -100%);\n              background-color: ${wm.settings.tooltip.backgroundColor};\n              color: ${wm.settings.tooltip.textColor} !important;\n              font-size: ${wm.settings.tooltip.fontSize} !important;\n              z-index: 10000;\n              display: ${hoveredLink ? 'flex' : 'none'};\n              flex-direction: column;\n              padding: 5px;\n              border-radius: 4px;\n            `}\n          >\n            <div style={{ fontSize: wm.settings.tooltip.fontSize }}>\n              Usage - Inbound: {hoveredLink.link.sides.Z.currentValueText}, Outbound:{' '}\n              {hoveredLink.link.sides.A.currentValueText}\n            </div>\n            <div style={{ fontSize: wm.settings.tooltip.fontSize }}>\n              Bandwidth - Inbound: {hoveredLink.link.sides.Z.currentBandwidthText}, Outbound:{' '}\n              {hoveredLink.link.sides.A.currentBandwidthText}\n            </div>\n            <div style={{ fontSize: wm.settings.tooltip.fontSize }}>\n              Throughput (%) - Inbound: {hoveredLink.link.sides.Z.currentPercentageText}, Outbound:{' '}\n              {hoveredLink.link.sides.A.currentPercentageText}\n            </div>\n            <div style={{ fontSize: wm.settings.tooltip.fontSize, paddingBottom: '4px' }}>\n              {hoveredLink.link.sides[hoveredLink.side].dashboardLink.length > 0 ? 'Click to see more.' : ''}\n            </div>\n            {(hoveredLink.link.sides.A.query || hoveredLink.link.sides.Z.query) && filteredGraphQueries.length > 0 ? (\n              <React.Fragment>\n                <TimeSeries\n                  width={250}\n                  height={100}\n                  timeRange={timeRange}\n                  timeZone={getTimeZone()}\n                  frames={filteredGraphQueries.map((frame: DataFrame) => {\n                    let copy = frame;\n                    let isInboundQuery = getDataFrameName(frame, data.series) === hoveredLink.link.sides.Z.query;\n                    copy.fields = copy.fields.map((v) => {\n                      v.config.custom = {\n                        fillOpacity: 10,\n                        lineColor: isInboundQuery\n                          ? wm.settings.tooltip.inboundColor\n                          : wm.settings.tooltip.outboundColor,\n                      };\n                      return v;\n                    });\n                    return copy;\n                  })}\n                  legend={{\n                    calcs: [],\n                    displayMode: LegendDisplayMode.List,\n                    placement: 'bottom',\n                    isVisible: true,\n                    showLegend: false,\n                  }}\n                  tweakScale={(opts, forField: Field<any, Vector<any>>) => {\n                    opts.softMin = 0;\n                    if (\n                      wm.settings.tooltip.scaleToBandwidth &&\n                      hoveredLink.link.sides[hoveredLink.side].bandwidth > 0\n                    ) {\n                      opts.softMax = hoveredLink.link.sides[hoveredLink.side].bandwidth;\n                    }\n                    return opts;\n                  }}\n                  tweakAxis={(opts, forField: Field<any, Vector<any>>) => {\n                    opts.formatValue = getlinkGraphFormatter(\n                      hoveredLink.link.units\n                        ? hoveredLink.link.units\n                        : wm.settings.link.defaultUnits\n                        ? wm.settings.link.defaultUnits\n                        : 'bps'\n                    );\n                    return opts;\n                  }}\n                >\n                  {(config, alignedDataFrame) => {\n                    return (\n                      <>\n                        <TooltipPlugin\n                          config={config}\n                          data={alignedDataFrame}\n                          mode={TooltipDisplayMode.Multi}\n                          timeZone={getTimeZone()}\n                        />\n                      </>\n                    );\n                  }}\n                </TimeSeries>\n                <div style={{ display: 'flex', alignItems: 'center', paddingTop: '10px' }}>\n                  <div\n                    style={{\n                      width: '10px',\n                      height: '3px',\n                      background: wm.settings.tooltip.inboundColor,\n                      paddingLeft: '5px',\n                      marginRight: '4px',\n                    }}\n                  ></div>\n                  <div style={{ fontSize: wm.settings.tooltip.fontSize }}>Inbound</div>\n                  <div\n                    style={{\n                      width: '10px',\n                      height: '3px',\n                      background: wm.settings.tooltip.outboundColor,\n                      marginLeft: '10px',\n                      marginRight: '4px',\n                    }}\n                  ></div>\n                  <div\n                    style={{\n                      fontSize: wm.settings.tooltip.fontSize,\n                    }}\n                  >\n                    Outbound\n                  </div>\n                </div>\n              </React.Fragment>\n            ) : (\n              ''\n            )}\n          </div>\n        ) : (\n          ''\n        )}\n        <ColorScale thresholds={wm.scale} settings={wm.settings} />\n        <svg\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            backgroundImage: wm.settings.panel.backgroundImage\n              ? `url(${wm.settings.panel.backgroundImage.url})`\n              : 'none',\n            backgroundSize: wm.settings.panel.backgroundImage?.fit,\n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            backgroundColor: wm.settings.panel.backgroundImage ? 'none' : wm.settings.panel.backgroundColor,\n          }}\n          id={`nw-${wm.id}${isEditMode ? '_' : ''}`}\n          width={width2}\n          height={height2}\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n          viewBox={`0 0 ${wm.settings.panel.panelSize.width * Math.pow(1.2, wm.settings.panel.zoomScale)} ${\n            wm.settings.panel.panelSize.height * Math.pow(1.2, wm.settings.panel.zoomScale)\n          }`}\n          shapeRendering=\"crispEdges\"\n          textRendering=\"geometricPrecision\"\n          fontFamily=\"sans-serif\"\n          // @ts-ignore\n          onWheel={zoom}\n          onMouseDown={(e) => {\n            e.preventDefault();\n            updateAspects();\n            setDragging(true);\n          }}\n          onMouseMove={(e) => {\n            if (isDragging && (e.ctrlKey || e.buttons === 4 || e.shiftKey)) {\n              drag(e);\n            }\n          }}\n          onMouseUp={() => {\n            setDragging(false);\n            let panned = wm;\n            panned.settings.panel.offset = offset;\n            onOptionsChange({ weathermap: panned });\n          }}\n          onDoubleClick={() => {\n            setSelectedNodes([]);\n          }}\n        >\n          {wm.settings.panel.grid.enabled ? (\n            <defs>\n              <pattern\n                id=\"smallGrid\"\n                width={wm.settings.panel.grid.size}\n                height={wm.settings.panel.grid.size}\n                patternUnits=\"userSpaceOnUse\"\n              >\n                <path\n                  d={`M ${wm.settings.panel.grid.size} 0 L 0 0 0 ${wm.settings.panel.grid.size}`}\n                  fill=\"none\"\n                  stroke=\"gray\"\n                  strokeWidth=\"2\"\n                  opacity={1}\n                />\n              </pattern>\n            </defs>\n          ) : (\n            ''\n          )}\n          <g\n            transform={`translate(${\n              (wm.settings.panel.panelSize.width * Math.pow(1.2, wm.settings.panel.zoomScale) -\n                wm.settings.panel.panelSize.width) /\n                2 +\n              offset.x\n            }, ${\n              (wm.settings.panel.panelSize.height * Math.pow(1.2, wm.settings.panel.zoomScale) -\n                wm.settings.panel.panelSize.height) /\n                2 +\n              offset.y\n            })`}\n            overflow=\"visible\"\n          >\n            {wm.settings.panel.grid.guidesEnabled ? (\n              <>\n                <rect\n                  x={\n                    wm.nodes.length > 0\n                      ? wm.nodes[0].position[0] -\n                        wm.settings.panel.panelSize.width * Math.pow(1.2, wm.settings.panel.zoomScale) * 2\n                      : 0\n                  }\n                  y={\n                    wm.nodes.length > 0\n                      ? wm.nodes[0].position[1] -\n                        wm.settings.panel.panelSize.height * Math.pow(1.2, wm.settings.panel.zoomScale) * 2\n                      : 0\n                  }\n                  width={wm.settings.panel.panelSize.width * Math.pow(1.2, wm.settings.panel.zoomScale) * 4}\n                  height={wm.settings.panel.panelSize.height * Math.pow(1.2, wm.settings.panel.zoomScale) * 4}\n                  fill=\"url(#smallGrid)\"\n                />\n              </>\n            ) : (\n              ''\n            )}\n          </g>\n          <g\n            transform={`translate(${\n              (wm.settings.panel.panelSize.width * Math.pow(1.2, wm.settings.panel.zoomScale) -\n                wm.settings.panel.panelSize.width) /\n                2 +\n              offset.x\n            }, ${\n              (wm.settings.panel.panelSize.height * Math.pow(1.2, wm.settings.panel.zoomScale) -\n                wm.settings.panel.panelSize.height) /\n                2 +\n              offset.y\n            })`}\n          >\n            <g>\n              {links.map((d, i) => {\n                if (d.nodes[0].id === d.nodes[1].id) {\n                  return;\n                }\n                let prevLinks: DrawnLink[] = [];\n                // Automatic data collection through connection links\n                if (tempNodes[d.source.index].isConnection) {\n                  // If this link is coming from a connection, we want to take the link to that connection's data\n                  // Find the link with that data\n                  prevLinks = links.filter((l) => l.target.id === d.source.id);\n                  // Check there is only one connection (otherwise this doesn't work)\n                  if (prevLinks.length === 1) {\n                    for (let key in d.sides.A) {\n                      if (key !== 'labelOffset' && key !== 'anchor') {\n                        // @ts-ignore\n                        d.sides.A[key] = prevLinks[0].sides.A[key];\n                      }\n                    }\n                  } else {\n                    console.warn(`Connection node \"${d.source.label}\" missing input connection.`);\n                  }\n                }\n                return (\n                  <g\n                    key={i}\n                    className=\"line\"\n                    data-testid=\"link\"\n                    strokeOpacity={1}\n                    width={Math.abs(d.target.x - d.source.x)}\n                    height={Math.abs(d.target.y - d.source.y)}\n                  >\n                    <line\n                      strokeWidth={d.stroke}\n                      stroke={getScaleColor(d.sides.A.currentValue, d.sides.A.bandwidth)}\n                      x1={d.lineStartA.x}\n                      y1={d.lineStartA.y}\n                      x2={d.lineEndA.x}\n                      y2={d.lineEndA.y}\n                      onMouseMove={(e) => {\n                        handleLinkHover(d, 'A', e);\n                      }}\n                      onMouseOut={handleLinkHoverLoss}\n                      onClick={() => {\n                        if (d.sides.A.dashboardLink.length > 0) {\n                          window.open(d.sides.A.dashboardLink, '_blank');\n                        }\n                      }}\n                      style={d.sides.A.dashboardLink.length > 0 ? { cursor: 'pointer' } : {}}\n                    ></line>\n                    {tempNodes[d.source.index].isConnection ? (\n                      <circle\n                        cx={d.lineStartA.x}\n                        cy={d.lineStartA.y}\n                        r={prevLinks.length > 0 ? Math.max(d.stroke, prevLinks[0].stroke) / 2 : d.stroke / 2}\n                        fill={getScaleColor(d.sides.A.currentValue, d.sides.A.bandwidth)}\n                        style={{ paintOrder: 'stroke' }}\n                      ></circle>\n                    ) : (\n                      ''\n                    )}\n                    {tempNodes[d.target.index].isConnection ? (\n                      ''\n                    ) : (\n                      <React.Fragment>\n                        <polygon\n                          points={`\n                                        ${d.arrowCenterA.x}\n                                        ${d.arrowCenterA.y}\n                                        ${d.arrowPolygonA.p1.x}\n                                        ${d.arrowPolygonA.p1.y}\n                                        ${d.arrowPolygonA.p2.x}\n                                        ${d.arrowPolygonA.p2.y}\n                                    `}\n                          fill={getScaleColor(d.sides.A.currentValue, d.sides.A.bandwidth)}\n                          onMouseMove={(e) => {\n                            handleLinkHover(d, 'A', e);\n                          }}\n                          onMouseOut={handleLinkHoverLoss}\n                          onClick={() => {\n                            if (d.sides.A.dashboardLink.length > 0) {\n                              window.open(d.sides.A.dashboardLink, '_blank');\n                            }\n                          }}\n                          style={d.sides.A.dashboardLink.length > 0 ? { cursor: 'pointer' } : {}}\n                        ></polygon>\n                        <line\n                          strokeWidth={d.stroke}\n                          stroke={getScaleColor(d.sides.Z.currentValue, d.sides.Z.bandwidth)}\n                          x1={d.lineStartZ.x}\n                          y1={d.lineStartZ.y}\n                          x2={d.lineEndZ.x}\n                          y2={d.lineEndZ.y}\n                          onMouseMove={(e) => {\n                            handleLinkHover(d, 'Z', e);\n                          }}\n                          onMouseOut={handleLinkHoverLoss}\n                          onClick={() => {\n                            if (d.sides.Z.dashboardLink.length > 0) {\n                              window.open(d.sides.Z.dashboardLink, '_blank');\n                            }\n                          }}\n                          style={d.sides.Z.dashboardLink.length > 0 ? { cursor: 'pointer' } : {}}\n                        ></line>\n                        <polygon\n                          points={`\n                                        ${d.arrowCenterZ.x}\n                                        ${d.arrowCenterZ.y}\n                                        ${d.arrowPolygonZ.p1.x}\n                                        ${d.arrowPolygonZ.p1.y}\n                                        ${d.arrowPolygonZ.p2.x}\n                                        ${d.arrowPolygonZ.p2.y}\n                                    `}\n                          fill={getScaleColor(d.sides.Z.currentValue, d.sides.Z.bandwidth)}\n                          onMouseMove={(e) => {\n                            handleLinkHover(d, 'Z', e);\n                          }}\n                          onMouseOut={handleLinkHoverLoss}\n                          onClick={() => {\n                            if (d.sides.Z.dashboardLink.length > 0) {\n                              window.open(d.sides.Z.dashboardLink, '_blank');\n                            }\n                          }}\n                          style={d.sides.Z.dashboardLink.length > 0 ? { cursor: 'pointer' } : {}}\n                        ></polygon>\n                      </React.Fragment>\n                    )}\n                  </g>\n                );\n              })}\n            </g>\n            <g>\n              {links.map((d, i) => {\n                if (d.nodes[0].id === d.nodes[1].id) {\n                  return;\n                }\n                const transform = getPercentPoint(\n                  d.lineStartZ,\n                  d.lineStartA,\n                  (tempNodes[d.target.index].isConnection ? 1 : 0.5) * (d.sides.A.labelOffset / 100)\n                );\n                return (\n                  <g\n                    fontStyle={'italic'}\n                    transform={`translate(${transform.x},${transform.y})`}\n                    onMouseMove={(e) => {\n                      handleLinkHover(d, 'A', e);\n                    }}\n                    onMouseOut={handleLinkHoverLoss}\n                    key={i}\n                  >\n                    <rect\n                      x={\n                        -measureText(`${d.sides.A.currentText}`, wm.settings.fontSizing.link).width / 2 -\n                        (wm.settings.fontSizing.link * 1.5) / 2\n                      }\n                      y={-wm.settings.fontSizing.link}\n                      width={\n                        measureText(`${d.sides.A.currentText}`, wm.settings.fontSizing.link).width +\n                        wm.settings.fontSizing.link * 1.5\n                      }\n                      height={wm.settings.fontSizing.link * 2}\n                      fill={getSolidFromAlphaColor(\n                        wm.settings.link.label.background,\n                        wm.settings.panel.backgroundColor\n                      )}\n                      stroke={getSolidFromAlphaColor(wm.settings.link.label.border, wm.settings.panel.backgroundColor)}\n                      strokeWidth={2}\n                      rx={(wm.settings.fontSizing.link + 8) / 2}\n                    ></rect>\n                    <text\n                      x={0}\n                      y={\n                        measureText(`${d.sides.A.currentText}`, wm.settings.fontSizing.link).actualBoundingBoxAscent / 2\n                      }\n                      textAnchor={'middle'}\n                      fontSize={`${wm.settings.fontSizing.link}px`}\n                      fill={wm.settings.link.label.font}\n                    >\n                      {`${d.sides.A.currentText}`}\n                    </text>\n                  </g>\n                );\n              })}\n            </g>\n            <g>\n              {links.map((d, i) => {\n                if (d.nodes[0].id === d.nodes[1].id || tempNodes[d.target.index].isConnection) {\n                  return;\n                }\n                const transform = getPercentPoint(d.lineStartA, d.lineStartZ, 0.5 * (d.sides.Z.labelOffset / 100));\n                return (\n                  <g\n                    fontStyle={'italic'}\n                    transform={`translate(${transform.x},${transform.y})`}\n                    onMouseMove={(e) => {\n                      handleLinkHover(d, 'Z', e);\n                    }}\n                    onMouseOut={handleLinkHoverLoss}\n                    key={i}\n                  >\n                    <rect\n                      x={\n                        -measureText(`${d.sides.Z.currentText}`, wm.settings.fontSizing.link).width / 2 -\n                        (wm.settings.fontSizing.link * 1.5) / 2\n                      }\n                      y={-wm.settings.fontSizing.link}\n                      width={\n                        measureText(`${d.sides.Z.currentText}`, wm.settings.fontSizing.link).width +\n                        wm.settings.fontSizing.link * 1.5\n                      }\n                      height={wm.settings.fontSizing.link * 2}\n                      fill={getSolidFromAlphaColor(\n                        wm.settings.link.label.background,\n                        wm.settings.panel.backgroundColor\n                      )}\n                      stroke={getSolidFromAlphaColor(wm.settings.link.label.border, wm.settings.panel.backgroundColor)}\n                      strokeWidth={2}\n                      rx={(wm.settings.fontSizing.link + 8) / 2}\n                    ></rect>\n                    <text\n                      x={0}\n                      y={\n                        measureText(`${d.sides.Z.currentText}`, wm.settings.fontSizing.link).actualBoundingBoxAscent / 2\n                      }\n                      textAnchor={'middle'}\n                      fontSize={`${wm.settings.fontSizing.link}px`}\n                      fill={wm.settings.link.label.font}\n                    >\n                      {`${d.sides.Z.currentText}`}\n                    </text>\n                  </g>\n                );\n              })}\n            </g>\n            <g>\n              {nodes.map((d, i) => (\n                <MapNode\n                  key={d.id}\n                  {...{\n                    node: d,\n                    draggedNode: draggedNode,\n                    selectedNodes: selectedNodes,\n                    wm: wm,\n                    onDrag: (e, position) => {\n                      // Return early if we actually want to just pan the whole weathermap.\n                      if (e.ctrlKey) {\n                        return;\n                      }\n\n                      // Otherwise set our currently dragged node and manage scaling and grid settings.\n                      setDraggedNode(d);\n                      setNodes((prevState) =>\n                        prevState.map((val, index) => {\n                          if (index === i || selectedNodes.find((n) => n.id === nodes[index].id)) {\n                            const scaledPos = getScaledMousePos({ x: position.deltaX, y: position.deltaY });\n                            val.x = Math.round(\n                              wm.settings.panel.grid.enabled\n                                ? wm.nodes[index].position[0] + (val.x + scaledPos.x - wm.nodes[index].position[0])\n                                : val.x + scaledPos.x\n                            );\n                            val.y = Math.round(\n                              wm.settings.panel.grid.enabled\n                                ? wm.nodes[index].position[1] + (val.y + scaledPos.y - wm.nodes[index].position[1])\n                                : val.y + scaledPos.y\n                            );\n                          }\n                          return val;\n                        })\n                      );\n                      tempNodes = nodes.slice();\n                      setLinks(\n                        wm.links.map((d, i) => {\n                          return generateDrawnLink(d, i);\n                        })\n                      );\n                    },\n                    onStop: (e, position) => {\n                      // setDraggedNode(null as unknown as DrawnNode);\n                      setDraggedNode(null as unknown as DrawnNode);\n                      let current: Weathermap = wm;\n                      current.nodes[i].position = [\n                        wm.settings.panel.grid.enabled\n                          ? nearestMultiple(nodes[i].x, wm.settings.panel.grid.size)\n                          : nodes[i].x,\n                        wm.settings.panel.grid.enabled\n                          ? nearestMultiple(nodes[i].y, wm.settings.panel.grid.size)\n                          : nodes[i].y,\n                      ];\n\n                      for (let node of selectedNodes) {\n                        current.nodes[node.index].position = [\n                          wm.settings.panel.grid.enabled\n                            ? nearestMultiple(nodes[node.index].x, wm.settings.panel.grid.size)\n                            : nodes[node.index].x,\n                          wm.settings.panel.grid.enabled\n                            ? nearestMultiple(nodes[node.index].y, wm.settings.panel.grid.size)\n                            : nodes[node.index].y,\n                        ];\n                      }\n\n                      onOptionsChange({\n                        ...options,\n                        weathermap: current,\n                      });\n                    },\n                    onClick: (e) => {\n                      if (e.ctrlKey && isEditMode) {\n                        setSelectedNodes((v) => {\n                          let cIndex = v.findIndex((n) => n.id === tempNodes[i].id);\n                          if (cIndex > -1) {\n                            v.splice(cIndex, 1);\n                          } else {\n                            v.push(tempNodes[i]);\n                          }\n                          return v;\n                        });\n                      } else if (!isEditMode && tempNodes[i].dashboardLink) {\n                        window.open(tempNodes[i].dashboardLink, '_blank');\n                      }\n                      // Force an update\n                      onOptionsChange(options);\n                    },\n                    disabled: !isEditMode,\n                    data: data,\n                  }}\n                />\n              ))}\n            </g>\n          </g>\n        </svg>\n        <div\n          className={cx(\n            styles.timeText,\n            css`\n              color: ${theme.colors.getContrastText(\n                wm.settings.panel.backgroundColor.startsWith('image')\n                  ? wm.settings.panel.backgroundColor.split('|', 3)[1]\n                  : wm.settings.panel.backgroundColor\n              )};\n            `\n          )}\n        >\n          {wm.settings.panel.showTimestamp ? timeRange.to.toLocaleString() : ''}\n        </div>\n      </div>\n    );\n  } else {\n    return <React.Fragment />;\n  }\n};\n\nconst getStyles = stylesFactory(() => {\n  return {\n    wrapper: css`\n      position: relative;\n      font-size: 10px;\n      font-family: sans-serif;\n    `,\n    textBox: css`\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      padding: 10px;\n    `,\n    nodeText: css`\n      -webkit-touch-callout: none;\n      -webkit-user-select: none;\n      -khtml-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      -o-user-select: none;\n      user-select: none;\n    `,\n    timeText: css`\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      color: black;\n      padding: 5px 10px;\n      font-size: 12px;\n    `,\n  };\n});\n","export const CiscoIcons = [\n  '100baset-hub',\n  '10700',\n  '10ge-fcoe',\n  '15200',\n  '3x74-floor-cluster-control',\n  '6700-series',\n  '7500ars7513',\n  'accesspoint',\n  'ace',\n  'acs',\n  'adm',\n  'androgenous-person',\n  'antenna',\n  'asa-5500',\n  'asic-processor',\n  'asr-1000-series',\n  'ata',\n  'atm-3800',\n  'atm-fast-gigabit',\n  'atm-router',\n  'atm-switch',\n  'atm-tag-switch-router',\n  'avs',\n  'axp',\n  'bbsm',\n  'branch-office',\n  'breakout-box',\n  'bridge',\n  'broadcast-router',\n  'bts-10200',\n  'cable-modem',\n  'callmanager',\n  'car',\n  'carrier-routing-system',\n  'cddi-fddi',\n  'cdm',\n  'cell-phone',\n  'centri-firewall',\n  'cisco-1000',\n  'cisco-ca',\n  'cisco-file-engine',\n  'cisco-hub',\n  'cisco-security',\n  'cisco-unified-presence-server',\n  'cisco-unity-express',\n  'cisco-works',\n  'class-4-5-switch',\n  'cloud',\n  'communications-server',\n  'congtent-switch-module',\n  'contact-center',\n  'content-acquirer',\n  'content-engine-cache-director',\n  'content-service-router',\n  'content-service-switch-1100',\n  'content-switch',\n  'content-transformation-engine-',\n  'cs-mars',\n  'csm-s',\n  'csu-dsu',\n  'cube',\n  'detector',\n  'director-class-fibre-channel-di',\n  'directory-server',\n  'diskette',\n  'distributed-director',\n  'dot-dot',\n  'dpt',\n  'dslam',\n  'dual-mode',\n  'dwdm-filter',\n  'end-office',\n  'fax',\n  'fc-storage',\n  'fddi-ring',\n  'fibre-channel-disk-subsystem',\n  'fibre-channel-fabric-switch',\n  'file-cabinet',\n  'file-server',\n  'fileserver',\n  'firewall-service-module-fwsm',\n  'firewall',\n  'front-end-processor',\n  'gatekeeper',\n  'general-appliance',\n  'generic-building',\n  'generic-gateway',\n  'generic-processor',\n  'generic-softswitch',\n  'gigabit-switch-atm-tag-router',\n  'government-building',\n  'ground-terminal',\n  'guard',\n  'h323',\n  'handheld',\n  'hootphone',\n  'host',\n  'hp-mini',\n  'hub',\n  'iad-router',\n  'ibm-mainframe',\n  'ibm-mini-as400',\n  'ibm-tower',\n  'icm',\n  'ics',\n  'intelliswitch-stack',\n  'internet-streamer',\n  'ios-firewall',\n  'ios-slb',\n  'ip-communicator',\n  'ip-dsl',\n  'ip-phone',\n  'ip-telephony-router',\n  'ip',\n  'iptc',\n  'iptv-content-manager',\n  'iptv-server',\n  'iscsi-router',\n  'isdn-switch',\n  'itp',\n  'jbod',\n  'key',\n  'keys',\n  'lan-to-lan',\n  'laptop',\n  'layer-2-remote-switch',\n  'layer-3-switch',\n  'lightweight-ap',\n  'localdirector',\n  'lock',\n  'longreach-cpe',\n  'mac-woman',\n  'macintosh',\n  'man-woman',\n  'mas-gateway',\n  'mau',\n  'mcu',\n  'mdu',\n  'me1100',\n  'mediator',\n  'meetingplace',\n  'mesh-ap',\n  'metro-1500',\n  'mgx-8000-multiservice-switch',\n  'microphone',\n  'microwebserver',\n  'mini-vax',\n  'mobile-access-ip-phone',\n  'mobile-access-router',\n  'mobile-streamer',\n  'modem',\n  'moh-server',\n  'mse',\n  'multi-fabric-server-switch',\n  'multilayer-remote-switch',\n  'multiswitch-device',\n  'mux',\n  'mxe',\n  'nac-appliance',\n  'nce-router',\n  'nce',\n  'netflow-router',\n  'netranger',\n  'netsonar',\n  'network-management',\n  'network-security',\n  'nexus-1000',\n  'nexus-2000-fabric-extender',\n  'nexus-5000',\n  'nexus-7000',\n  'octel',\n  'ons15500',\n  'optical-amplifier',\n  'optical-services-router',\n  'optical-transport',\n  'pad-x28',\n  'pad',\n  'page-icon',\n  'pbx-switch',\n  'pbx',\n  'pc-adapter-card',\n  'pc-man',\n  'pc-routercard',\n  'pc-sosftware',\n  'pc-video',\n  'pc',\n  'pda',\n  'phone-fax',\n  'phone',\n  'pix-firewall',\n  'pmc',\n  'printer',\n  'programmable-switch',\n  'protocol-translator',\n  'pxf',\n  'radio-tower',\n  'ratemux',\n  'relational-database',\n  'repeater',\n  'rf-modem',\n  'route-switch-processor',\n  'router-firewall',\n  'router-in-building',\n  'router-with-silicon-switch',\n  'router',\n  'rpsrps',\n  'running-man',\n  'safeharbor-icon',\n  'sattelite-dish',\n  'sattelite',\n  'scanner',\n  'server-switch',\n  'server-with-router',\n  'service-control',\n  'service-module',\n  'service-router',\n  'services',\n  'set-top-box',\n  'simultlayer-switch',\n  'sip-proxy-server',\n  'sitting-woman',\n  'small-business',\n  'small-hub',\n  'softphone',\n  'softswitch-pgw-mgc',\n  'software-based-server',\n  'space-router',\n  'speaker',\n  'ssc',\n  'ssl-terminator',\n  'standard-host',\n  'standing-man',\n  'standing-woman',\n  'stb',\n  'storage-router',\n  'storge-server',\n  'stp',\n  'streamer',\n  'sun-workstation',\n  'supercomputer',\n  'svx',\n  'system-controller',\n  'tablet',\n  'tape-array',\n  'tdm-router',\n  'telecommuter-house-pc',\n  'telecommuter-house',\n  'telecommuter-icon',\n  'token',\n  'tp-mcu',\n  'transpath',\n  'truck',\n  'turret',\n  'tv',\n  'ubr910',\n  'umg-series',\n  'unity-server',\n  'universal-gateway',\n  'university',\n  'upc',\n  'ups',\n  'vault',\n  'video-camera',\n  'vip',\n  'virtual-layer-switch',\n  'virtual-switch-controller-vsc3',\n  'voice-atm-switch',\n  'voice-commserver',\n  'voice-router',\n  'voice-switch',\n  'vpn-concentrator',\n  'vpn-gateway',\n  'vss',\n  'wae',\n  'wavelength-router',\n  'web-browser',\n  'web-cluster',\n  'wi-fi-tag',\n  'wireless-location-appliance',\n  'wireless-router',\n  'wireless-transport',\n  'wireless',\n  'wirelss-bridge',\n  'wism',\n  'wlan-controller',\n  'workgroup-director',\n  'workgroup-switch',\n  'workstation',\n  'www-server',\n];\n\nexport const NetworkingIcons = [\n  'a-b-switch',\n  'atm-switch-2',\n  'atm-switch',\n  'biometric-reader',\n  'bridge',\n  'building',\n  'camera',\n  'card-reader',\n  'cellphone',\n  'cloud',\n  'comm-link',\n  'copier',\n  'diagnostic-device',\n  'ethernet',\n  'external-hard-drive',\n  'external-media-drive',\n  'fax-machine',\n  'fiber-optic-2',\n  'fiber-optic',\n  'file-2',\n  'file-server',\n  'file',\n  'firewall',\n  'hub',\n  'keyboard',\n  'lock',\n  'mainframe',\n  'micro-webserver',\n  'modem',\n  'monitor',\n  'mouse',\n  'mpls-2',\n  'mpls',\n  'multi-function-machine',\n  'patch-panel',\n  'pbx',\n  'pc',\n  'phone',\n  'plotter',\n  'printer',\n  'project-screen-2',\n  'project-screen',\n  'projector-2',\n  'projector-3',\n  'projector',\n  'radio-tower',\n  'relational-database',\n  'repeater',\n  'ring-network',\n  'router',\n  'satellite-dish',\n  'satellite',\n  'scanner',\n  'server-2',\n  'server',\n  'smart-phone-2',\n  'smart-phone',\n  'standing-man',\n  'standing-woman',\n  'super-computer',\n  'switch',\n  'telephone',\n  'ups',\n  'user',\n  'video-camera',\n  'video-phone',\n  'virtual-server',\n  'voip-phone',\n  'web-service',\n  'wireless-access-point',\n  'wireless-router',\n  'working-person',\n];\n\nexport const DatabaseIcons = [\n  'aerospike',\n  'airtable',\n  'apache-cassandra',\n  'apache-couchdb',\n  'apache-hadoop',\n  'apache-hbase',\n  'aws-dynamodb',\n  'aws-mobile-hub',\n  'aws-rds-relational-database-service',\n  'cloudera',\n  'couchbase',\n  'crateio',\n  'dat',\n  'database-labs',\n  'doctrine',\n  'flocker',\n  'google-firebase',\n  'ibm-cloudant',\n  'ibm-compose',\n  'influxdb',\n  'kinto',\n  'knexjs',\n  'leveldb',\n  'mariadb',\n  'memsql',\n  'mongodb-realm',\n  'mongodb',\n  'mysql',\n  'neo4j',\n  'nuodb',\n  'oracle',\n  'parse',\n  'percona',\n  'postgresql',\n  'pouchdb',\n  'prisma',\n  'pumpkindb',\n  'pusher',\n  'redis',\n  'redsmin',\n  'rethinkdb',\n  'riak',\n  'rocksdb',\n  'rxdb',\n  'scaledrone',\n  'sequelize',\n  'sqldep',\n  'sqlite',\n];\n\nexport const ComputerIcons = [\n  'crt-monitor',\n  'data-pipe',\n  'keyboard',\n  'laptop-device',\n  'lcd-monitor',\n  'mouse',\n  'pc',\n  'pda',\n  'slate',\n  'tablet',\n  'terminal',\n  'virtual-pc',\n];\n","import React, { useState } from 'react';\nimport { css } from 'emotion';\nimport {\n  Button,\n  Input,\n  InlineField,\n  InlineFieldRow,\n  InlineSwitch,\n  Select,\n  stylesFactory,\n  ControlledCollapse,\n  InlineLabel,\n  ColorPicker,\n  Slider,\n  useTheme2,\n} from '@grafana/ui';\nimport { SelectableValue, StandardEditorProps } from '@grafana/data';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Weathermap, Node } from 'types';\nimport { CiscoIcons, NetworkingIcons, DatabaseIcons, ComputerIcons } from './iconOptions';\nimport { getDataFrameName } from 'utils';\n\ninterface Settings {\n  placeholder: string;\n}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const NodeForm = ({ value, onChange, context }: Props) => {\n  const styles = getStyles();\n  const theme = useTheme2();\n\n  let connectionCounter = 0;\n  for (let node of value.nodes) {\n    connectionCounter += node.isConnection ? 1 : 0;\n  }\n\n  const handleChange = (e: React.FormEvent<HTMLInputElement>, i: number) => {\n    let weathermap: Weathermap = value;\n    if (e.currentTarget.name === 'X') {\n      weathermap.nodes[i].position[0] = e.currentTarget.valueAsNumber;\n    } else if (e.currentTarget.name === 'Y') {\n      weathermap.nodes[i].position[1] = e.currentTarget.valueAsNumber;\n    } else if (e.currentTarget.name === 'label') {\n      weathermap.nodes[i].label = e.currentTarget.value;\n    }\n    onChange(weathermap);\n  };\n\n  const handleDashboardLinkChange = (e: React.FormEvent<HTMLInputElement>, i: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].dashboardLink = e.currentTarget.value;\n    onChange(weathermap);\n  };\n\n  const handleNodePaddingChange = (num: number, i: number, type: 'vertical' | 'horizontal') => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].padding[type] = num;\n    onChange(weathermap);\n  };\n\n  const handleSpacingChange = (e: any, i: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].useConstantSpacing = e.currentTarget.checked;\n    onChange(weathermap);\n  };\n\n  const handleCompactChange = (e: any, i: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].compactVerticalLinks = e.currentTarget.checked;\n    onChange(weathermap);\n  };\n\n  const handleConnectionChange = (e: React.FormEvent<HTMLInputElement>, i: number): void => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].isConnection = e.currentTarget.checked;\n    weathermap.nodes[i].label = 'C' + connectionCounter;\n    onChange(weathermap);\n  };\n\n  const handleStatusQueryChange = (query: string | undefined, i: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].statusQuery = query;\n    onChange(weathermap);\n  };\n\n  const handleColorChange = (color: string, i: number, type: string) => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].colors[type as 'font' | 'background' | 'border'] = color;\n    onChange(weathermap);\n  };\n\n  const applyNodeColorToAll = () => {\n    let weathermap: Weathermap = value;\n    for (let node of weathermap.nodes) {\n      node.colors = { ...currentNode.colors };\n    }\n    onChange(weathermap);\n  };\n\n  const handleIconChange = (icon: string | undefined, i: number) => {\n    let weathermap: Weathermap = value;\n\n    if (icon === undefined) {\n      weathermap.nodes[i].nodeIcon = {\n        src: '',\n        name: '',\n        size: {\n          width: 0,\n          height: 0,\n        },\n        padding: {\n          vertical: 0,\n          horizontal: 0,\n        },\n        drawInside: false,\n      };\n    } else {\n      weathermap.nodes[i].nodeIcon!.src =\n        icon === 'custom_icon' ? '' : 'public/plugins/knightss27-weathermap-panel/icons/' + icon + '.svg';\n      weathermap.nodes[i].nodeIcon!.name = icon;\n\n      if (weathermap.nodes[i].nodeIcon!.size.width === 0) {\n        weathermap.nodes[i].nodeIcon!.size = { width: 40, height: 40 };\n      }\n    }\n\n    onChange(weathermap);\n  };\n\n  const handleIconSizeChange = (amt: number, i: number, type: 'width' | 'height') => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].nodeIcon!.size[type] = amt;\n    onChange(weathermap);\n  };\n\n  const handleIconPaddingChange = (amt: number, i: number, type: 'vertical' | 'horizontal') => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].nodeIcon!.padding[type] = amt;\n    onChange(weathermap);\n  };\n\n  const handleIconDrawChange = (checked: boolean, i: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes[i].nodeIcon!.drawInside = checked;\n    onChange(weathermap);\n  };\n\n  const addNewNode = () => {\n    let weathermap: Weathermap = value;\n    const node: Node = {\n      id: uuidv4(),\n      position: [\n        -weathermap.settings.panel.offset.x + weathermap.settings.panel.panelSize.width / 2,\n        -weathermap.settings.panel.offset.y + weathermap.settings.panel.panelSize.height / 2,\n      ],\n      label: 'Test Label',\n      anchors: {\n        0: { numLinks: 0, numFilledLinks: 0 },\n        1: { numLinks: 0, numFilledLinks: 0 },\n        2: { numLinks: 0, numFilledLinks: 0 },\n        3: { numLinks: 0, numFilledLinks: 0 },\n        4: { numLinks: 0, numFilledLinks: 0 },\n      },\n      useConstantSpacing: false,\n      compactVerticalLinks: false,\n      padding: {\n        vertical: 4,\n        horizontal: 10,\n      },\n      colors:\n        weathermap.nodes.length > 0\n          ? weathermap.nodes[0].colors\n          : {\n              font: theme.colors.secondary.contrastText,\n              background: theme.colors.secondary.main,\n              border: theme.colors.secondary.border,\n              statusDown: '#ff0000',\n            },\n      nodeIcon: {\n        src: '',\n        name: '',\n        size: {\n          width: 0,\n          height: 0,\n        },\n        padding: {\n          vertical: 0,\n          horizontal: 0,\n        },\n        drawInside: false,\n      },\n      isConnection: false,\n    };\n    weathermap.nodes.push(node);\n    onChange(weathermap);\n    setCurrentNode(node);\n  };\n\n  const removeNode = (i: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.links = weathermap.links.filter((link) => {\n      for (const node of link.nodes) {\n        if (node.id === weathermap.nodes[i].id) {\n          return false;\n        }\n      }\n      return true;\n    });\n    weathermap.nodes.splice(i, 1);\n    onChange(weathermap);\n  };\n\n  const clearNodes = () => {\n    let weathermap: Weathermap = value;\n    weathermap.nodes = [];\n    weathermap.links = [];\n    onChange(weathermap);\n  };\n\n  const [currentNode, setCurrentNode] = useState('null' as unknown as Node);\n\n  const ciscoIconsFormatted = CiscoIcons.map((t) => {\n    return { label: t, value: 'cisco/' + t };\n  });\n  const networkingIconsFormatted = NetworkingIcons.map((t) => {\n    return { label: t, value: 'networking/' + t };\n  });\n  const databaseIconsFormatted = DatabaseIcons.map((t) => {\n    return { label: t, value: 'databases/' + t };\n  });\n  const computerIconsFormatted = ComputerIcons.map((t) => {\n    return { label: t, value: 'computers_monitors/' + t };\n  });\n\n  let dataWithIds: string[] = [];\n  context.data.forEach((d, i) => {\n    try {\n      dataWithIds.push(getDataFrameName(d, context.data));\n    } catch (e) {\n      console.warn('Network Weathermap: Error while attempting to access query data.', e);\n    }\n  });\n\n  return (\n    <React.Fragment>\n      <h6\n        style={{\n          padding: '10px 0px 5px 5px',\n          marginTop: '10px',\n          borderTop: '1px solid var(--in-content-button-background)',\n        }}\n      >\n        Nodes\n      </h6>\n      <Select\n        onChange={(v) => {\n          setCurrentNode(v as unknown as Node);\n        }}\n        value={currentNode}\n        options={value.nodes as unknown as Array<SelectableValue<Node>>}\n        getOptionLabel={(node) => node.label}\n        getOptionValue={(node) => node.id}\n        className={styles.nodeSelect}\n        placeholder={'Select a node'}\n        isClearable\n      ></Select>\n\n      {value.nodes.map((node, i) => {\n        if (currentNode && node.id === currentNode.id) {\n          return (\n            <React.Fragment key={node.id}>\n              <InlineFieldRow className={styles.inlineRow}>\n                <InlineField grow label={'X'}>\n                  <Input\n                    value={node.position[0]}\n                    onChange={(e) => handleChange(e, i)}\n                    placeholder={'Position X'}\n                    type={'number'}\n                    className={styles.nodeLabel}\n                    name={'X'}\n                  />\n                </InlineField>\n                <InlineField grow label={'Y'}>\n                  <Input\n                    value={node.position[1]}\n                    onChange={(e) => handleChange(e, i)}\n                    placeholder={'Position Y'}\n                    type={'number'}\n                    className={styles.nodeLabel}\n                    name={'Y'}\n                  />\n                </InlineField>\n                <InlineField grow label={'Label'}>\n                  <Input\n                    value={node.label}\n                    onChange={(e) => handleChange(e, i)}\n                    placeholder={'Node Label'}\n                    type={'text'}\n                    className={styles.nodeLabel}\n                    name={'label'}\n                  />\n                </InlineField>\n                <InlineField grow label={'Dashboard Link'}>\n                  <Input\n                    value={node.dashboardLink}\n                    onChange={(e) => handleDashboardLinkChange(e, i)}\n                    placeholder={'Node Dashboard Link'}\n                    type={'text'}\n                    className={styles.nodeLabel}\n                    name={'Dashboard link'}\n                  />\n                </InlineField>\n              </InlineFieldRow>\n              <InlineFieldRow className={styles.inlineRow}>\n                <ControlledCollapse label=\"Icon\">\n                  <Select\n                    onChange={(v) => {\n                      handleIconChange(v ? v.value : undefined, i);\n                    }}\n                    value={node.nodeIcon?.name}\n                    options={[\n                      { label: 'Cisco Icons', value: 'cisco', options: ciscoIconsFormatted },\n                      { label: 'Networking Icons', value: 'networking', options: networkingIconsFormatted },\n                      { label: 'Database Icons', value: 'databases', options: databaseIconsFormatted },\n                      { label: 'Computer Icons', value: 'computers_monitors', options: computerIconsFormatted },\n                      { label: 'Custom Icon', value: 'custom_icon' },\n                    ]}\n                    className={styles.nodeSelect}\n                    placeholder={'Select an icon'}\n                    isClearable\n                  ></Select>\n                  {node.nodeIcon && node.nodeIcon.name === 'custom_icon' ? (\n                    <>\n                      <InlineField\n                        grow\n                        label=\"Custom Icon Source\"\n                        className={styles.inlineField}\n                        style={{ marginLeft: '24px' }}\n                      >\n                        <Input\n                          value={node.nodeIcon.src}\n                          placeholder={'https://example.com/icon.svg'}\n                          type={'text'}\n                          name={'iconImageURL'}\n                          onChange={(e) => {\n                            let options = value;\n                            if (options.nodes[i].nodeIcon) {\n                              options.nodes[i].nodeIcon!.src = e.currentTarget.value;\n                            }\n                            onChange(options);\n                          }}\n                        ></Input>\n                      </InlineField>\n                    </>\n                  ) : (\n                    ''\n                  )}\n                  <InlineField grow label={'Width'}>\n                    <Input\n                      value={node.nodeIcon!.size.width}\n                      onChange={(e) => handleIconSizeChange(e.currentTarget.valueAsNumber, i, 'width')}\n                      placeholder={'Width'}\n                      type={'number'}\n                      className={styles.nodeLabel}\n                      name={'iconWidth'}\n                    />\n                  </InlineField>\n                  <InlineField grow label={'Height'}>\n                    <Input\n                      value={node.nodeIcon!.size.height}\n                      onChange={(e) => handleIconSizeChange(e.currentTarget.valueAsNumber, i, 'height')}\n                      placeholder={'Height'}\n                      type={'number'}\n                      className={styles.nodeLabel}\n                      name={'iconHeight'}\n                    />\n                  </InlineField>\n                  <InlineField grow label={'Padding Horizontal'}>\n                    <Slider\n                      min={0}\n                      max={40}\n                      value={node.nodeIcon!.padding.horizontal}\n                      step={1}\n                      onChange={(num) => handleIconPaddingChange(num, i, 'horizontal')}\n                    />\n                  </InlineField>\n                  <InlineField grow label={'Padding Vertical'}>\n                    <Slider\n                      min={0}\n                      max={40}\n                      value={node.nodeIcon!.padding.vertical}\n                      step={1}\n                      onChange={(num) => handleIconPaddingChange(num, i, 'vertical')}\n                    />\n                  </InlineField>\n                  <InlineField grow label={'Draw Inside'}>\n                    <InlineSwitch\n                      value={node.nodeIcon!.drawInside}\n                      onChange={(e) => handleIconDrawChange(e.currentTarget.checked, i)}\n                    />\n                  </InlineField>\n                </ControlledCollapse>\n              </InlineFieldRow>\n              <InlineFieldRow className={styles.inlineRow}>\n                <ControlledCollapse label=\"Padding\">\n                  <InlineFieldRow className={styles.inlineRow}>\n                    <InlineField grow label={'Horizontal'}>\n                      <Slider\n                        min={0}\n                        max={50}\n                        value={node.padding.horizontal}\n                        step={1}\n                        onChange={(num) => handleNodePaddingChange(num, i, 'horizontal')}\n                      />\n                    </InlineField>\n                    <InlineField grow label={'Vertical'}>\n                      <Slider\n                        min={0}\n                        max={50}\n                        value={node.padding.vertical}\n                        step={1}\n                        onChange={(num) => handleNodePaddingChange(num, i, 'vertical')}\n                      />\n                    </InlineField>\n                  </InlineFieldRow>\n                </ControlledCollapse>\n              </InlineFieldRow>\n              <InlineFieldRow className={styles.inlineRow}>\n                <ControlledCollapse label=\"Status\">\n                  <InlineFieldRow className={styles.inlineRow}>\n                    <InlineField grow label={'Query'}>\n                      <Select\n                        onChange={(v) => {\n                          handleStatusQueryChange(v ? v.value : undefined, i);\n                        }}\n                        value={dataWithIds.filter((p, i) => p === node.statusQuery)[0]}\n                        options={dataWithIds.map((d) => {\n                          return { value: d, label: d };\n                        })}\n                        placeholder={`Select query`}\n                        isClearable\n                      ></Select>\n                    </InlineField>\n                  </InlineFieldRow>\n                  <InlineLabel width={'auto'} style={{ marginBottom: '4px' }}>\n                    StatusDown Color:\n                    <ColorPicker\n                      color={node.colors.statusDown}\n                      onChange={(color) => {\n                        let weathermap: Weathermap = value;\n                        weathermap.nodes[i].colors.statusDown = color;\n                        onChange(weathermap);\n                      }}\n                    />\n                  </InlineLabel>\n                </ControlledCollapse>\n              </InlineFieldRow>\n              <InlineFieldRow className={styles.inlineRow}>\n                <ControlledCollapse label=\"Advanced\">\n                  <InlineFieldRow className={styles.inlineRow}>\n                    <InlineField grow label={'Constant Spacing'}>\n                      <InlineSwitch value={node.useConstantSpacing} onChange={(e) => handleSpacingChange(e, i)} />\n                    </InlineField>\n                    <InlineField grow label={'Compact Vertical Links'}>\n                      <InlineSwitch value={node.compactVerticalLinks} onChange={(e) => handleCompactChange(e, i)} />\n                    </InlineField>\n                    <InlineField grow label={'Use As Connection (BETA)'}>\n                      <InlineSwitch value={node.isConnection} onChange={(e) => handleConnectionChange(e, i)} />\n                    </InlineField>\n                  </InlineFieldRow>\n                </ControlledCollapse>\n              </InlineFieldRow>\n              <InlineFieldRow className={styles.inlineRow}>\n                <ControlledCollapse label=\"Colors\">\n                  {Object.keys(node.colors).map((colorType) => (\n                    <InlineFieldRow key={colorType}>\n                      <InlineLabel style={{ marginBottom: '4px', textTransform: 'capitalize', flex: '1 0 auto' }}>\n                        {colorType} Color:\n                        <ColorPicker\n                          color={node.colors[colorType as 'font' | 'background' | 'border']}\n                          onChange={(e) => handleColorChange(e, i, colorType)}\n                        />\n                      </InlineLabel>\n                    </InlineFieldRow>\n                  ))}\n                  <Button\n                    variant=\"primary\"\n                    size=\"md\"\n                    onClick={() => applyNodeColorToAll()}\n                    style={{ marginTop: '10px' }}\n                  >\n                    Apply to All?\n                  </Button>\n                </ControlledCollapse>\n              </InlineFieldRow>\n              <InlineFieldRow className={styles.inlineRow}>\n                <Button\n                  variant=\"destructive\"\n                  icon=\"trash-alt\"\n                  size=\"md\"\n                  onClick={() => removeNode(i)}\n                  style={{ justifyContent: 'center' }}\n                >\n                  Remove Node\n                </Button>\n              </InlineFieldRow>\n            </React.Fragment>\n          );\n        }\n        return;\n      })}\n\n      <Button variant=\"secondary\" icon=\"plus\" size=\"md\" onClick={addNewNode} className={styles.addNew}>\n        Add Node\n      </Button>\n      <Button variant=\"secondary\" icon=\"trash-alt\" size=\"md\" onClick={clearNodes} className={styles.clearAll}>\n        Clear All\n      </Button>\n    </React.Fragment>\n  );\n};\n\nconst getStyles = stylesFactory(() => {\n  return {\n    nodeLabel: css`\n      margin: 0px 0px;\n    `,\n    addNew: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-right: 5px;\n    `,\n    clearAll: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-left: 5px;\n    `,\n    nodeSelect: css`\n      margin: 5px 0px;\n    `,\n    inlineField: css`\n      flex: 1 0 auto;\n    `,\n    inlineRow: css`\n      flex-flow: column;\n    `,\n  };\n});\n","import React from 'react';\n\ninterface Props {\n  title: string;\n}\n\nexport const FormDivider = ({ title }: Props) => {\n  return (\n    <h6\n      style={{\n        padding: '10px 0px 5px 5px',\n        marginTop: '10px',\n        borderTop: '1px solid var(--in-content-button-background)',\n      }}\n    >\n      {title}\n    </h6>\n  );\n};\n","import React, { useState } from 'react';\nimport { css } from 'emotion';\nimport {\n  Button,\n  ControlledCollapse,\n  InlineField,\n  InlineFieldRow,\n  InlineSwitch,\n  Input,\n  Select,\n  Slider,\n  stylesFactory,\n  UnitPicker,\n} from '@grafana/ui';\nimport { SelectableValue, StandardEditorProps } from '@grafana/data';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Weathermap, Node, Link, Anchor, LinkSide } from 'types';\nimport { FormDivider } from './FormDivider';\nimport { getDataFrameName } from 'utils';\n\ninterface Settings {\n  placeholder: string;\n}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const LinkForm = (props: Props) => {\n  const { value, onChange, context } = props;\n  const styles = getStyles();\n\n  const findNodeIndex = (n1: Node): number => {\n    let nodeIndex = -1;\n    value.nodes.forEach((node, i) => {\n      if (node.id === n1.id) {\n        nodeIndex = i;\n      }\n    });\n    return nodeIndex;\n  };\n\n  const handleBandwidthChange = (amt: number, i: number, side: 'A' | 'Z') => {\n    let weathermap: Weathermap = value;\n    weathermap.links[i].sides[side].bandwidth = amt;\n    weathermap.links[i].sides[side].bandwidthQuery = undefined;\n    onChange(weathermap);\n  };\n\n  const handleBandwidthQueryChange = (frame: string | undefined, i: number, side: 'A' | 'Z') => {\n    let weathermap: Weathermap = value;\n    weathermap.links[i].sides[side].bandwidth = 0;\n    weathermap.links[i].sides[side].bandwidthQuery = frame;\n    onChange(weathermap);\n  };\n\n  const handleAnchorChange = (anchor: number, i: number, side: 'A' | 'Z') => {\n    let weathermap: Weathermap = value;\n    const nodeIndex = findNodeIndex(weathermap.links[i].nodes[side === 'A' ? 0 : 1]);\n\n    // remove from old\n    weathermap.nodes[nodeIndex].anchors[weathermap.links[i].sides[side].anchor].numLinks--;\n    weathermap.links[i].sides[side].anchor = anchor;\n    // add to new\n    weathermap.nodes[nodeIndex].anchors[weathermap.links[i].sides[side].anchor].numLinks++;\n    onChange(weathermap);\n  };\n\n  const handleNodeChange = (node: Node, side: 'A' | 'Z', i: number) => {\n    let weathermap: Weathermap = value;\n    const nodeIndex = findNodeIndex(node);\n\n    weathermap.nodes[nodeIndex].anchors[weathermap.links[i].sides[side].anchor].numLinks++;\n    if (side === 'A') {\n      const n2 = findNodeIndex(weathermap.links[i].nodes[0]);\n      weathermap.nodes[n2].anchors[weathermap.links[i].sides[side].anchor].numLinks--;\n      weathermap.links[i].nodes[0] = weathermap.nodes[nodeIndex];\n    } else if (side === 'Z') {\n      const n2 = findNodeIndex(weathermap.links[i].nodes[1]);\n      weathermap.nodes[n2].anchors[weathermap.links[i].sides[side].anchor].numLinks--;\n      weathermap.links[i].nodes[1] = weathermap.nodes[nodeIndex];\n    }\n    onChange(weathermap);\n  };\n\n  const handleDataChange = (side: 'A' | 'Z', i: number, frameName: string | undefined) => {\n    let weathermap: Weathermap = value;\n    weathermap.links[i].sides[side].query = frameName;\n    onChange(weathermap);\n  };\n\n  const handleLabelOffsetChange = (val: number, i: number, side: 'A' | 'Z') => {\n    let weathermap: Weathermap = value;\n    weathermap.links[i].sides[side].labelOffset = val;\n    onChange(weathermap);\n  };\n\n  const handleDashboardLinkChange = (val: string, i: number, side: 'A' | 'Z') => {\n    let weathermap: Weathermap = value;\n    weathermap.links[i].sides[side].dashboardLink = val;\n    onChange(weathermap);\n  };\n\n  const addNewLink = () => {\n    if (value.nodes.length === 0) {\n      throw new Error('There must be >= 1 Nodes to create a link.');\n    }\n    let weathermap: Weathermap = value;\n    const link: Link = {\n      id: uuidv4(),\n      nodes: [value.nodes[0], value.nodes[0]],\n      sides: {\n        A: {\n          bandwidth: 0,\n          bandwidthQuery: undefined,\n          query: undefined,\n          labelOffset: 55,\n          anchor: Anchor.Center,\n          dashboardLink: '',\n        },\n        Z: {\n          bandwidth: 0,\n          bandwidthQuery: undefined,\n          query: undefined,\n          labelOffset: 55,\n          anchor: Anchor.Center,\n          dashboardLink: '',\n        },\n      },\n      units: undefined,\n      stroke: 8,\n      arrows: {\n        width: 8,\n        height: 10,\n        offset: 2,\n      },\n      showThroughputPercentage: false,\n    };\n    weathermap.nodes[0].anchors[Anchor.Center].numLinks += 2;\n    weathermap.links.push(link);\n    onChange(weathermap);\n    setCurrentLink(link);\n  };\n\n  const removeLink = (i: number) => {\n    let weathermap: Weathermap = value;\n    let toRemove = weathermap.links[i];\n    for (let i = 0; i < weathermap.nodes.length; i++) {\n      if (weathermap.nodes[i].id === toRemove.nodes[0].id) {\n        weathermap.nodes[i].anchors[toRemove.sides.A.anchor].numLinks--;\n      } else if (weathermap.nodes[i].id === toRemove.nodes[1].id) {\n        weathermap.nodes[i].anchors[toRemove.sides.Z.anchor].numLinks--;\n      }\n    }\n    weathermap.links.splice(i, 1);\n    onChange(weathermap);\n  };\n\n  const clearLinks = () => {\n    let weathermap: Weathermap = value;\n    weathermap.links = [];\n    for (let i = 0; i < weathermap.nodes.length; i++) {\n      weathermap.nodes[i].anchors = {\n        0: { numLinks: 0, numFilledLinks: 0 },\n        1: { numLinks: 0, numFilledLinks: 0 },\n        2: { numLinks: 0, numFilledLinks: 0 },\n        3: { numLinks: 0, numFilledLinks: 0 },\n        4: { numLinks: 0, numFilledLinks: 0 },\n      };\n    }\n    props.onChange(weathermap);\n  };\n\n  const [currentLink, setCurrentLink] = useState('null' as unknown as Link);\n\n  // Logic for disallowing more than two links (one in, one out) from connection nodes.\n  let usedConnectionSourceNodes: string[] = [];\n  let usedConnectionTargetNodes: string[] = [];\n  for (let link of value.links) {\n    if (link.nodes[0].isConnection) {\n      usedConnectionSourceNodes.push(link.nodes[0].id);\n    }\n    if (link.nodes[1].isConnection) {\n      usedConnectionTargetNodes.push(link.nodes[1].id);\n    }\n  }\n\n  let usedConnectionNodes = usedConnectionSourceNodes.filter((n) => usedConnectionTargetNodes.includes(n));\n  let availableNodes = value.nodes.filter((n) => !usedConnectionNodes.includes(n.id));\n\n  let dataWithIds: string[] = [];\n  context.data.forEach((d, i) => {\n    try {\n      dataWithIds.push(getDataFrameName(d, context.data));\n    } catch (e) {\n      console.warn('Network Weathermap: Error while attempting to access query data.', e);\n    }\n  });\n\n  return (\n    <React.Fragment>\n      <h6\n        style={{\n          padding: '10px 0px 5px 5px',\n          marginTop: '10px',\n          borderTop: '1px solid var(--in-content-button-background)',\n        }}\n      >\n        Links\n      </h6>\n      <Select\n        onChange={(v) => {\n          setCurrentLink(v as Link);\n        }}\n        value={currentLink}\n        options={value.links}\n        getOptionLabel={(link) => (link.nodes.length > 0 ? `${link.nodes[0]?.label} <> ${link.nodes[1]?.label}` : '')}\n        getOptionValue={(link) => link.id}\n        className={styles.nodeSelect}\n        placeholder={'Select a link'}\n        isClearable\n      ></Select>\n\n      {value.links.map((link: Link, i) => {\n        if (currentLink && link.id === currentLink.id) {\n          return (\n            <React.Fragment key={link.id}>\n              {Object.values(link.sides).map((side: LinkSide, sideIndex) => {\n                const sName: 'A' | 'Z' = sideIndex === 0 ? 'A' : 'Z';\n                return (\n                  <React.Fragment key={sideIndex}>\n                    <FormDivider title={sName + ' Side Options'} />\n                    <InlineField grow label={`${sName} Side`} labelWidth={'auto'}>\n                      <Select\n                        onChange={(v) => {\n                          handleNodeChange(v as unknown as Node, sName, i);\n                        }}\n                        value={link.nodes[sideIndex]?.label || 'No label'}\n                        options={availableNodes as unknown as Array<SelectableValue<String>>}\n                        getOptionLabel={(node) => node?.label || 'No label'}\n                        getOptionValue={(node) => node.id}\n                        className={styles.nodeSelect}\n                        placeholder={`Select ${sName} Side`}\n                        defaultValue={link.nodes[sideIndex]}\n                      ></Select>\n                    </InlineField>\n                    {(link.nodes[1].isConnection && sName === 'Z') ||\n                    (link.nodes[0].isConnection && sName === 'A') ||\n                    (link.nodes[0].isConnection && link.nodes[1].isConnection) ? (\n                      ''\n                    ) : (\n                      <InlineField grow label={`${sName} Side Query`} labelWidth={'auto'}>\n                        <Select\n                          onChange={(v) => {\n                            handleDataChange(sName, i, v ? v.value : undefined);\n                          }}\n                          // TODO: Unable to just pass a data frame or string here?\n                          // This is fairly unoptimized if you have loads of data frames\n                          value={dataWithIds.filter((p) => p === side.query)[0]}\n                          options={dataWithIds.map((d) => {\n                            return { value: d, label: d };\n                          })}\n                          className={styles.querySelect}\n                          placeholder={`Select ${sName} Side Query`}\n                          isClearable\n                        ></Select>\n                      </InlineField>\n                    )}\n                    {(link.nodes[1].isConnection && sName === 'Z') ||\n                    (link.nodes[0].isConnection && sName === 'A') ||\n                    (link.nodes[0].isConnection && link.nodes[1].isConnection) ? (\n                      ''\n                    ) : (\n                      <React.Fragment>\n                        <InlineField grow label={`${sName} Bandwidth #`} style={{ width: '100%' }}>\n                          <Input\n                            value={side.bandwidth}\n                            onChange={(e) => handleBandwidthChange(e.currentTarget.valueAsNumber, i, sName)}\n                            placeholder={'Custom max bandwidth'}\n                            type={'number'}\n                            className={styles.nodeLabel}\n                            name={`${sName}bandwidth`}\n                          />\n                        </InlineField>\n                        <InlineField\n                          grow\n                          label={`${sName} Bandwidth Query`}\n                          style={{ width: '100%' }}\n                          labelWidth={'auto'}\n                        >\n                          <Select\n                            onChange={(v) => {\n                              handleBandwidthQueryChange(v ? v.value : undefined, i, sName);\n                            }}\n                            value={dataWithIds.filter((p) => p === side.bandwidthQuery)[0]}\n                            options={dataWithIds.map((d) => {\n                              return { value: d, label: d };\n                            })}\n                            className={styles.bandwidthSelect}\n                            placeholder={'Select Bandwidth'}\n                            isClearable\n                          ></Select>\n                        </InlineField>\n                        <InlineField grow label={`${sName} Label Offset %`} style={{ width: '100%' }}>\n                          <Slider\n                            min={0}\n                            max={100}\n                            value={side.labelOffset}\n                            onChange={(v) => {\n                              handleLabelOffsetChange(v, i, sName);\n                            }}\n                          />\n                        </InlineField>\n                        <InlineField grow label={`${sName} Side Anchor Point`} style={{ width: '100%' }}>\n                          <Select\n                            onChange={(v) => {\n                              handleAnchorChange(v.value ? v.value : 0, i, sName);\n                            }}\n                            value={{ label: Anchor[side.anchor], value: side.anchor }}\n                            options={Object.keys(Anchor)\n                              .slice(5)\n                              .map((nt, i) => {\n                                return { label: Anchor[i], value: i };\n                              })}\n                            className={styles.bandwidthSelect}\n                            placeholder={'Select Anchor'}\n                          ></Select>\n                        </InlineField>\n                        <InlineField grow label={`${sName} Dashboard Link`} style={{ width: '100%' }}>\n                          <Input\n                            value={side.dashboardLink}\n                            onChange={(e) => handleDashboardLinkChange(e.currentTarget.value, i, sName)}\n                            placeholder={'Link specific dashboard'}\n                            type={'text'}\n                            className={styles.nodeLabel}\n                            name={`${sName}dashboardLink`}\n                          />\n                        </InlineField>\n                      </React.Fragment>\n                    )}\n                  </React.Fragment>\n                );\n              })}\n              <FormDivider title=\"Link Options\" />\n              <InlineFieldRow className={styles.row2}>\n                <InlineField grow label={`Link Units`} style={{ width: '100%' }}>\n                  <UnitPicker\n                    onChange={(val) => {\n                      let wm = value;\n                      wm.links[i].units = val;\n                      onChange(wm);\n                    }}\n                    value={link.units}\n                  />\n                </InlineField>\n              </InlineFieldRow>\n              <InlineField grow label={'Show Throughput as Percentage'}>\n                <InlineSwitch\n                  value={link.showThroughputPercentage}\n                  onChange={(e) => {\n                    let wm = value;\n                    wm.links[i].showThroughputPercentage = e.currentTarget.checked;\n                    onChange(wm);\n                  }}\n                />\n              </InlineField>\n              <ControlledCollapse label=\"Stroke and Arrow\">\n                <InlineField grow label=\"Link Stroke Width\" className={styles.inlineField}>\n                  <Slider\n                    min={1}\n                    max={30}\n                    value={link.stroke}\n                    step={1}\n                    onChange={(num) => {\n                      let options = value;\n                      options.links[i].stroke = num;\n                      onChange(options);\n                    }}\n                  />\n                </InlineField>\n                {link.nodes[1].isConnection ? (\n                  ''\n                ) : (\n                  <React.Fragment>\n                    <InlineField grow label=\"Arrow Width\" className={styles.inlineField}>\n                      <Slider\n                        min={0}\n                        max={30}\n                        value={link.arrows.width}\n                        step={1}\n                        onChange={(num) => {\n                          let options = value;\n                          options.links[i].arrows.width = num;\n                          onChange(options);\n                        }}\n                      />\n                    </InlineField>\n                    <InlineField grow label=\"Arrow Height\" className={styles.inlineField}>\n                      <Slider\n                        min={0}\n                        max={30}\n                        value={link.arrows.height}\n                        step={1}\n                        onChange={(num) => {\n                          let options = value;\n                          options.links[i].arrows.height = num;\n                          onChange(options);\n                        }}\n                      />\n                    </InlineField>\n                    <InlineField grow label=\"Arrow Offset\" className={styles.inlineField}>\n                      <Slider\n                        min={0}\n                        max={10}\n                        value={link.arrows.offset}\n                        step={1}\n                        onChange={(num) => {\n                          let options = value;\n                          options.links[i].arrows.offset = num;\n                          onChange(options);\n                        }}\n                      />\n                    </InlineField>\n                  </React.Fragment>\n                )}\n                <Button\n                  variant=\"primary\"\n                  size=\"md\"\n                  onClick={() => {\n                    let weathermap: Weathermap = value;\n                    for (let link of weathermap.links) {\n                      link.arrows = { ...currentLink.arrows };\n                      link.stroke = currentLink.stroke;\n                    }\n                    onChange(weathermap);\n                  }}\n                  style={{ marginTop: '10px' }}\n                >\n                  Apply to All?\n                </Button>\n              </ControlledCollapse>\n              <InlineFieldRow className={styles.row}>\n                <Button variant=\"destructive\" icon=\"trash-alt\" size=\"md\" onClick={() => removeLink(i)} className={''}>\n                  Remove Link\n                </Button>\n              </InlineFieldRow>\n            </React.Fragment>\n          );\n        }\n        return;\n      })}\n\n      <Button variant=\"secondary\" icon=\"plus\" size=\"md\" onClick={addNewLink} className={styles.addNew}>\n        Add Link\n      </Button>\n      <Button variant=\"secondary\" icon=\"trash-alt\" size=\"md\" onClick={clearLinks} className={styles.clearAll}>\n        Clear All\n      </Button>\n    </React.Fragment>\n  );\n};\n\nconst getStyles = stylesFactory(() => {\n  return {\n    nodeLabel: css`\n      margin: 0px 0px;\n    `,\n    addNew: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-right: 5px;\n    `,\n    clearAll: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-left: 5px;\n    `,\n    nodeSelect: css`\n      margin: 0px 0px;\n    `,\n    bandwidthSelect: css`\n      margin: 0px 0px;\n    `,\n    querySelect: css`\n      margin: 0px 0px;\n    `,\n    row: css`\n      margin-top: 5px;\n      max-width: 100%;\n      padding-top: 10px;\n      border-top: 1px solid var(--in-content-button-background);\n    `,\n    row2: css`\n      margin-top: 5px;\n      max-width: 100%;\n    `,\n    inlineField: css``,\n  };\n});\n","import React, { useState } from 'react';\nimport { css } from 'emotion';\nimport { Button, Input, stylesFactory, ColorPicker, Icon, useTheme2 } from '@grafana/ui';\nimport { GrafanaTheme2, StandardEditorProps } from '@grafana/data';\nimport { Weathermap } from 'types';\n\ninterface Settings {\n  placeholder: string;\n}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const ColorForm = (props: Props) => {\n  const theme = useTheme2();\n  const styles = getStyles(theme);\n\n  const { value, onChange } = props;\n\n  const handleNumberChange = (e: any, currentIndex: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.scale[currentIndex].percent = e.currentTarget.valueAsNumber;\n    weathermap.scale.sort((a, b) => a.percent - b.percent);\n    onChange(weathermap);\n    setEditedPercents(weathermap.scale);\n  };\n\n  const handleColorChange = (color: any, index: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.scale[index].color = color;\n    onChange(weathermap);\n    setEditedPercents(weathermap.scale);\n  };\n\n  const addNewValue = () => {\n    let weathermap: Weathermap = value;\n    if (value.scale.length === 0) {\n      weathermap.scale.push({\n        percent: 0,\n        color: '#ffffff',\n      });\n    } else {\n      weathermap.scale.push({\n        percent: weathermap.scale[weathermap.scale.length - 1].percent + 10,\n        color: '#ffffff',\n      });\n    }\n    onChange(weathermap);\n    setEditedPercents(weathermap.scale);\n  };\n\n  const clearValues = () => {\n    let weathermap: Weathermap = value;\n    weathermap.scale = [];\n    onChange(weathermap);\n    setEditedPercents(weathermap.scale);\n  };\n\n  const handleDeletePercent = (currentIndex: number) => {\n    let weathermap: Weathermap = value;\n    weathermap.scale.splice(currentIndex, 1);\n    onChange(weathermap);\n    setEditedPercents(weathermap.scale);\n  };\n\n  const [editedPercents, setEditedPercents] = useState(value.scale);\n\n  return (\n    <React.Fragment>\n      <h6\n        style={{\n          padding: '10px 0px 5px 5px',\n          marginTop: '10px',\n          borderTop: '1px solid var(--in-content-button-background)',\n        }}\n      >\n        Color Scale\n      </h6>\n      {editedPercents.map((threshold, i) => (\n        <Input\n          className={styles.item}\n          type=\"number\"\n          step=\"0.0001\"\n          key={i}\n          onChange={(e) => {\n            setEditedPercents((prev) => {\n              let t = prev;\n              t[i].percent = e.currentTarget.valueAsNumber;\n              return t;\n            });\n            onChange(value);\n          }}\n          value={editedPercents[i].percent}\n          aria-label={`Weathermap Threshold ${threshold.percent}`}\n          onBlur={(e) => handleNumberChange(e, i)}\n          prefix={\n            <div className={styles.inputPrefix}>\n              <div className={styles.colorPicker}>\n                <ColorPicker color={threshold.color} onChange={(color) => handleColorChange(color, i)} />\n              </div>\n            </div>\n          }\n          suffix={<Icon className={styles.trashIcon} name=\"trash-alt\" onClick={() => handleDeletePercent(i)} />}\n        />\n      ))}\n\n      <Button variant=\"secondary\" icon=\"plus\" size=\"md\" onClick={addNewValue} className={styles.addNew}>\n        Add Scale Value\n      </Button>\n      <Button variant=\"secondary\" icon=\"trash-alt\" size=\"md\" onClick={clearValues} className={styles.clearAll}>\n        Clear All\n      </Button>\n    </React.Fragment>\n  );\n};\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => {\n  return {\n    nodeLabel: css`\n      margin: 0px 0px;\n    `,\n    addNew: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-right: 5px;\n    `,\n    clearAll: css`\n      width: calc(50% - 10px);\n      justify-content: center;\n      margin: 10px 0px;\n      margin-left: 5px;\n    `,\n    nodeSelect: css`\n      margin: 5px 0px;\n    `,\n    inputPrefix: css`\n      display: flex;\n      align-items: center;\n    `,\n    colorPicker: css`\n      padding: 0 ${theme.spacing(1)};\n      &:last-child button {\n        border: 1px solid ${theme.colors.border.medium} !important;\n      }\n    `,\n    trashIcon: css`\n      color: ${theme.colors.text.secondary};\n      cursor: pointer;\n      &:hover {\n        color: ${theme.colors.text.primary};\n      }\n    `,\n    item: css`\n      margin-bottom: ${theme.spacing(1)};\n      &:last-child {\n        margin-bottom: 0;\n      }\n    `,\n  };\n});\n","import React from 'react';\nimport {\n  Button,\n  ColorPicker,\n  InlineField,\n  InlineFieldRow,\n  InlineLabel,\n  InlineSwitch,\n  Input,\n  Select,\n  Slider,\n  stylesFactory,\n  UnitPicker,\n  useTheme2,\n} from '@grafana/ui';\nimport { GrafanaTheme2, StandardEditorProps } from '@grafana/data';\nimport { Weathermap } from 'types';\nimport { FormDivider } from './FormDivider';\nimport { css } from 'emotion';\n\ninterface Settings {}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const PanelForm = ({ value, onChange }: Props) => {\n  const styles = getStyles(useTheme2());\n\n  const handleColorChange = (color: string) => {\n    let options = value;\n    if (!color.startsWith('image') && options.settings.panel.backgroundColor.startsWith('image')) {\n      options.settings.panel.backgroundColor =\n        'image|' + color + '|' + options.settings.panel.backgroundColor.split('|', 3)[2];\n    } else {\n      options.settings.panel.backgroundColor = color;\n    }\n    onChange(options);\n  };\n\n  if (value) {\n    return (\n      <React.Fragment>\n        <FormDivider title=\"Panel\" />\n        <InlineField grow label=\"Background:\" className={styles.inlineField}>\n          <React.Fragment></React.Fragment>\n        </InlineField>\n        <InlineLabel width={'auto'} style={{ marginBottom: '4px', marginLeft: '12px' }}>\n          - Color:\n          <ColorPicker\n            color={\n              value.settings.panel.backgroundColor.startsWith('image')\n                ? value.settings.panel.backgroundColor.split('|', 3)[1]\n                : value.settings.panel.backgroundColor\n            }\n            onChange={handleColorChange}\n          />\n        </InlineLabel>\n        <InlineField grow label={'- Image:'} style={{ marginBottom: '4px', marginLeft: '12px' }}>\n          {value.settings.panel.backgroundImage ? (\n            <Button\n              variant=\"destructive\"\n              size=\"md\"\n              icon=\"trash-alt\"\n              onClick={() => {\n                if (!confirm('Are you sure you want remove the background image?')) {\n                  return;\n                }\n                let options = value;\n                options.settings.panel.backgroundImage = undefined;\n                onChange(options);\n              }}\n              style={{ justifyContent: 'center' }}\n            ></Button>\n          ) : (\n            <Button\n              onClick={() => {\n                let options = value;\n                options.settings.panel.backgroundImage = {\n                  url: '',\n                  fit: 'contain',\n                };\n                onChange(options);\n              }}\n              icon=\"plus\"\n              style={{ justifyContent: 'center' }}\n            ></Button>\n          )}\n        </InlineField>\n        {value.settings.panel.backgroundImage ? (\n          <>\n            <InlineField grow label=\"Image Source\" className={styles.inlineField} style={{ marginLeft: '24px' }}>\n              <Input\n                value={value.settings.panel.backgroundImage.url}\n                placeholder={'https://example.com/background.jpg'}\n                type={'text'}\n                name={'bgImageURL'}\n                onChange={(e) => {\n                  let options = value;\n                  if (options.settings.panel.backgroundImage) {\n                    options.settings.panel.backgroundImage.url = e.currentTarget.value;\n                  }\n                  onChange(options);\n                }}\n              ></Input>\n            </InlineField>\n            <InlineField grow label=\"Image Fit\" className={styles.inlineField} style={{ marginLeft: '24px' }}>\n              <Select\n                onChange={(v) => {\n                  let options = value;\n                  if (options.settings.panel.backgroundImage) {\n                    options.settings.panel.backgroundImage.fit = v.value ? v.value : 'contain';\n                  }\n                  onChange(options);\n                }}\n                value={value.settings.panel.backgroundImage.fit}\n                options={['contain', 'cover', 'auto'].map((s) => {\n                  return { label: s, value: s };\n                })}\n                placeholder={'Select image fit'}\n              ></Select>\n            </InlineField>\n          </>\n        ) : (\n          ''\n        )}\n        <InlineField grow label=\"Viewbox Width (px)\" className={styles.inlineField}>\n          <Input\n            value={value.settings.panel.panelSize.width}\n            placeholder={'Panel Width'}\n            type={'number'}\n            name={'panelWidth'}\n            onChange={(e) => {\n              let options = value;\n              options.settings.panel.panelSize.width = e.currentTarget.valueAsNumber;\n              onChange(options);\n            }}\n          ></Input>\n        </InlineField>\n        <InlineField grow label=\"Viewbox Height (px)\" className={styles.inlineField}>\n          <Input\n            value={value.settings.panel.panelSize.height}\n            placeholder={'Panel Height'}\n            type={'number'}\n            name={'panelHeight'}\n            onChange={(e) => {\n              let options = value;\n              options.settings.panel.panelSize.height = e.currentTarget.valueAsNumber;\n              onChange(options);\n            }}\n          ></Input>\n        </InlineField>\n        <InlineField grow label=\"Zoom Scale\" className={styles.inlineField}>\n          <Input\n            value={value.settings.panel.zoomScale}\n            placeholder={'Zoom Scale'}\n            type={'number'}\n            onChange={(e) => {\n              let options = value;\n              options.settings.panel.zoomScale = e.currentTarget.valueAsNumber;\n              onChange(options);\n            }}\n          ></Input>\n        </InlineField>\n        <InlineField grow label=\"View Offset X\" className={styles.inlineField}>\n          <Input\n            value={value.settings.panel.offset.x}\n            placeholder={'Offset X'}\n            type={'number'}\n            onChange={(e) => {\n              let options = value;\n              options.settings.panel.offset.x = e.currentTarget.valueAsNumber;\n              onChange(options);\n            }}\n          ></Input>\n        </InlineField>\n        <InlineField grow label=\"View Offset Y\" className={styles.inlineField}>\n          <Input\n            value={value.settings.panel.offset.y}\n            placeholder={'Offset Y'}\n            type={'number'}\n            onChange={(e) => {\n              let options = value;\n              options.settings.panel.offset.y = e.currentTarget.valueAsNumber;\n              onChange(options);\n            }}\n          ></Input>\n        </InlineField>\n        <InlineField grow label={'Display Timestamp'}>\n          <InlineSwitch\n            value={value.settings.panel.showTimestamp}\n            onChange={(e) => {\n              let wm = value;\n              wm.settings.panel.showTimestamp = e.currentTarget.checked;\n              onChange(wm);\n            }}\n          />\n        </InlineField>\n        <FormDivider title=\"Link Options\" />\n        <InlineField grow label={'Toggle all as Percentage Throughput'}>\n          <InlineSwitch\n            value={value.settings.link.showAllWithPercentage}\n            onChange={(e) => {\n              let wm = value;\n              wm.settings.link.showAllWithPercentage = e.currentTarget.checked;\n              onChange(wm);\n            }}\n          />\n        </InlineField>\n        <InlineField grow label={'Default Link Units'}>\n          <UnitPicker\n            onChange={(val) => {\n              let wm = value;\n              wm.settings.link.defaultUnits = val;\n              onChange(wm);\n            }}\n            value={value.settings.link.defaultUnits ? value.settings.link.defaultUnits : 'bps'}\n          />\n        </InlineField>\n        <InlineField grow label={'Reset All Links to Default Units'}>\n          <Button\n            variant=\"destructive\"\n            size=\"md\"\n            icon=\"trash-alt\"\n            onClick={() => {\n              if (!confirm('Are you sure you want to reset all link units?')) {\n                return;\n              }\n              let options = value;\n              for (let l of options.links) {\n                l.units = undefined;\n              }\n              onChange(options);\n            }}\n            style={{ justifyContent: 'center' }}\n          ></Button>\n        </InlineField>\n\n        <InlineLabel width=\"auto\" style={{ marginBottom: '4px' }}>\n          Base Color:\n          <ColorPicker\n            color={value.settings.link.stroke.color}\n            onChange={(color) => {\n              let options = value;\n              options.settings.link.stroke.color = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <InlineField grow label=\"Link Spacing Horizontal\" className={styles.inlineField}>\n          <Slider\n            min={0}\n            max={30}\n            value={value.settings.link.spacing.horizontal}\n            step={1}\n            onChange={(num) => {\n              let options = value;\n              options.settings.link.spacing.horizontal = num;\n              onChange(options);\n            }}\n          />\n        </InlineField>\n        <InlineField grow label=\"Link Spacing Vertical\" className={styles.inlineField}>\n          <Slider\n            min={0}\n            max={30}\n            value={value.settings.link.spacing.vertical}\n            step={1}\n            onChange={(num) => {\n              let options = value;\n              options.settings.link.spacing.vertical = num;\n              onChange(options);\n            }}\n          />\n        </InlineField>\n        <InlineLabel width=\"auto\" style={{ marginBottom: '4px' }}>\n          Label Background Color:\n          <ColorPicker\n            color={value.settings.link.label.background}\n            onChange={(color) => {\n              let options = value;\n              options.settings.link.label.background = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <InlineLabel width=\"auto\" style={{ marginBottom: '4px' }}>\n          Label Border Color:\n          <ColorPicker\n            color={value.settings.link.label.border}\n            onChange={(color) => {\n              let options = value;\n              options.settings.link.label.border = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <InlineLabel width=\"auto\" style={{ marginBottom: '4px' }}>\n          Label Font Color:\n          <ColorPicker\n            color={value.settings.link.label.font}\n            onChange={(color) => {\n              let options = value;\n              options.settings.link.label.font = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <FormDivider title=\"Arrow Options\" />\n\n        <FormDivider title=\"Grid Options\" />\n        <InlineFieldRow className={styles.inlineRow}>\n          <InlineField grow label=\"Enable Node Grid Snapping\" className={styles.inlineField}>\n            <InlineSwitch\n              value={value.settings.panel.grid.enabled}\n              onChange={(e) => {\n                let wm = value;\n                wm.settings.panel.grid.enabled = e.currentTarget.checked;\n                wm.settings.panel.grid.guidesEnabled = false;\n                onChange(wm);\n              }}\n            />\n          </InlineField>\n          {value.settings.panel.grid.enabled ? (\n            <InlineField grow label=\"Grid Size (px)\" className={styles.inlineField}>\n              <Slider\n                min={2}\n                max={50}\n                value={value.settings.panel.grid.size}\n                step={1}\n                onChange={(num) => {\n                  let options = value;\n                  options.settings.panel.grid.size = num;\n                  onChange(options);\n                }}\n              />\n            </InlineField>\n          ) : (\n            ''\n          )}\n        </InlineFieldRow>\n        {value.settings.panel.grid.enabled ? (\n          <InlineFieldRow className={styles.inlineRow}>\n            <InlineField grow label=\"Grid Guides\" className={styles.inlineField}>\n              <InlineSwitch\n                value={value.settings.panel.grid.guidesEnabled}\n                onChange={(e) => {\n                  let wm = value;\n                  wm.settings.panel.grid.guidesEnabled = e.currentTarget.checked;\n                  onChange(wm);\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n        ) : (\n          ''\n        )}\n        <FormDivider title=\"Font Options\" />\n        <InlineField grow label=\"Node Font Size\" className={styles.inlineField}>\n          <Slider\n            min={2}\n            max={40}\n            value={value.settings.fontSizing.node}\n            step={1}\n            onChange={(num) => {\n              let options = value;\n              options.settings.fontSizing.node = num;\n              onChange(options);\n            }}\n          />\n        </InlineField>\n        <InlineField grow label=\"Link Font Size\" className={styles.inlineField}>\n          <Slider\n            min={2}\n            max={40}\n            value={value.settings.fontSizing.link}\n            step={1}\n            onChange={(num) => {\n              let options = value;\n              options.settings.fontSizing.link = num;\n              onChange(options);\n            }}\n          />\n        </InlineField>\n        <FormDivider title=\"Tootlip Options\" />\n        <InlineLabel width={'auto'} style={{ marginBottom: '4px' }}>\n          Background Color:\n          <ColorPicker\n            color={value.settings.tooltip.backgroundColor}\n            onChange={(color) => {\n              let options = value;\n              options.settings.tooltip.backgroundColor = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <InlineLabel width=\"auto\" style={{ marginBottom: '4px' }}>\n          Text Color:\n          <ColorPicker\n            color={value.settings.tooltip.textColor}\n            onChange={(color) => {\n              let options = value;\n              options.settings.tooltip.textColor = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <InlineField grow label=\"Tooltip Font Size\" className={styles.inlineField}>\n          <Slider\n            min={2}\n            max={40}\n            value={value.settings.tooltip.fontSize}\n            step={1}\n            onChange={(num) => {\n              let options = value;\n              options.settings.tooltip.fontSize = num;\n              onChange(options);\n            }}\n          />\n        </InlineField>\n        <InlineLabel width=\"auto\" style={{ marginBottom: '4px' }}>\n          Inbound Graph Color:\n          <ColorPicker\n            color={value.settings.tooltip.inboundColor}\n            onChange={(color) => {\n              let options = value;\n              options.settings.tooltip.inboundColor = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <InlineLabel width=\"auto\" style={{ marginBottom: '4px' }}>\n          Outbound Graph Color:\n          <ColorPicker\n            color={value.settings.tooltip.outboundColor}\n            onChange={(color) => {\n              let options = value;\n              options.settings.tooltip.outboundColor = color;\n              onChange(options);\n            }}\n          />\n        </InlineLabel>\n        <InlineField grow label=\"Scale to Include Bandwidth\" className={styles.inlineField}>\n          <InlineSwitch\n            value={value.settings.tooltip.scaleToBandwidth}\n            onChange={(e) => {\n              let wm = value;\n              wm.settings.tooltip.scaleToBandwidth = e.currentTarget.checked;\n              onChange(wm);\n            }}\n          />\n        </InlineField>\n        <FormDivider title=\"Scale Options\" />\n        <InlineField grow label=\"Scale Title\" className={styles.inlineField}>\n          <Input\n            value={value.settings.scale.title}\n            placeholder={'Scale Title'}\n            type={'text'}\n            name={'scaleTitle'}\n            onChange={(e) => {\n              let options = value;\n              options.settings.scale.title = e.currentTarget.value;\n              onChange(options);\n            }}\n          ></Input>\n        </InlineField>\n        <InlineField grow label=\"Scale Width\" className={styles.inlineField}>\n          <Slider\n            min={10}\n            max={200}\n            value={value.settings.scale.size.width}\n            step={1}\n            onChange={(num) => {\n              let options = value;\n              options.settings.scale.size.width = num;\n              onChange(options);\n            }}\n          />\n        </InlineField>\n        <InlineField grow label=\"Scale Height\" className={styles.inlineField}>\n          <Slider\n            min={0}\n            max={1000}\n            value={value.settings.scale.size.height}\n            step={10}\n            onChange={(num) => {\n              let options = value;\n              options.settings.scale.size.height = num;\n              onChange(options);\n            }}\n          />\n        </InlineField>\n        <InlineField grow label=\"Scale Position X\" className={styles.inlineField}>\n          <Slider\n            min={0}\n            max={100}\n            value={value.settings.scale.position.x}\n            step={1}\n            onChange={(num) => {\n              let options = value;\n              options.settings.scale.position.x = num;\n              onChange(options);\n            }}\n          />\n        </InlineField>\n        <InlineField grow label=\"Scale Position Y\" className={styles.inlineField}>\n          <Slider\n            min={0}\n            max={100}\n            value={value.settings.scale.position.y}\n            step={1}\n            onChange={(num) => {\n              let options = value;\n              options.settings.scale.position.y = num;\n              onChange(options);\n            }}\n          />\n        </InlineField>\n        <InlineField grow label=\"Title Font Size\" className={styles.inlineField}>\n          <Slider\n            min={2}\n            max={40}\n            value={value.settings.scale.fontSizing.title}\n            step={1}\n            onChange={(num) => {\n              let options = value;\n              options.settings.scale.fontSizing.title = num;\n              onChange(options);\n            }}\n          />\n        </InlineField>\n        <InlineField grow label=\"Threshold Font Size\" className={styles.inlineField}>\n          <Slider\n            min={2}\n            max={40}\n            value={value.settings.scale.fontSizing.threshold}\n            step={1}\n            onChange={(num) => {\n              let options = value;\n              options.settings.scale.fontSizing.threshold = num;\n              onChange(options);\n            }}\n          />\n        </InlineField>\n      </React.Fragment>\n    );\n  } else {\n    return <React.Fragment />;\n  }\n};\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => {\n  return {\n    inlineField: css`\n      flex: 1 0 auto;\n    `,\n    inlineRow: css`\n      flex-flow: column;\n    `,\n  };\n});\n","import React from 'react';\nimport { StandardEditorProps } from '@grafana/data';\nimport { Anchor, Weathermap } from 'types';\nimport { NodeForm } from './NodeForm';\nimport { LinkForm } from './LinkForm';\nimport { ColorForm } from './ColorForm';\nimport { PanelForm } from './PanelForm';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useTheme2 } from '@grafana/ui';\nimport { generateBasicNode, CURRENT_VERSION, generateBasicLink, handleVersionedStateUpdates } from 'utils';\n\ninterface Settings {\n  placeholder: string;\n}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const WeathermapBuilder = (props: Props) => {\n  const theme = useTheme2();\n\n  const defaultNodes = [generateBasicNode('Node A', [200, 300], theme), generateBasicNode('Node B', [400, 300], theme)];\n\n  const defaultValue: Weathermap = {\n    version: CURRENT_VERSION,\n    id: uuidv4(),\n    nodes: defaultNodes.map((d, i) => {\n      let v = d;\n      v.anchors[i === 0 ? Anchor.Right : Anchor.Left].numLinks = 1;\n      return v;\n    }),\n    links: [generateBasicLink([defaultNodes[0], defaultNodes[1]])],\n    scale: [],\n    settings: {\n      link: {\n        spacing: {\n          horizontal: 10,\n          vertical: 5,\n        },\n        stroke: {\n          color: theme.colors.secondary.main,\n        },\n        label: {\n          background: theme.colors.secondary.main,\n          border: theme.colors.secondary.border,\n          font: theme.colors.secondary.contrastText,\n        },\n        showAllWithPercentage: false,\n      },\n      fontSizing: {\n        node: 10,\n        link: 7,\n      },\n      panel: {\n        backgroundColor: theme.colors.background.primary,\n        showTimestamp: true,\n        panelSize: {\n          width: 600,\n          height: 600,\n        },\n        zoomScale: 0,\n        offset: {\n          x: 0,\n          y: 0,\n        },\n        grid: {\n          enabled: false,\n          size: 10,\n          guidesEnabled: false,\n        },\n      },\n      tooltip: {\n        fontSize: 8,\n        textColor: 'white',\n        backgroundColor: 'black',\n        inboundColor: '#00cf00',\n        outboundColor: '#fade2a',\n        scaleToBandwidth: false,\n      },\n      scale: {\n        position: {\n          x: 0,\n          y: 0,\n        },\n        size: {\n          width: 50,\n          height: 200,\n        },\n        title: 'Traffic Load',\n        fontSizing: {\n          title: 16,\n          threshold: 12,\n        },\n      },\n    },\n  };\n\n  if (!props.value) {\n    console.log('Initializing weathermap plugin.');\n    props.onChange(defaultValue);\n  } else if (!props.value.version || props.value.version !== CURRENT_VERSION) {\n    // State versioning and merging to deal with missing properties.\n    let wm = props.value;\n    props.onChange(handleVersionedStateUpdates(wm, theme));\n  }\n\n  if (props.value) {\n    return (\n      <React.Fragment>\n        <NodeForm {...props}></NodeForm>\n        <LinkForm {...props}></LinkForm>\n        <ColorForm {...props}></ColorForm>\n        <PanelForm {...props}></PanelForm>\n      </React.Fragment>\n    );\n  } else {\n    return <React.Fragment />;\n  }\n};\n","import React from 'react';\nimport { InlineFieldRow, Button, stylesFactory, useTheme2 } from '@grafana/ui';\nimport { GrafanaTheme2, StandardEditorProps } from '@grafana/data';\nimport { Weathermap } from 'types';\nimport { css } from 'emotion';\n\ninterface Settings {}\n\ninterface Props extends StandardEditorProps<Weathermap, Settings> {}\n\nexport const ExportForm = ({ value, onChange }: Props) => {\n  const styles = getStyles(useTheme2());\n\n  const generateDownloadLink = (href: string, download: string) => {\n    let downloadLink = document.createElement('a');\n    downloadLink.href = href;\n    downloadLink.download = download;\n    downloadLink.target = '_blank';\n\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  };\n\n  const handleSVGExport = async () => {\n    const svg = document.getElementById(`nw-${value.id}_`);\n\n    let data = svg!.outerHTML || '';\n    const preface = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n';\n\n    const icons = svg!.getElementsByTagName('image');\n    //TODO: fix exporting\n    for (let i = 0; i < icons.length; i++) {\n      const iconURL = document.location.origin + '/' + icons[i].href.baseVal;\n      const iconData = await fetch(iconURL);\n      const iconString = await iconData.text();\n      const base64String = 'data:image/svg+xml;base64,' + window.btoa(iconString);\n\n      data = data.replace(icons[i].href.baseVal, base64String);\n    }\n\n    const svgBlob = new Blob([preface, data], { type: 'image/svg+xml;charset=utf-8' });\n    const svgUrl = URL.createObjectURL(svgBlob);\n\n    generateDownloadLink(svgUrl, `network-weathermap-${new Date().toISOString()}.svg`);\n  };\n\n  // const handleJSONExport = () => {\n  //   let weathermap: any = Object.assign({}, value);\n  //   weathermap.links = weathermap.links.map((link: Link) => {\n  //     return [link.nodes[0].id, link.nodes[1].id];\n  //   });\n\n  //   const data = 'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(weathermap));\n  //   generateDownloadLink(data, 'network-weathermap.json');\n  // };\n\n  if (value) {\n    return (\n      <React.Fragment>\n        <InlineFieldRow>\n          <Button onClick={handleSVGExport} className={styles.exportButton}>\n            Export SVG\n          </Button>\n          {/* <Button onClick={handleJSONExport} className={styles.exportJSONButton}>\n            Export JSON\n          </Button> */}\n        </InlineFieldRow>\n      </React.Fragment>\n    );\n  } else {\n    return <React.Fragment />;\n  }\n};\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => {\n  return {\n    exportButton: css`\n      margin: ${theme.spacing(1)} 0;\n      margin-right: ${theme.spacing(1)};\n    `,\n    exportJSONButton: css`\n      margin: ${theme.spacing(1)} 0;\n    `,\n  };\n});\n","import { PanelPlugin } from '@grafana/data';\nimport { SimpleOptions } from './types';\nimport { WeathermapPanel } from './WeathermapPanel';\nimport { WeathermapBuilder } from 'forms/WeathermapBuilder';\nimport { ExportForm } from 'forms/ExportForm';\n\nexport const plugin = new PanelPlugin<SimpleOptions>(WeathermapPanel).setPanelOptions((builder) => {\n  return builder\n    .addCustomEditor({\n      id: 'weathermapEditor',\n      path: 'weathermap',\n      name: 'Edit Weathermap',\n      description: 'Add, remove, and edit weathermap nodes and links.',\n      editor: WeathermapBuilder,\n      settings: {\n        placeholder: 'This is my placeholder.',\n      },\n    })\n    .addCustomEditor({\n      id: 'exportForm',\n      path: 'weathermap',\n      name: 'Export Weathermap',\n      description: `Export an SVG snapshot of the weathermap. The SVG exports show only links and nodes, for the entire panel please use Grafana's image renderer plugin.`,\n      editor: ExportForm,\n    });\n});\n"],"names":["r","e","t","f","n","Array","isArray","length","clsx","arguments","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","asyncTag","funcTag","genTag","nullTag","objectTag","proxyTag","undefinedTag","reIsHostCtor","reIsUint","typedArrayTags","uid","func","transform","freeGlobal","g","Object","freeSelf","self","root","Function","freeExports","exports","nodeType","freeModule","module","moduleExports","freeProcess","process","nodeUtil","require","types","binding","nodeIsTypedArray","isTypedArray","arrayProto","prototype","funcProto","objectProto","coreJsData","funcToString","toString","hasOwnProperty","maskSrcKey","exec","keys","IE_PROTO","nativeObjectToString","objectCtorString","call","reIsNative","RegExp","replace","Buffer","undefined","Symbol","Uint8Array","getPrototype","allocUnsafe","getPrototypeOf","arg","objectCreate","create","propertyIsEnumerable","splice","symToStringTag","toStringTag","defineProperty","getNative","nativeIsBuffer","isBuffer","nativeMax","Math","max","nativeNow","Date","now","Map","nativeCreate","baseCreate","object","proto","isObject","result","Hash","entries","index","this","clear","entry","set","ListCache","MapCache","Stack","data","__data__","size","assignMergeValue","key","value","eq","baseAssignValue","assignValue","objValue","assocIndexOf","array","has","get","pop","push","getMapData","pairs","LARGE_ARRAY_SIZE","baseGetTag","isOwn","tag","unmasked","getRawTag","objectToString","baseIsArguments","isObjectLike","baseMerge","source","srcIndex","customizer","stack","iteratee","keysFunc","iterable","props","baseFor","srcValue","mergeFunc","safeGet","stacked","typedArray","buffer","arrayBuffer","newValue","isCommon","isArr","isBuff","isTyped","isArrayLike","copyArray","isDeep","slice","cloneBuffer","constructor","byteLength","byteOffset","Ctor","isPlainObject","isArguments","isNew","copyObject","keysIn","toPlainObject","isFunction","isPrototype","initCloneObject","baseMergeDeep","baseSetToString","string","identity","map","type","getValue","isMasked","test","toSource","baseIsNative","isIndex","setToString","count","lastCalled","stamp","remaining","apply","shortOut","other","isLength","baseUnary","inherited","isArg","isType","skipIndexes","baseTimes","String","arrayLikeKeys","nativeKeysIn","isProto","baseKeysIn","assigner","merge","start","args","otherArgs","thisArg","overRest","baseRest","sources","guard","isIterateeCall","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","bigint","bool","number","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","_typeof","obj","iterator","enumerable","_DraggableCore","default","React","nodeInterop","__esModule","cache","_getRequireWildcardCache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","_propTypes","_interopRequireDefault","_reactDom","_clsx2","_domFns","_positionFns","_shims","_log","_excluded","WeakMap","cacheBabelInterop","cacheNodeInterop","_extends","assign","target","i","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_arrayLikeToArray","arr","len","arr2","_defineProperties","descriptor","configurable","writable","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_assertThisInitialized","ReferenceError","_getPrototypeOf","Draggable","_React$Component","subClass","superClass","TypeError","_inherits","Constructor","protoProps","staticProps","Derived","hasNativeReflectConstruct","_super","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","Super","NewTarget","_possibleConstructorReturn","_this","instance","_classCallCheck","coreData","onStart","createDraggableData","setState","dragging","dragged","state","uiData","newState","x","y","bounds","slackX","slackY","_getBoundPosition2","getBoundPosition","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","next","done","_iterableToArrayLimit","minLen","from","_unsupportedIterableToArray","_nonIterableRest","newStateX","newStateY","deltaX","deltaY","onDrag","onStop","position","_this$props$position","defaultPosition","prevPropsPosition","isElementSVG","console","warn","_ref","_ref2","window","SVGElement","findDOMNode","_this$props$nodeRef$c","_this$props","_this$props$nodeRef","nodeRef","current","_clsx","_this$props2","children","axis","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","positionOffset","draggableCoreProps","scale","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","_objectWithoutProperties","style","svgTransform","draggable","validPosition","transformOpts","canDragX","canDragY","createSVGTransform","createCSSTransform","className","createElement","onDragStart","onDragStop","cloneElement","Children","only","Component","propTypes","left","right","top","bottom","dontSetMe","defaultProps","_slicedToArray","eventsFor","move","stop","dragEventFor","DraggableCore","_len","_key","concat","lastX","NaN","lastY","touchIdentifier","onMouseDown","allowAnyClick","button","thisNode","ownerDocument","body","disabled","defaultView","Node","handle","matchesSelectorAndParentsTo","cancel","preventDefault","getTouchIdentifier","getControlPosition","coreEvent","createCoreData","mounted","enableUserSelectHack","addUserSelectStyles","addEvent","handleDrag","handleDragStop","grid","_snapToGrid2","snapToGrid","MouseEvent","event","document","createEvent","initMouseEvent","_snapToGrid4","removeUserSelectStyles","removeEvent","handleDragStart","onTouchStart","passive","_this$props2$nodeRef","onMouseUp","onTouchEnd","offsetParent","_require","addClassName","el","handler","inputOptions","options","capture","addEventListener","attachEvent","doc","styleEl","getElementById","id","innerHTML","getElementsByTagName","appendChild","controlPos","translation","getTranslation","_getPrefix","browserPrefixToKey","getTouch","identifier","targetTouches","findInArray","changedTouches","innerHeight","height","clientHeight","computedStyle","getComputedStyle","int","paddingTop","paddingBottom","innerWidth","width","clientWidth","paddingLeft","paddingRight","matchesSelector","selector","baseNode","parentNode","offsetXYFromParent","evt","offsetParentRect","getBoundingClientRect","clientX","scrollLeft","clientY","scrollTop","outerHeight","borderTopWidth","borderBottomWidth","outerWidth","borderLeftWidth","borderRightWidth","removeClassName","removeEventListener","detachEvent","selection","empty","getSelection","removeAllRanges","matchesSelectorFunc","method","unitSuffix","defaultX","defaultY","classList","add","match","remove","browserPrefixToStyle","prop","prefix","toLowerCase","getPrefix","prefixes","_window$document","_window$document$docu","documentElement","str","out","shouldCapitalize","toUpperCase","kebabToTitleCase","_default","isStart","isNum","cloneBounds","boundNode","ownerWindow","querySelector","HTMLElement","boundNodeEl","nodeStyle","boundNodeStyle","offsetLeft","marginLeft","offsetTop","marginTop","marginRight","marginBottom","min","draggableCore","touchObj","pendingX","pendingY","round","callback","a","parseInt","num","isNaN","__WEBPACK_EXTERNAL_MODULE__305__","__WEBPACK_EXTERNAL_MODULE__388__","__WEBPACK_EXTERNAL_MODULE__881__","__WEBPACK_EXTERNAL_MODULE__650__","__WEBPACK_EXTERNAL_MODULE__729__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","getter","d","definition","globalThis","nmd","paths","Anchor","Center","Top","Bottom","Left","Right","getRandomValues","rnds8","rng","crypto","bind","msCrypto","byteToHex","substr","offset","uuid","buf","rnds","random","context","colorsCalculatedCache","getSolidFromAlphaColor","fg","bg","startsWith","split","fgColor","parseColor","bgColor","finalColor","join","input","substring","collen","fact","cacheLimit","ctxFontStyle","getCanvasContext","getContext","measureText","text","fontSize","fontStyle","cacheKey","fromCache","font","metrics","nearestMultiple","ceil","calculateRectangleAutoWidth","wm","widerSideLinks","anchors","numLinks","maxWidth","links","l","nodes","includes","sides","A","anchor","Z","stroke","settings","link","spacing","horizontal","padding","final","label","labeledWidth","labelWidth","useConstantSpacing","nodeIcon","drawInside","calculateRectangleAutoHeight","maxLinkHeight","minHeight","fontSizing","vertical","fullHeight","compactVerticalLinks","generateBasicNode","theme","uuidv4","numFilledLinks","colors","secondary","contrastText","background","main","border","statusDown","src","isConnection","generateBasicLink","bandwidth","bandwidthQuery","query","labelOffset","dashboardLink","units","arrows","showThroughputPercentage","handleVersionedStateUpdates","modelWeathermap","version","color","showAllWithPercentage","panel","backgroundColor","primary","showTimestamp","panelSize","zoomScale","enabled","guidesEnabled","tooltip","textColor","inboundColor","outboundColor","scaleToBandwidth","title","threshold","log","percent","getDataFrameName","frame","allFrames","getFieldDisplayName","fields","getStyles","stylesFactory","nodeText","css","draggedNode","selectedNodes","onClick","styles","rectX","useMemo","calculateRectX","rectY","calculateRectY","rectWidth","rectHeight","textY","calculateTextY","nodeIsDown","statusQuery","recentFrame","series","values","nodeIsSelected","find","cursor","display","rect","fill","strokeWidth","rx","ry","paintOrder","textAnchor","alignmentBaseline","dominantBaseline","image","actualBoundingBoxAscent","href","colorScaleContainer","colorBoxTitle","colorScaleItem","colorBox","colorLabel","thresholds","useTheme2","scaleHeights","div","cx","getContrastText","data-testid","span","generateDrawnNode","toReturn","wrapper","textBox","timeText","CiscoIcons","NetworkingIcons","DatabaseIcons","ComputerIcons","NodeForm","onChange","connectionCounter","handleChange","weathermap","currentTarget","valueAsNumber","handleNodePaddingChange","handleIconSizeChange","amt","handleIconPaddingChange","currentNode","setCurrentNode","useState","ciscoIconsFormatted","networkingIconsFormatted","databaseIconsFormatted","computerIconsFormatted","dataWithIds","h6","borderTop","Select","v","getOptionLabel","getOptionValue","nodeSelect","placeholder","isClearable","InlineFieldRow","inlineRow","InlineField","grow","Input","nodeLabel","handleDashboardLinkChange","ControlledCollapse","icon","handleIconChange","inlineField","Slider","step","InlineSwitch","checked","handleIconDrawChange","handleStatusQueryChange","InlineLabel","ColorPicker","handleSpacingChange","handleCompactChange","handleConnectionChange","colorType","textTransform","flex","handleColorChange","Button","variant","applyNodeColorToAll","removeNode","justifyContent","addNew","clearAll","FormDivider","LinkForm","findNodeIndex","n1","nodeIndex","currentLink","setCurrentLink","usedConnectionSourceNodes","usedConnectionTargetNodes","usedConnectionNodes","availableNodes","side","sideIndex","sName","n2","handleNodeChange","defaultValue","frameName","handleDataChange","querySelect","handleBandwidthChange","handleBandwidthQueryChange","bandwidthSelect","val","handleLabelOffsetChange","handleAnchorChange","nt","row2","UnitPicker","row","toRemove","removeLink","ColorForm","editedPercents","setEditedPercents","item","prev","aria-label","onBlur","currentIndex","sort","b","handleNumberChange","inputPrefix","colorPicker","suffix","Icon","trashIcon","handleDeletePercent","medium","PanelForm","backgroundImage","confirm","url","fit","s","defaultUnits","WeathermapBuilder","defaultNodes","ExportForm","handleSVGExport","svg","outerHTML","icons","iconURL","origin","baseVal","iconData","fetch","iconString","base64String","btoa","svgBlob","Blob","download","downloadLink","click","removeChild","generateDownloadLink","URL","createObjectURL","toISOString","exportButton","exportJSONButton","plugin","PanelPlugin","width2","height2","onOptionsChange","timeRange","isEditMode","search","setDraggedNode","setSelectedNodes","getScaleColor","assignedColor","getMiddlePoint","dist","sqrt","getPercentPoint","getArrowPolygon","_p1","_p2","h","w","vec1","vec2","p1","p2","setNodes","tempNodes","setLinks","generateDrawnLink","getMultiLinkPosition","maxLinkWidth","paddedWidth","linkValueFormatter","fmt_id","getValueFormat","dataFrameWithIds","filteredDataFramesWithIds","dataFrame","currentValue","currentText","currentValueText","currentPercentageText","currentBandwidthText","dataSource","scaledSideValue","toFixed","scaledBandwidth","lineStartA","lineStartZ","lineEndA","lineEndZ","arrowCenterA","arrowPolygonA","arrowCenterZ","arrowPolygonZ","useRef","useEffect","isDragging","setDragging","aspectX","aspectY","aspectMultiplier","setOffset","hoveredLink","setHoveredLink","handleLinkHover","shiftKey","prevLinks","forwardLinks","mouseEvent","handleLinkHoverLoss","filteredGraphQueries","displayName","nativeEvent","layerY","layerX","TimeSeries","timeZone","getTimeZone","frames","copy","isInboundQuery","config","custom","fillOpacity","lineColor","legend","calcs","displayMode","LegendDisplayMode","List","placement","isVisible","showLegend","tweakScale","opts","forField","softMin","softMax","tweakAxis","formatValue","formattedValue","formatter","alignedDataFrame","TooltipPlugin","mode","TooltipDisplayMode","Multi","alignItems","ColorScale","backgroundSize","backgroundPosition","backgroundRepeat","xmlns","xmlnsXlink","viewBox","pow","shapeRendering","textRendering","fontFamily","onWheel","zoomed","onMouseMove","ctrlKey","buttons","zoomAmt","movementX","movementY","drag","panned","onDoubleClick","defs","pattern","patternUnits","path","opacity","overflow","strokeOpacity","abs","line","x1","y1","x2","y2","onMouseOut","open","circle","cy","polygon","points","MapNode","prevState","scaledPos","pos","getScaledMousePos","cIndex","findIndex","to","toLocaleString","setPanelOptions","builder","addCustomEditor","description","editor"],"sourceRoot":""}