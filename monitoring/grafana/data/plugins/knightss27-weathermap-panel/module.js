define(["@grafana/data","react","emotion","@grafana/ui","react-dom"],((e,t,n,r,o)=>(()=>{var i={944:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.r(t),n.d(t,{clsx:()=>o,default:()=>i});const i=o},412:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object AsyncFunction]",l="[object Function]",s="[object GeneratorFunction]",c="[object Null]",d="[object Object]",u="[object Proxy]",p="[object Undefined]",g=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[i]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f[l]=f["[object Map]"]=f["[object Number]"]=f[d]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1;var h,b,y,v="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,w="object"==typeof self&&self&&self.Object===Object&&self,k=v||w||Function("return this")(),x=t&&!t.nodeType&&t,S=x&&e&&!e.nodeType&&e,E=S&&S.exports===x,C=E&&v.process,O=function(){try{return S&&S.require&&S.require("util").types||C&&C.binding&&C.binding("util")}catch(e){}}(),I=O&&O.isTypedArray,z=Array.prototype,T=Function.prototype,L=Object.prototype,j=k["__core-js_shared__"],P=T.toString,F=L.hasOwnProperty,A=(h=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",N=L.toString,_=P.call(Object),D=RegExp("^"+P.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=E?k.Buffer:void 0,$=k.Symbol,B=k.Uint8Array,R=(M&&M.allocUnsafe,b=Object.getPrototypeOf,y=Object,function(e){return b(y(e))}),Z=Object.create,W=L.propertyIsEnumerable,V=z.splice,U=$?$.toStringTag:void 0,X=function(){try{var e=pe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Y=M?M.isBuffer:void 0,q=Math.max,H=Date.now,G=pe(k,"Map"),Q=pe(Object,"create"),K=function(){function e(){}return function(t){if(!Ee(t))return{};if(Z)return Z(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=this.__data__=new ee(e);this.size=t.size}function re(e,t,n){(void 0!==n&&!be(e[t],n)||void 0===n&&!(t in e))&&ae(e,t,n)}function oe(e,t,n){var r=e[t];F.call(e,t)&&be(r,n)&&(void 0!==n||t in e)||ae(e,t,n)}function ie(e,t){for(var n=e.length;n--;)if(be(e[n][0],t))return n;return-1}function ae(e,t,n){"__proto__"==t&&X?X(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}J.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},J.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},J.prototype.get=function(e){var t=this.__data__;if(Q){var n=t[e];return n===r?void 0:n}return F.call(t,e)?t[e]:void 0},J.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:F.call(t,e)},J.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Q&&void 0===t?r:t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var t=this.__data__,n=ie(t,e);return!(n<0||(n==t.length-1?t.pop():V.call(t,n,1),--this.size,0))},ee.prototype.get=function(e){var t=this.__data__,n=ie(t,e);return n<0?void 0:t[n][1]},ee.prototype.has=function(e){return ie(this.__data__,e)>-1},ee.prototype.set=function(e,t){var n=this.__data__,r=ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new(G||ee),string:new J}},te.prototype.delete=function(e){var t=ue(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return ue(this,e).get(e)},te.prototype.has=function(e){return ue(this,e).has(e)},te.prototype.set=function(e,t){var n=ue(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ne.prototype.clear=function(){this.__data__=new ee,this.size=0},ne.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ee){var r=n.__data__;if(!G||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new te(r)}return n.set(e,t),this.size=n.size,this};function le(e){return null==e?void 0===e?p:c:U&&U in Object(e)?function(e){var t=F.call(e,U),n=e[U];try{e[U]=void 0;var r=!0}catch(e){}var o=N.call(e);return r&&(t?e[U]=n:delete e[U]),o}(e):function(e){return N.call(e)}(e)}function se(e){return Ce(e)&&le(e)==i}function ce(e,t,n,r,o){e!==t&&function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var l=i[++r];if(!1===t(o[l],l,o))break}}(t,(function(i,a){if(o||(o=new ne),Ee(i))!function(e,t,n,r,o,i,a){var l=fe(e,n),s=fe(t,n),c=a.get(s);if(c)re(e,n,c);else{var u,p,g,m,f,h=i?i(l,s,n+"",e,t,a):void 0,b=void 0===h;if(b){var y=ve(s),v=!y&&ke(s),w=!y&&!v&&Oe(s);h=s,y||v||w?ve(l)?h=l:Ce(f=l)&&we(f)?h=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(l):v?(b=!1,h=function(e,t){return e.slice()}(s)):w?(b=!1,m=new(g=(u=s).buffer).constructor(g.byteLength),new B(m).set(new B(g)),p=m,h=new u.constructor(p,u.byteOffset,u.length)):h=[]:function(e){if(!Ce(e)||le(e)!=d)return!1;var t=R(e);if(null===t)return!0;var n=F.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&P.call(n)==_}(s)||ye(s)?(h=l,ye(l)?h=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=void 0;void 0===s&&(s=e[l]),o?ae(n,l,s):oe(n,l,s)}return n}(e,Ie(e))}(l):Ee(l)&&!xe(l)||(h=function(e){return"function"!=typeof e.constructor||me(e)?{}:K(R(e))}(s))):b=!1}b&&(a.set(s,h),o(h,s,r,i,a),a.delete(s)),re(e,n,h)}}(e,t,a,n,ce,r,o);else{var l=r?r(fe(e,a),i,a+"",e,t,o):void 0;void 0===l&&(l=i),re(e,a,l)}}),Ie)}var de=X?function(e,t){return X(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Le;function ue(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ee(e)||function(e){return!!A&&A in e}(e))&&(xe(e)?D:g).test(function(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function ge(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&m.test(e))&&e>-1&&e%1==0&&e<t}function me(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||L)}function fe(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var he=function(e){var t=0,n=0;return function(){var r=H(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(de);function be(e,t){return e===t||e!=e&&t!=t}var ye=se(function(){return arguments}())?se:function(e){return Ce(e)&&F.call(e,"callee")&&!W.call(e,"callee")},ve=Array.isArray;function we(e){return null!=e&&Se(e.length)&&!xe(e)}var ke=Y||function(){return!1};function xe(e){if(!Ee(e))return!1;var t=le(e);return t==l||t==s||t==a||t==u}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ee(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ce(e){return null!=e&&"object"==typeof e}var Oe=I?function(e){return function(t){return e(t)}}(I):function(e){return Ce(e)&&Se(e.length)&&!!f[le(e)]};function Ie(e){return we(e)?function(e,t){var n=ve(e),r=!n&&ye(e),o=!n&&!r&&ke(e),i=!n&&!r&&!o&&Oe(e),a=n||r||o||i,l=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=l.length;for(var c in e)!t&&!F.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ge(c,s))||l.push(c);return l}(e,!0):function(e){if(!Ee(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=me(e),n=[];for(var r in e)("constructor"!=r||!t&&F.call(e,r))&&n.push(r);return n}(e)}var ze,Te=(ze=function(e,t,n){ce(e,t,n)},function(e,t){return he(function(e,t,n){return t=q(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=q(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,l)}}(e,t,Le),e+"")}((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=ze.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Ee(n))return!1;var r=typeof t;return!!("number"==r?we(n)&&ge(t,n.length):"string"==r&&t in n)&&be(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&ze(e,a,n)}return e})));function Le(e){return e}e.exports=Te},772:(e,t,n)=>{"use strict";var r=n(331);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},615:(e,t,n)=>{e.exports=n(772)()},331:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},322:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(650)),i=m(n(615)),a=m(n(729)),l=m(n(944)),s=n(65),c=n(237),d=n(972),u=m(n(700)),p=m(n(936)),g=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function m(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(b,e);var t,n,i,d,m,f=(d=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(d);if(m){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),E(x(t=f.call(this,e)),"onDragStart",(function(e,n){if((0,p.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,c.createDraggableData)(x(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),E(x(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",n);var r,o,i=(0,c.createDraggableData)(x(t),n),a={x:i.x,y:i.y};if(t.props.bounds){var l=a.x,s=a.y;a.x+=t.state.slackX,a.y+=t.state.slackY;var d=(r=(0,c.getBoundPosition)(x(t),a.x,a.y),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(r,o)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=d[0],g=d[1];a.x=u,a.y=g,a.slackX=t.state.slackX+(l-a.x),a.slackY=t.state.slackY+(s-a.y),i.x=a.x,i.y=a.y,i.deltaX=a.x-t.state.x,i.deltaY=a.y-t.state.y}if(!1===t.props.onDrag(e,i))return!1;t.setState(a)})),E(x(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,c.createDraggableData)(x(t),n)))return!1;(0,p.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var o=t.props.position,i=o.x,a=o.y;r.x=i,r.y=a}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:y({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=b,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:y({},n)})}}],(n=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:a.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,i=t.defaultClassName,a=t.defaultClassNameDragging,d=t.defaultClassNameDragged,p=t.position,m=t.positionOffset,f=(t.scale,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,g)),b={},v=null,w=!Boolean(p)||this.state.dragging,k=p||r,x={x:(0,c.canDragX)(this)&&w?this.state.x:k.x,y:(0,c.canDragY)(this)&&w?this.state.y:k.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(x,m):b=(0,s.createCSSTransform)(x,m);var S=(0,l.default)(n.props.className||"",i,(E(e={},a,this.state.dragging),E(e,d,this.state.dragged),e));return o.createElement(u.default,h({},f,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(n),{className:S,style:y(y({},n.props.style),b),transform:v}))}}])&&w(t.prototype,n),i&&w(t,i),Object.defineProperty(t,"prototype",{writable:!1}),b}(o.Component);t.default=C,E(C,"displayName","Draggable"),E(C,"propTypes",y(y({},u.default.propTypes),{},{axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe})),E(C,"defaultProps",y(y({},u.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},700:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(650)),i=u(n(615)),a=u(n(729)),l=n(65),s=n(237),c=n(972),d=u(n(936));function u(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={start:"touchstart",move:"touchmove",stop:"touchend"},k={start:"mousedown",move:"mousemove",stop:"mouseup"},x=k,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(p,e);var t,n,i,c,u=(i=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(i);if(c){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(b(e=u.call.apply(u,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),v(b(e),"mounted",!1),v(b(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,l.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,l.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var o=(0,l.getTouchIdentifier)(t);e.setState({touchIdentifier:o});var i=(0,s.getControlPosition)(t,o,b(e));if(null!=i){var a=i.x,c=i.y,u=(0,s.createCoreData)(b(e),a,c);(0,d.default)("DraggableCore: handleDragStart: %j",u),(0,d.default)("calling",e.props.onStart),!1!==e.props.onStart(t,u)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,l.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:a,lastY:c}),(0,l.addEvent)(r,x.move,e.handleDrag),(0,l.addEvent)(r,x.stop,e.handleDragStop))}}})),v(b(e),"handleDrag",(function(t){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX,a=o-e.state.lastY,l=g((0,s.snapToGrid)(e.props.grid,i,a),2);if(i=l[0],a=l[1],!i&&!a)return;r=e.state.lastX+i,o=e.state.lastY+a}var c=(0,s.createCoreData)(b(e),r,o);if((0,d.default)("DraggableCore: handleDrag: %j",c),!1!==e.props.onDrag(t,c)&&!1!==e.mounted)e.setState({lastX:r,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(u)}}})),v(b(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX||0,a=o-e.state.lastY||0,c=g((0,s.snapToGrid)(e.props.grid,i,a),2);i=c[0],a=c[1],r=e.state.lastX+i,o=e.state.lastY+a}var u=(0,s.createCoreData)(b(e),r,o);if(!1===e.props.onStop(t,u)||!1===e.mounted)return!1;var p=e.findDOMNode();p&&e.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(p.ownerDocument),(0,d.default)("DraggableCore: handleDragStop: %j",u),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),p&&((0,d.default)("DraggableCore: Removing handlers"),(0,l.removeEvent)(p.ownerDocument,x.move,e.handleDrag),(0,l.removeEvent)(p.ownerDocument,x.stop,e.handleDragStop))}}})),v(b(e),"onMouseDown",(function(t){return x=k,e.handleDragStart(t)})),v(b(e),"onMouseUp",(function(t){return x=k,e.handleDragStop(t)})),v(b(e),"onTouchStart",(function(t){return x=w,e.handleDragStart(t)})),v(b(e),"onTouchEnd",(function(t){return x=w,e.handleDragStop(t)})),e}return t=p,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,l.addEvent)(e,w.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,l.removeEvent)(t,k.move,this.handleDrag),(0,l.removeEvent)(t,w.move,this.handleDrag),(0,l.removeEvent)(t,k.stop,this.handleDragStop),(0,l.removeEvent)(t,w.stop,this.handleDragStop),(0,l.removeEvent)(e,w.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current:a.default.findDOMNode(this)}},{key:"render",value:function(){return o.cloneElement(o.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(o.Component);t.default=S,v(S,"displayName","DraggableCore"),v(S,"propTypes",{allowAnyClick:i.default.bool,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),v(S,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},529:(e,t,n)=>{"use strict";var r=n(322),o=r.default,i=r.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=i},65:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=g,t.addEvent=function(e,t,n,r){if(e){var o=s({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}},t.addUserSelectStyles=function(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&g(e.body,"react-draggable-transparent-selection")}},t.createCSSTransform=function(e,t){var n=p(e,t,"px");return c({},(0,i.browserPrefixToKey)("transform",i.default),n)},t.createSVGTransform=function(e,t){return p(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,o.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,o.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.getTranslation=p,t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=(0,o.int)(n.paddingTop))-(0,o.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=(0,o.int)(n.paddingLeft))-(0,o.int)(n.paddingRight)},t.matchesSelector=u,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(u(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=(0,o.int)(n.borderTopWidth))+(0,o.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=(0,o.int)(n.borderLeftWidth))+(0,o.int)(n.borderRightWidth)},t.removeClassName=m,t.removeEvent=function(e,t,n,r){if(e){var o=s({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}},t.removeUserSelectStyles=function(e){if(e)try{if(e.body&&m(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var o=n(972),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=i?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(o,l,s):o[l]=e[l]}return o.default=e,n&&n.set(e,o),o}(n(249));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d="";function u(e,t){return d||(d=(0,o.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,o.isFunction)(e[t])}))),!!(0,o.isFunction)(e[d])&&e[d](t)}function p(e,t,n){var r=e.x,o=e.y,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),l="".concat("string"==typeof t.y?t.y:t.y+n);i="translate(".concat(a,", ").concat(l,")")+i}return i}function g(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function m(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;var n=["Moz","Webkit","O","ms"];function r(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var i=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!i)return"";if(r in i)return"";for(var a=0;a<n.length;a++)if(o(r,n[a])in i)return n[a];return""}function o(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var i=r();t.default=i},936:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){var o=e.state,a=!(0,r.isNum)(o.lastX),l=i(e);return a?{node:l,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:l,deltaX:t-o.lastX,deltaY:n-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var a=e.props.bounds;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);var l=i(e);if("string"==typeof a){var s,c=l.ownerDocument,d=c.defaultView;if(!((s="parent"===a?l.parentNode:c.querySelector(a))instanceof d.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var u=s,p=d.getComputedStyle(l),g=d.getComputedStyle(u);a={left:-l.offsetLeft+(0,r.int)(g.paddingLeft)+(0,r.int)(p.marginLeft),top:-l.offsetTop+(0,r.int)(g.paddingTop)+(0,r.int)(p.marginTop),right:(0,o.innerWidth)(u)-(0,o.outerWidth)(l)-l.offsetLeft+(0,r.int)(g.paddingRight)-(0,r.int)(p.marginRight),bottom:(0,o.innerHeight)(u)-(0,o.outerHeight)(l)-l.offsetTop+(0,r.int)(g.paddingBottom)-(0,r.int)(p.marginBottom)}}return(0,r.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,r.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,r.isNum)(a.top)&&(n=Math.max(n,a.top)),[t,n]},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,o.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var a=i(n),l=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,o.offsetXYFromParent)(r||e,l,n.props.scale)},t.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]};var r=n(972),o=n(65);function i(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},972:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},305:t=>{"use strict";t.exports=e},388:e=>{"use strict";e.exports=r},881:e=>{"use strict";e.exports=n},650:e=>{"use strict";e.exports=t},729:e=>{"use strict";e.exports=o}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return i[e](n,n.exports,l),n.loaded=!0,n.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var s={};return(()=>{"use strict";l.r(s),l.d(s,{plugin:()=>ue});var e,t=l(305),n=l(650),r=l.n(n);!function(e){e[e.Center=0]="Center",e[e.Top=1]="Top",e[e.Bottom=2]="Bottom",e[e.Left=3]="Left",e[e.Right=4]="Right"}(e||(e={}));var o,i=l(881),a=l(388),c=l(412),d=l.n(c),u=new Uint8Array(16);function p(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(u)}const g=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var m=[],f=0;f<256;++f)m.push((f+256).toString(16).substr(1));const h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(m[e[t+0]]+m[e[t+1]]+m[e[t+2]]+m[e[t+3]]+"-"+m[e[t+4]]+m[e[t+5]]+"-"+m[e[t+6]]+m[e[t+7]]+"-"+m[e[t+8]]+m[e[t+9]]+"-"+m[e[t+10]]+m[e[t+11]]+m[e[t+12]]+m[e[t+13]]+m[e[t+14]]+m[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&g.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},b=function(e,t,n){var r=(e=e||{}).random||(e.rng||p)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return h(r)};let y,v={};function w(e,t){if(t.startsWith("image"))return w(e,t.split("|",3)[1]);if(v[e+t])return v[e+t];let n=k(e.toUpperCase());if(n.length<4)return e;let r=k(t.toUpperCase());r.length<4&&r.push(1);let o=[r[0]+(n[0]-r[0])*n[3],r[1]+(n[1]-r[1])*n[3],r[2]+(n[2]-r[2])*n[3]];return v[e+t]=`rgb(${o.join(",")})`,`rgb(${o.join(",")})`}function k(e){if("#"===e.substring(0,1)){let t=(e.length-1)/3,n=[17,1,.062272][t-1];return[Math.round(parseInt(e.substring(1,1+t),16)*n),Math.round(parseInt(e.substring(1+t,1+2*t),16)*n),Math.round(parseInt(e.substring(1+2*t),16)*n)]}return e.split("(")[1].split(")")[0].split(",").map((e=>+e))}const x=new Map,S=500;let E="";function C(){return y||(y=document.createElement("canvas").getContext("2d")),y}function O(e,t){const n=`${t}px 'Roboto'`,r=e+n,o=x.get(r);if(o)return o;const i=C();E!==n&&(i.font=E=n);const a=i.measureText(e);return x.size===S&&x.clear(),x.set(r,a),a}function I(e,t){return Math.ceil(e/t)*t}function z(t,n){var r;const o=Math.max(t.anchors[e.Top].numLinks,t.anchors[e.Bottom].numLinks),i=Math.max(...n.links.filter((e=>e.nodes[0].id===t.id||e.nodes[1].id===t.id)).filter((t=>[e.Bottom,e.Top].includes(t.sides.A.anchor)||[e.Bottom,e.Top].includes(t.sides.Z.anchor))).map((e=>e.stroke)),0)*(o-1)+n.settings.link.spacing.horizontal*(o-1)+2*t.padding.horizontal;let a=0;if(void 0!==t.label){const e=t.labelWidth+2*t.padding.horizontal;a=t.useConstantSpacing?Math.max(e,i):e}else a=0;return(null===(r=t.nodeIcon)||void 0===r?void 0:r.drawInside)&&a<t.nodeIcon.padding.horizontal+t.nodeIcon.size.width+2*t.padding.horizontal&&(a+=t.nodeIcon.padding.horizontal+t.nodeIcon.size.width+2*t.padding.horizontal-a),a}function T(t,n){var r;const o=Math.max(1,Math.max(t.anchors[e.Left].numLinks,t.anchors[e.Right].numLinks)),i=Math.max(...n.links.filter((e=>e.nodes[0].id===t.id||e.nodes[1].id===t.id)).filter((t=>[e.Left,e.Right].includes(t.sides.A.anchor)||[e.Left,e.Right].includes(t.sides.Z.anchor))).map((e=>e.stroke)));let a=n.settings.fontSizing.node+2*t.padding.vertical;(null===(r=t.nodeIcon)||void 0===r?void 0:r.drawInside)&&(a+=t.nodeIcon.size.height+2*t.nodeIcon.padding.vertical),t.nodeIcon&&""===t.label&&(a-=n.settings.fontSizing.node);const l=(i+n.settings.link.spacing.vertical+2*t.padding.vertical)*o-n.settings.link.spacing.vertical;return!t.compactVerticalLinks&&l>a?l:a}function L(e,t,n){return{id:b(),position:t,label:e,anchors:{0:{numLinks:0,numFilledLinks:0},1:{numLinks:0,numFilledLinks:0},2:{numLinks:0,numFilledLinks:0},3:{numLinks:0,numFilledLinks:0},4:{numLinks:0,numFilledLinks:0}},useConstantSpacing:!1,compactVerticalLinks:!1,padding:{vertical:4,horizontal:10},colors:{font:n.colors.secondary.contrastText,background:n.colors.secondary.main,border:n.colors.secondary.border,statusDown:"#ff0000"},nodeIcon:{src:"",name:"",size:{width:0,height:0},padding:{vertical:0,horizontal:0},drawInside:!1},isConnection:!1}}function j(t){return{id:b(),nodes:t||[],sides:{A:{bandwidth:0,bandwidthQuery:void 0,query:void 0,labelOffset:55,anchor:e.Right,dashboardLink:""},Z:{bandwidth:0,bandwidthQuery:void 0,query:void 0,labelOffset:55,anchor:e.Left,dashboardLink:""}},units:void 0,arrows:{width:8,height:10,offset:2},stroke:8,showThroughputPercentage:!1}}function P(e,t){const n={version:14,id:"",nodes:[],links:[],scale:[],settings:{link:{spacing:{horizontal:10,vertical:5},stroke:{color:t.colors.secondary.main},label:{background:t.colors.secondary.main,border:t.colors.secondary.border,font:t.colors.secondary.contrastText},showAllWithPercentage:!1},fontSizing:{node:10,link:7},panel:{backgroundColor:t.colors.background.primary,showTimestamp:!0,panelSize:{width:600,height:600},zoomScale:0,offset:{x:0,y:0},grid:{enabled:!1,size:10,guidesEnabled:!1}},tooltip:{fontSize:8,textColor:"white",backgroundColor:"black",inboundColor:"#00cf00",outboundColor:"#fade2a",scaleToBandwidth:!1},scale:{position:{x:0,y:0},size:{width:50,height:200},title:"Traffic Load",fontSizing:{title:16,threshold:12}}}};return e.version=14,e.nodes=e.nodes.map((e=>d()(L("Node A",[200,300],t),e))),e.links=e.links.map((e=>d()(j(),e))),e.scale instanceof Array||(console.log(e.scale),e.scale=Object.keys(e.scale).map((t=>({percent:t,color:e.scale[t]})))),e=d()(n,e),console.log("updated weathermap state version",e),e}const F=(e,n)=>(0,t.getFieldDisplayName)(e.fields[1],e);var A=l(529);const N=(0,a.stylesFactory)((()=>({nodeText:i.css`
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      -o-user-select: none;
      user-select: none;
    `}))),_=e=>{var t;const{node:o,draggedNode:i,selectedNodes:a,wm:l,onDrag:s,onStop:c,onClick:d,disabled:u,data:p}=e,g=N(),m=(0,n.useMemo)((()=>function(e,t){return Math.min(-z(e,t)/2,void 0!==e.label?-(O(e.label,t.settings.fontSizing.node).width/2+e.padding.horizontal):0)}(o,l)),[o,l]),f=(0,n.useMemo)((()=>function(e,t){return-T(e,t)/2}(o,l)),[o,l]),h=(0,n.useMemo)((()=>z(o,l)),[o,l]),b=(0,n.useMemo)((()=>T(o,l)),[o,l]),y=(0,n.useMemo)((()=>{return(null===(t=(e=o).nodeIcon)||void 0===t?void 0:t.drawInside)?e.nodeIcon.size.height/2+e.nodeIcon.padding.vertical:0;var e,t}),[o]);let v=!1;if(o.statusQuery){let e=p.series.filter((e=>F(e,p.series)===o.statusQuery)).map((e=>e.fields[1].values.get(e.fields[1].values.length-1)));v=0===e.length||e.length>0&&e[0]<1}let k=a.find((e=>e.index===o.index));return r().createElement(A.DraggableCore,{disabled:u,onDrag:s,onStop:c},r().createElement("g",{cursor:u?o.dashboardLink?"pointer":"":"move",display:void 0!==o.label?"inline":"none",onClick:d,transform:`translate(${l.settings.panel.grid.enabled&&i&&(i.index===o.index||a.find((e=>e.index===o.index)))?I(o.x,l.settings.panel.grid.size):o.x},\n                    ${l.settings.panel.grid.enabled&&i&&(i.index===o.index||a.find((e=>e.index===o.index)))?I(o.y,l.settings.panel.grid.size):o.y})`},""!==o.label||(null===(t=o.nodeIcon)||void 0===t?void 0:t.drawInside)?r().createElement(r().Fragment,null,r().createElement("rect",{x:m,y:f,width:h,height:b,fill:o.isConnection?"transparent":w(o.colors.background,l.settings.panel.backgroundColor),stroke:k?w(o.colors.font,l.settings.panel.backgroundColor):o.isConnection?u?"transparent":w(o.colors.background,l.settings.panel.backgroundColor):w(v?o.colors.statusDown:o.colors.border,l.settings.panel.backgroundColor),strokeWidth:o.isConnection?2:4,rx:6,ry:7,style:{paintOrder:"stroke"}}),r().createElement("text",{x:0,y,textAnchor:"middle",alignmentBaseline:"central",dominantBaseline:"central",fill:o.colors.font,className:g.nodeText,fontSize:o.isConnection?"6px":`${l.settings.fontSizing.node}px`},void 0===o.label||o.isConnection&&u?"":o.label)):"",o.nodeIcon&&""!==o.nodeIcon.src?r().createElement("image",{x:-o.nodeIcon.size.width/2,y:o.nodeIcon.drawInside?o.label.length>0?-(o.nodeIcon.size.height+o.nodeIcon.padding.vertical+O(o.label,l.settings.fontSizing.node).actualBoundingBoxAscent)/2:-o.nodeIcon.size.height/2:o.label.length>0?y-o.nodeIcon.size.height-b/2-1-o.nodeIcon.padding.vertical:-o.nodeIcon.size.height/2,width:o.nodeIcon.size.width,height:o.nodeIcon.size.height,href:o.nodeIcon.src}):""))},D=(0,a.stylesFactory)((()=>({colorScaleContainer:i.css`
      position: relative;
      padding: 10px;
      display: flex;
      flex-direction: column;
      color: black;
      z-index: 2;
      width: fit-content;
    `,colorBoxTitle:i.css`
      font-weight: bold;
      padding: 5px 0px;
    `,colorScaleItem:i.css`
      display: flex;
      align-items: center;
    `,colorBox:i.css`
      margin-right: 5px;
    `,colorLabel:i.css`
      line-height: 0px;
    `}))),M=e=>{const{thresholds:t,settings:n}=e,o=D(),l=(0,a.useTheme2)(),s={};return n.scale&&t.forEach(((e,r)=>{const o=e.percent;let i=((void 0!==t[r+1]?t[r+1].percent:101)-o)/100*n.scale.size.height;s[r]=i.toString()+"px"})),n.scale&&n.scale.fontSizing?r().createElement("div",{className:(0,i.cx)(o.colorScaleContainer,i.css`
            top: ${n.scale.position.y}%;
            left: ${n.scale.position.x}%;
          `)},r().createElement("div",{className:(0,i.cx)(o.colorBoxTitle,i.css`
              font-size: ${n.scale.fontSizing.title}px;
              color: ${l.colors.getContrastText(n.panel.backgroundColor.startsWith("image")?n.panel.backgroundColor.split("|",3)[1]:n.panel.backgroundColor)};
            `)},n.scale.title),t.map(((e,a)=>r().createElement("div",{className:o.colorScaleItem,key:a,"data-testid":"scale-item"},r().createElement("span",{className:(0,i.cx)(o.colorBox,i.css`
                  background: ${e.color};
                  height: ${s[a]};
                  width: ${n.scale.size.width}px;
                `)}),r().createElement("span",{className:(0,i.cx)(o.colorLabel,i.css`
                  font-size: ${n.scale.fontSizing.threshold}px;
                  color: ${l.colors.getContrastText(n.panel.backgroundColor.startsWith("image")?n.panel.backgroundColor.split("|",3)[1]:n.panel.backgroundColor)};
                `)},e.percent+"%"+(void 0===t[a+1]?e.percent>=100?"":" - 100%":" - "+t[a+1].percent+"%")))))):r().createElement(r().Fragment,null)};function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$(e,t,n[t])}))}return e}function R(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Z(e,t,n){let r=B({},e);return r.index=t,r.x=r.position[0],r.y=r.position[1],r.labelWidth=O(e.label?e.label:"",n.settings.fontSizing.node).width,r.anchors={0:{numLinks:r.anchors[0].numLinks,numFilledLinks:0},1:{numLinks:r.anchors[1].numLinks,numFilledLinks:0},2:{numLinks:r.anchors[2].numLinks,numFilledLinks:0},3:{numLinks:r.anchors[3].numLinks,numFilledLinks:0},4:{numLinks:r.anchors[4].numLinks,numFilledLinks:0}},r}const W=(0,a.stylesFactory)((()=>({wrapper:i.css`
      position: relative;
      font-size: 10px;
      font-family: sans-serif;
    `,textBox:i.css`
      position: absolute;
      bottom: 0;
      left: 0;
      padding: 10px;
    `,nodeText:i.css`
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      -o-user-select: none;
      user-select: none;
    `,timeText:i.css`
      position: absolute;
      bottom: 0;
      right: 0;
      color: black;
      padding: 5px 10px;
      font-size: 12px;
    `}))),V=["100baset-hub","10700","10ge-fcoe","15200","3x74-floor-cluster-control","6700-series","7500ars7513","accesspoint","ace","acs","adm","androgenous-person","antenna","asa-5500","asic-processor","asr-1000-series","ata","atm-3800","atm-fast-gigabit","atm-router","atm-switch","atm-tag-switch-router","avs","axp","bbsm","branch-office","breakout-box","bridge","broadcast-router","bts-10200","cable-modem","callmanager","car","carrier-routing-system","cddi-fddi","cdm","cell-phone","centri-firewall","cisco-1000","cisco-ca","cisco-file-engine","cisco-hub","cisco-security","cisco-unified-presence-server","cisco-unity-express","cisco-works","class-4-5-switch","cloud","communications-server","congtent-switch-module","contact-center","content-acquirer","content-engine-cache-director","content-service-router","content-service-switch-1100","content-switch","content-transformation-engine-","cs-mars","csm-s","csu-dsu","cube","detector","director-class-fibre-channel-di","directory-server","diskette","distributed-director","dot-dot","dpt","dslam","dual-mode","dwdm-filter","end-office","fax","fc-storage","fddi-ring","fibre-channel-disk-subsystem","fibre-channel-fabric-switch","file-cabinet","file-server","fileserver","firewall-service-module-fwsm","firewall","front-end-processor","gatekeeper","general-appliance","generic-building","generic-gateway","generic-processor","generic-softswitch","gigabit-switch-atm-tag-router","government-building","ground-terminal","guard","h323","handheld","hootphone","host","hp-mini","hub","iad-router","ibm-mainframe","ibm-mini-as400","ibm-tower","icm","ics","intelliswitch-stack","internet-streamer","ios-firewall","ios-slb","ip-communicator","ip-dsl","ip-phone","ip-telephony-router","ip","iptc","iptv-content-manager","iptv-server","iscsi-router","isdn-switch","itp","jbod","key","keys","lan-to-lan","laptop","layer-2-remote-switch","layer-3-switch","lightweight-ap","localdirector","lock","longreach-cpe","mac-woman","macintosh","man-woman","mas-gateway","mau","mcu","mdu","me1100","mediator","meetingplace","mesh-ap","metro-1500","mgx-8000-multiservice-switch","microphone","microwebserver","mini-vax","mobile-access-ip-phone","mobile-access-router","mobile-streamer","modem","moh-server","mse","multi-fabric-server-switch","multilayer-remote-switch","multiswitch-device","mux","mxe","nac-appliance","nce-router","nce","netflow-router","netranger","netsonar","network-management","network-security","nexus-1000","nexus-2000-fabric-extender","nexus-5000","nexus-7000","octel","ons15500","optical-amplifier","optical-services-router","optical-transport","pad-x28","pad","page-icon","pbx-switch","pbx","pc-adapter-card","pc-man","pc-routercard","pc-sosftware","pc-video","pc","pda","phone-fax","phone","pix-firewall","pmc","printer","programmable-switch","protocol-translator","pxf","radio-tower","ratemux","relational-database","repeater","rf-modem","route-switch-processor","router-firewall","router-in-building","router-with-silicon-switch","router","rpsrps","running-man","safeharbor-icon","sattelite-dish","sattelite","scanner","server-switch","server-with-router","service-control","service-module","service-router","services","set-top-box","simultlayer-switch","sip-proxy-server","sitting-woman","small-business","small-hub","softphone","softswitch-pgw-mgc","software-based-server","space-router","speaker","ssc","ssl-terminator","standard-host","standing-man","standing-woman","stb","storage-router","storge-server","stp","streamer","sun-workstation","supercomputer","svx","system-controller","tablet","tape-array","tdm-router","telecommuter-house-pc","telecommuter-house","telecommuter-icon","token","tp-mcu","transpath","truck","turret","tv","ubr910","umg-series","unity-server","universal-gateway","university","upc","ups","vault","video-camera","vip","virtual-layer-switch","virtual-switch-controller-vsc3","voice-atm-switch","voice-commserver","voice-router","voice-switch","vpn-concentrator","vpn-gateway","vss","wae","wavelength-router","web-browser","web-cluster","wi-fi-tag","wireless-location-appliance","wireless-router","wireless-transport","wireless","wirelss-bridge","wism","wlan-controller","workgroup-director","workgroup-switch","workstation","www-server"],U=["a-b-switch","atm-switch-2","atm-switch","biometric-reader","bridge","building","camera","card-reader","cellphone","cloud","comm-link","copier","diagnostic-device","ethernet","external-hard-drive","external-media-drive","fax-machine","fiber-optic-2","fiber-optic","file-2","file-server","file","firewall","hub","keyboard","lock","mainframe","micro-webserver","modem","monitor","mouse","mpls-2","mpls","multi-function-machine","patch-panel","pbx","pc","phone","plotter","printer","project-screen-2","project-screen","projector-2","projector-3","projector","radio-tower","relational-database","repeater","ring-network","router","satellite-dish","satellite","scanner","server-2","server","smart-phone-2","smart-phone","standing-man","standing-woman","super-computer","switch","telephone","ups","user","video-camera","video-phone","virtual-server","voip-phone","web-service","wireless-access-point","wireless-router","working-person"],X=["aerospike","airtable","apache-cassandra","apache-couchdb","apache-hadoop","apache-hbase","aws-dynamodb","aws-mobile-hub","aws-rds-relational-database-service","cloudera","couchbase","crateio","dat","database-labs","doctrine","flocker","google-firebase","ibm-cloudant","ibm-compose","influxdb","kinto","knexjs","leveldb","mariadb","memsql","mongodb-realm","mongodb","mysql","neo4j","nuodb","oracle","parse","percona","postgresql","pouchdb","prisma","pumpkindb","pusher","redis","redsmin","rethinkdb","riak","rocksdb","rxdb","scaledrone","sequelize","sqldep","sqlite"],Y=["crt-monitor","data-pipe","keyboard","laptop-device","lcd-monitor","mouse","pc","pda","slate","tablet","terminal","virtual-pc"];function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){q(e,t,n[t])}))}return e}const G=({value:e,onChange:t,context:o})=>{const i=Q(),l=(0,a.useTheme2)();let s=0;for(let t of e.nodes)s+=t.isConnection?1:0;const c=(n,r)=>{let o=e;"X"===n.currentTarget.name?o.nodes[r].position[0]=n.currentTarget.valueAsNumber:"Y"===n.currentTarget.name?o.nodes[r].position[1]=n.currentTarget.valueAsNumber:"label"===n.currentTarget.name&&(o.nodes[r].label=n.currentTarget.value),t(o)},d=(n,r,o)=>{let i=e;i.nodes[r].padding[o]=n,t(i)},u=(n,r,o)=>{let i=e;i.nodes[r].nodeIcon.size[o]=n,t(i)},p=(n,r,o)=>{let i=e;i.nodes[r].nodeIcon.padding[o]=n,t(i)},[g,m]=(0,n.useState)("null"),f=V.map((e=>({label:e,value:"cisco/"+e}))),h=U.map((e=>({label:e,value:"networking/"+e}))),y=X.map((e=>({label:e,value:"databases/"+e}))),v=Y.map((e=>({label:e,value:"computers_monitors/"+e})));let w=[];return o.data.forEach(((e,t)=>{try{w.push(F(e,o.data))}catch(e){console.warn("Network Weathermap: Error while attempting to access query data.",e)}})),r().createElement(r().Fragment,null,r().createElement("h6",{style:{padding:"10px 0px 5px 5px",marginTop:"10px",borderTop:"1px solid var(--in-content-button-background)"}},"Nodes"),r().createElement(a.Select,{onChange:e=>{m(e)},value:g,options:e.nodes,getOptionLabel:e=>e.label,getOptionValue:e=>e.id,className:i.nodeSelect,placeholder:"Select a node",isClearable:!0}),e.nodes.map(((n,o)=>{var l;if(g&&n.id===g.id)return r().createElement(r().Fragment,{key:n.id},r().createElement(a.InlineFieldRow,{className:i.inlineRow},r().createElement(a.InlineField,{grow:!0,label:"X"},r().createElement(a.Input,{value:n.position[0],onChange:e=>c(e,o),placeholder:"Position X",type:"number",className:i.nodeLabel,name:"X"})),r().createElement(a.InlineField,{grow:!0,label:"Y"},r().createElement(a.Input,{value:n.position[1],onChange:e=>c(e,o),placeholder:"Position Y",type:"number",className:i.nodeLabel,name:"Y"})),r().createElement(a.InlineField,{grow:!0,label:"Label"},r().createElement(a.Input,{value:n.label,onChange:e=>c(e,o),placeholder:"Node Label",type:"text",className:i.nodeLabel,name:"label"})),r().createElement(a.InlineField,{grow:!0,label:"Dashboard Link"},r().createElement(a.Input,{value:n.dashboardLink,onChange:n=>((n,r)=>{let o=e;o.nodes[r].dashboardLink=n.currentTarget.value,t(o)})(n,o),placeholder:"Node Dashboard Link",type:"text",className:i.nodeLabel,name:"Dashboard link"}))),r().createElement(a.InlineFieldRow,{className:i.inlineRow},r().createElement(a.ControlledCollapse,{label:"Icon"},r().createElement(a.Select,{onChange:n=>{((n,r)=>{let o=e;void 0===n?o.nodes[r].nodeIcon={src:"",name:"",size:{width:0,height:0},padding:{vertical:0,horizontal:0},drawInside:!1}:(o.nodes[r].nodeIcon.src="custom_icon"===n?"":"public/plugins/knightss27-weathermap-panel/icons/"+n+".svg",o.nodes[r].nodeIcon.name=n,0===o.nodes[r].nodeIcon.size.width&&(o.nodes[r].nodeIcon.size={width:40,height:40})),t(o)})(n?n.value:void 0,o)},value:null===(l=n.nodeIcon)||void 0===l?void 0:l.name,options:[{label:"Cisco Icons",value:"cisco",options:f},{label:"Networking Icons",value:"networking",options:h},{label:"Database Icons",value:"databases",options:y},{label:"Computer Icons",value:"computers_monitors",options:v},{label:"Custom Icon",value:"custom_icon"}],className:i.nodeSelect,placeholder:"Select an icon",isClearable:!0}),n.nodeIcon&&"custom_icon"===n.nodeIcon.name?r().createElement(r().Fragment,null,r().createElement(a.InlineField,{grow:!0,label:"Custom Icon Source",className:i.inlineField,style:{marginLeft:"24px"}},r().createElement(a.Input,{value:n.nodeIcon.src,placeholder:"https://example.com/icon.svg",type:"text",name:"iconImageURL",onChange:n=>{let r=e;r.nodes[o].nodeIcon&&(r.nodes[o].nodeIcon.src=n.currentTarget.value),t(r)}}))):"",r().createElement(a.InlineField,{grow:!0,label:"Width"},r().createElement(a.Input,{value:n.nodeIcon.size.width,onChange:e=>u(e.currentTarget.valueAsNumber,o,"width"),placeholder:"Width",type:"number",className:i.nodeLabel,name:"iconWidth"})),r().createElement(a.InlineField,{grow:!0,label:"Height"},r().createElement(a.Input,{value:n.nodeIcon.size.height,onChange:e=>u(e.currentTarget.valueAsNumber,o,"height"),placeholder:"Height",type:"number",className:i.nodeLabel,name:"iconHeight"})),r().createElement(a.InlineField,{grow:!0,label:"Padding Horizontal"},r().createElement(a.Slider,{min:0,max:40,value:n.nodeIcon.padding.horizontal,step:1,onChange:e=>p(e,o,"horizontal")})),r().createElement(a.InlineField,{grow:!0,label:"Padding Vertical"},r().createElement(a.Slider,{min:0,max:40,value:n.nodeIcon.padding.vertical,step:1,onChange:e=>p(e,o,"vertical")})),r().createElement(a.InlineField,{grow:!0,label:"Draw Inside"},r().createElement(a.InlineSwitch,{value:n.nodeIcon.drawInside,onChange:n=>((n,r)=>{let o=e;o.nodes[r].nodeIcon.drawInside=n,t(o)})(n.currentTarget.checked,o)})))),r().createElement(a.InlineFieldRow,{className:i.inlineRow},r().createElement(a.ControlledCollapse,{label:"Padding"},r().createElement(a.InlineFieldRow,{className:i.inlineRow},r().createElement(a.InlineField,{grow:!0,label:"Horizontal"},r().createElement(a.Slider,{min:0,max:50,value:n.padding.horizontal,step:1,onChange:e=>d(e,o,"horizontal")})),r().createElement(a.InlineField,{grow:!0,label:"Vertical"},r().createElement(a.Slider,{min:0,max:50,value:n.padding.vertical,step:1,onChange:e=>d(e,o,"vertical")}))))),r().createElement(a.InlineFieldRow,{className:i.inlineRow},r().createElement(a.ControlledCollapse,{label:"Status"},r().createElement(a.InlineFieldRow,{className:i.inlineRow},r().createElement(a.InlineField,{grow:!0,label:"Query"},r().createElement(a.Select,{onChange:n=>{((n,r)=>{let o=e;o.nodes[r].statusQuery=n,t(o)})(n?n.value:void 0,o)},value:w.filter(((e,t)=>e===n.statusQuery))[0],options:w.map((e=>({value:e,label:e}))),placeholder:"Select query",isClearable:!0}))),r().createElement(a.InlineLabel,{width:"auto",style:{marginBottom:"4px"}},"StatusDown Color:",r().createElement(a.ColorPicker,{color:n.colors.statusDown,onChange:n=>{let r=e;r.nodes[o].colors.statusDown=n,t(r)}})))),r().createElement(a.InlineFieldRow,{className:i.inlineRow},r().createElement(a.ControlledCollapse,{label:"Advanced"},r().createElement(a.InlineFieldRow,{className:i.inlineRow},r().createElement(a.InlineField,{grow:!0,label:"Constant Spacing"},r().createElement(a.InlineSwitch,{value:n.useConstantSpacing,onChange:n=>((n,r)=>{let o=e;o.nodes[r].useConstantSpacing=n.currentTarget.checked,t(o)})(n,o)})),r().createElement(a.InlineField,{grow:!0,label:"Compact Vertical Links"},r().createElement(a.InlineSwitch,{value:n.compactVerticalLinks,onChange:n=>((n,r)=>{let o=e;o.nodes[r].compactVerticalLinks=n.currentTarget.checked,t(o)})(n,o)})),r().createElement(a.InlineField,{grow:!0,label:"Use As Connection (BETA)"},r().createElement(a.InlineSwitch,{value:n.isConnection,onChange:n=>((n,r)=>{let o=e;o.nodes[r].isConnection=n.currentTarget.checked,o.nodes[r].label="C"+s,t(o)})(n,o)}))))),r().createElement(a.InlineFieldRow,{className:i.inlineRow},r().createElement(a.ControlledCollapse,{label:"Colors"},Object.keys(n.colors).map((i=>r().createElement(a.InlineFieldRow,{key:i},r().createElement(a.InlineLabel,{style:{marginBottom:"4px",textTransform:"capitalize",flex:"1 0 auto"}},i," Color:",r().createElement(a.ColorPicker,{color:n.colors[i],onChange:n=>((n,r,o)=>{let i=e;i.nodes[r].colors[o]=n,t(i)})(n,o,i)}))))),r().createElement(a.Button,{variant:"primary",size:"md",onClick:()=>(()=>{let n=e;for(let e of n.nodes)e.colors=H({},g.colors);t(n)})(),style:{marginTop:"10px"}},"Apply to All?"))),r().createElement(a.InlineFieldRow,{className:i.inlineRow},r().createElement(a.Button,{variant:"destructive",icon:"trash-alt",size:"md",onClick:()=>(n=>{let r=e;r.links=r.links.filter((e=>{for(const t of e.nodes)if(t.id===r.nodes[n].id)return!1;return!0})),r.nodes.splice(n,1),t(r)})(o),style:{justifyContent:"center"}},"Remove Node")))})),r().createElement(a.Button,{variant:"secondary",icon:"plus",size:"md",onClick:()=>{let n=e;const r={id:b(),position:[-n.settings.panel.offset.x+n.settings.panel.panelSize.width/2,-n.settings.panel.offset.y+n.settings.panel.panelSize.height/2],label:"Test Label",anchors:{0:{numLinks:0,numFilledLinks:0},1:{numLinks:0,numFilledLinks:0},2:{numLinks:0,numFilledLinks:0},3:{numLinks:0,numFilledLinks:0},4:{numLinks:0,numFilledLinks:0}},useConstantSpacing:!1,compactVerticalLinks:!1,padding:{vertical:4,horizontal:10},colors:n.nodes.length>0?n.nodes[0].colors:{font:l.colors.secondary.contrastText,background:l.colors.secondary.main,border:l.colors.secondary.border,statusDown:"#ff0000"},nodeIcon:{src:"",name:"",size:{width:0,height:0},padding:{vertical:0,horizontal:0},drawInside:!1},isConnection:!1};n.nodes.push(r),t(n),m(r)},className:i.addNew},"Add Node"),r().createElement(a.Button,{variant:"secondary",icon:"trash-alt",size:"md",onClick:()=>{let n=e;n.nodes=[],n.links=[],t(n)},className:i.clearAll},"Clear All"))},Q=(0,a.stylesFactory)((()=>({nodeLabel:i.css`
      margin: 0px 0px;
    `,addNew:i.css`
      width: calc(50% - 10px);
      justify-content: center;
      margin: 10px 0px;
      margin-right: 5px;
    `,clearAll:i.css`
      width: calc(50% - 10px);
      justify-content: center;
      margin: 10px 0px;
      margin-left: 5px;
    `,nodeSelect:i.css`
      margin: 5px 0px;
    `,inlineField:i.css`
      flex: 1 0 auto;
    `,inlineRow:i.css`
      flex-flow: column;
    `}))),K=({title:e})=>r().createElement("h6",{style:{padding:"10px 0px 5px 5px",marginTop:"10px",borderTop:"1px solid var(--in-content-button-background)"}},e);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){J(e,t,n[t])}))}return e}const te=t=>{const{value:o,onChange:i,context:l}=t,s=ne(),c=e=>{let t=-1;return o.nodes.forEach(((n,r)=>{n.id===e.id&&(t=r)})),t},[d,u]=(0,n.useState)("null");let p=[],g=[];for(let e of o.links)e.nodes[0].isConnection&&p.push(e.nodes[0].id),e.nodes[1].isConnection&&g.push(e.nodes[1].id);let m=p.filter((e=>g.includes(e))),f=o.nodes.filter((e=>!m.includes(e.id))),h=[];return l.data.forEach(((e,t)=>{try{h.push(F(e,l.data))}catch(e){console.warn("Network Weathermap: Error while attempting to access query data.",e)}})),r().createElement(r().Fragment,null,r().createElement("h6",{style:{padding:"10px 0px 5px 5px",marginTop:"10px",borderTop:"1px solid var(--in-content-button-background)"}},"Links"),r().createElement(a.Select,{onChange:e=>{u(e)},value:d,options:o.links,getOptionLabel:e=>{var t,n;return e.nodes.length>0?`${null===(t=e.nodes[0])||void 0===t?void 0:t.label} <> ${null===(n=e.nodes[1])||void 0===n?void 0:n.label}`:""},getOptionValue:e=>e.id,className:s.nodeSelect,placeholder:"Select a link",isClearable:!0}),o.links.map(((t,n)=>{if(d&&t.id===d.id)return r().createElement(r().Fragment,{key:t.id},Object.values(t.sides).map(((l,d)=>{var u;const p=0===d?"A":"Z";return r().createElement(r().Fragment,{key:d},r().createElement(K,{title:p+" Side Options"}),r().createElement(a.InlineField,{grow:!0,label:`${p} Side`,labelWidth:"auto"},r().createElement(a.Select,{onChange:e=>{((e,t,n)=>{let r=o;const a=c(e);if(r.nodes[a].anchors[r.links[n].sides[t].anchor].numLinks++,"A"===t){const e=c(r.links[n].nodes[0]);r.nodes[e].anchors[r.links[n].sides[t].anchor].numLinks--,r.links[n].nodes[0]=r.nodes[a]}else if("Z"===t){const e=c(r.links[n].nodes[1]);r.nodes[e].anchors[r.links[n].sides[t].anchor].numLinks--,r.links[n].nodes[1]=r.nodes[a]}i(r)})(e,p,n)},value:(null===(u=t.nodes[d])||void 0===u?void 0:u.label)||"No label",options:f,getOptionLabel:e=>{var t;return(null===(t=e)||void 0===t?void 0:t.label)||"No label"},getOptionValue:e=>e.id,className:s.nodeSelect,placeholder:`Select ${p} Side`,defaultValue:t.nodes[d]})),t.nodes[1].isConnection&&"Z"===p||t.nodes[0].isConnection&&"A"===p||t.nodes[0].isConnection&&t.nodes[1].isConnection?"":r().createElement(a.InlineField,{grow:!0,label:`${p} Side Query`,labelWidth:"auto"},r().createElement(a.Select,{onChange:e=>{((e,t,n)=>{let r=o;r.links[t].sides[e].query=n,i(r)})(p,n,e?e.value:void 0)},value:h.filter((e=>e===l.query))[0],options:h.map((e=>({value:e,label:e}))),className:s.querySelect,placeholder:`Select ${p} Side Query`,isClearable:!0})),t.nodes[1].isConnection&&"Z"===p||t.nodes[0].isConnection&&"A"===p||t.nodes[0].isConnection&&t.nodes[1].isConnection?"":r().createElement(r().Fragment,null,r().createElement(a.InlineField,{grow:!0,label:`${p} Bandwidth #`,style:{width:"100%"}},r().createElement(a.Input,{value:l.bandwidth,onChange:e=>((e,t,n)=>{let r=o;r.links[t].sides[n].bandwidth=e,r.links[t].sides[n].bandwidthQuery=void 0,i(r)})(e.currentTarget.valueAsNumber,n,p),placeholder:"Custom max bandwidth",type:"number",className:s.nodeLabel,name:`${p}bandwidth`})),r().createElement(a.InlineField,{grow:!0,label:`${p} Bandwidth Query`,style:{width:"100%"},labelWidth:"auto"},r().createElement(a.Select,{onChange:e=>{((e,t,n)=>{let r=o;r.links[t].sides[n].bandwidth=0,r.links[t].sides[n].bandwidthQuery=e,i(r)})(e?e.value:void 0,n,p)},value:h.filter((e=>e===l.bandwidthQuery))[0],options:h.map((e=>({value:e,label:e}))),className:s.bandwidthSelect,placeholder:"Select Bandwidth",isClearable:!0})),r().createElement(a.InlineField,{grow:!0,label:`${p} Label Offset %`,style:{width:"100%"}},r().createElement(a.Slider,{min:0,max:100,value:l.labelOffset,onChange:e=>{((e,t,n)=>{let r=o;r.links[t].sides[n].labelOffset=e,i(r)})(e,n,p)}})),r().createElement(a.InlineField,{grow:!0,label:`${p} Side Anchor Point`,style:{width:"100%"}},r().createElement(a.Select,{onChange:e=>{((e,t,n)=>{let r=o;const a=c(r.links[t].nodes["A"===n?0:1]);r.nodes[a].anchors[r.links[t].sides[n].anchor].numLinks--,r.links[t].sides[n].anchor=e,r.nodes[a].anchors[r.links[t].sides[n].anchor].numLinks++,i(r)})(e.value?e.value:0,n,p)},value:{label:e[l.anchor],value:l.anchor},options:Object.keys(e).slice(5).map(((t,n)=>({label:e[n],value:n}))),className:s.bandwidthSelect,placeholder:"Select Anchor"})),r().createElement(a.InlineField,{grow:!0,label:`${p} Dashboard Link`,style:{width:"100%"}},r().createElement(a.Input,{value:l.dashboardLink,onChange:e=>((e,t,n)=>{let r=o;r.links[t].sides[n].dashboardLink=e,i(r)})(e.currentTarget.value,n,p),placeholder:"Link specific dashboard",type:"text",className:s.nodeLabel,name:`${p}dashboardLink`}))))})),r().createElement(K,{title:"Link Options"}),r().createElement(a.InlineFieldRow,{className:s.row2},r().createElement(a.InlineField,{grow:!0,label:"Link Units",style:{width:"100%"}},r().createElement(a.UnitPicker,{onChange:e=>{let t=o;t.links[n].units=e,i(t)},value:t.units}))),r().createElement(a.InlineField,{grow:!0,label:"Show Throughput as Percentage"},r().createElement(a.InlineSwitch,{value:t.showThroughputPercentage,onChange:e=>{let t=o;t.links[n].showThroughputPercentage=e.currentTarget.checked,i(t)}})),r().createElement(a.ControlledCollapse,{label:"Stroke and Arrow"},r().createElement(a.InlineField,{grow:!0,label:"Link Stroke Width",className:s.inlineField},r().createElement(a.Slider,{min:1,max:30,value:t.stroke,step:1,onChange:e=>{let t=o;t.links[n].stroke=e,i(t)}})),t.nodes[1].isConnection?"":r().createElement(r().Fragment,null,r().createElement(a.InlineField,{grow:!0,label:"Arrow Width",className:s.inlineField},r().createElement(a.Slider,{min:0,max:30,value:t.arrows.width,step:1,onChange:e=>{let t=o;t.links[n].arrows.width=e,i(t)}})),r().createElement(a.InlineField,{grow:!0,label:"Arrow Height",className:s.inlineField},r().createElement(a.Slider,{min:0,max:30,value:t.arrows.height,step:1,onChange:e=>{let t=o;t.links[n].arrows.height=e,i(t)}})),r().createElement(a.InlineField,{grow:!0,label:"Arrow Offset",className:s.inlineField},r().createElement(a.Slider,{min:0,max:10,value:t.arrows.offset,step:1,onChange:e=>{let t=o;t.links[n].arrows.offset=e,i(t)}}))),r().createElement(a.Button,{variant:"primary",size:"md",onClick:()=>{let e=o;for(let t of e.links)t.arrows=ee({},d.arrows),t.stroke=d.stroke;i(e)},style:{marginTop:"10px"}},"Apply to All?")),r().createElement(a.InlineFieldRow,{className:s.row},r().createElement(a.Button,{variant:"destructive",icon:"trash-alt",size:"md",onClick:()=>(e=>{let t=o,n=t.links[e];for(let e=0;e<t.nodes.length;e++)t.nodes[e].id===n.nodes[0].id?t.nodes[e].anchors[n.sides.A.anchor].numLinks--:t.nodes[e].id===n.nodes[1].id&&t.nodes[e].anchors[n.sides.Z.anchor].numLinks--;t.links.splice(e,1),i(t)})(n),className:""},"Remove Link")))})),r().createElement(a.Button,{variant:"secondary",icon:"plus",size:"md",onClick:()=>{if(0===o.nodes.length)throw new Error("There must be >= 1 Nodes to create a link.");let t=o;const n={id:b(),nodes:[o.nodes[0],o.nodes[0]],sides:{A:{bandwidth:0,bandwidthQuery:void 0,query:void 0,labelOffset:55,anchor:e.Center,dashboardLink:""},Z:{bandwidth:0,bandwidthQuery:void 0,query:void 0,labelOffset:55,anchor:e.Center,dashboardLink:""}},units:void 0,stroke:8,arrows:{width:8,height:10,offset:2},showThroughputPercentage:!1};t.nodes[0].anchors[e.Center].numLinks+=2,t.links.push(n),i(t),u(n)},className:s.addNew},"Add Link"),r().createElement(a.Button,{variant:"secondary",icon:"trash-alt",size:"md",onClick:()=>{let e=o;e.links=[];for(let t=0;t<e.nodes.length;t++)e.nodes[t].anchors={0:{numLinks:0,numFilledLinks:0},1:{numLinks:0,numFilledLinks:0},2:{numLinks:0,numFilledLinks:0},3:{numLinks:0,numFilledLinks:0},4:{numLinks:0,numFilledLinks:0}};t.onChange(e)},className:s.clearAll},"Clear All"))},ne=(0,a.stylesFactory)((()=>({nodeLabel:i.css`
      margin: 0px 0px;
    `,addNew:i.css`
      width: calc(50% - 10px);
      justify-content: center;
      margin: 10px 0px;
      margin-right: 5px;
    `,clearAll:i.css`
      width: calc(50% - 10px);
      justify-content: center;
      margin: 10px 0px;
      margin-left: 5px;
    `,nodeSelect:i.css`
      margin: 0px 0px;
    `,bandwidthSelect:i.css`
      margin: 0px 0px;
    `,querySelect:i.css`
      margin: 0px 0px;
    `,row:i.css`
      margin-top: 5px;
      max-width: 100%;
      padding-top: 10px;
      border-top: 1px solid var(--in-content-button-background);
    `,row2:i.css`
      margin-top: 5px;
      max-width: 100%;
    `,inlineField:i.css``}))),re=e=>{const t=(0,a.useTheme2)(),o=oe(t),{value:i,onChange:l}=e,[s,c]=(0,n.useState)(i.scale);return r().createElement(r().Fragment,null,r().createElement("h6",{style:{padding:"10px 0px 5px 5px",marginTop:"10px",borderTop:"1px solid var(--in-content-button-background)"}},"Color Scale"),s.map(((e,t)=>r().createElement(a.Input,{className:o.item,type:"number",step:"0.0001",key:t,onChange:e=>{c((n=>{let r=n;return r[t].percent=e.currentTarget.valueAsNumber,r})),l(i)},value:s[t].percent,"aria-label":`Weathermap Threshold ${e.percent}`,onBlur:e=>((e,t)=>{let n=i;n.scale[t].percent=e.currentTarget.valueAsNumber,n.scale.sort(((e,t)=>e.percent-t.percent)),l(n),c(n.scale)})(e,t),prefix:r().createElement("div",{className:o.inputPrefix},r().createElement("div",{className:o.colorPicker},r().createElement(a.ColorPicker,{color:e.color,onChange:e=>((e,t)=>{let n=i;n.scale[t].color=e,l(n),c(n.scale)})(e,t)}))),suffix:r().createElement(a.Icon,{className:o.trashIcon,name:"trash-alt",onClick:()=>(e=>{let t=i;t.scale.splice(e,1),l(t),c(t.scale)})(t)})}))),r().createElement(a.Button,{variant:"secondary",icon:"plus",size:"md",onClick:()=>{let e=i;0===i.scale.length?e.scale.push({percent:0,color:"#ffffff"}):e.scale.push({percent:e.scale[e.scale.length-1].percent+10,color:"#ffffff"}),l(e),c(e.scale)},className:o.addNew},"Add Scale Value"),r().createElement(a.Button,{variant:"secondary",icon:"trash-alt",size:"md",onClick:()=>{let e=i;e.scale=[],l(e),c(e.scale)},className:o.clearAll},"Clear All"))},oe=(0,a.stylesFactory)((e=>({nodeLabel:i.css`
      margin: 0px 0px;
    `,addNew:i.css`
      width: calc(50% - 10px);
      justify-content: center;
      margin: 10px 0px;
      margin-right: 5px;
    `,clearAll:i.css`
      width: calc(50% - 10px);
      justify-content: center;
      margin: 10px 0px;
      margin-left: 5px;
    `,nodeSelect:i.css`
      margin: 5px 0px;
    `,inputPrefix:i.css`
      display: flex;
      align-items: center;
    `,colorPicker:i.css`
      padding: 0 ${e.spacing(1)};
      &:last-child button {
        border: 1px solid ${e.colors.border.medium} !important;
      }
    `,trashIcon:i.css`
      color: ${e.colors.text.secondary};
      cursor: pointer;
      &:hover {
        color: ${e.colors.text.primary};
      }
    `,item:i.css`
      margin-bottom: ${e.spacing(1)};
      &:last-child {
        margin-bottom: 0;
      }
    `}))),ie=({value:e,onChange:t})=>{const n=ae((0,a.useTheme2)());return e?r().createElement(r().Fragment,null,r().createElement(K,{title:"Panel"}),r().createElement(a.InlineField,{grow:!0,label:"Background:",className:n.inlineField},r().createElement(r().Fragment,null)),r().createElement(a.InlineLabel,{width:"auto",style:{marginBottom:"4px",marginLeft:"12px"}},"- Color:",r().createElement(a.ColorPicker,{color:e.settings.panel.backgroundColor.startsWith("image")?e.settings.panel.backgroundColor.split("|",3)[1]:e.settings.panel.backgroundColor,onChange:n=>{let r=e;!n.startsWith("image")&&r.settings.panel.backgroundColor.startsWith("image")?r.settings.panel.backgroundColor="image|"+n+"|"+r.settings.panel.backgroundColor.split("|",3)[2]:r.settings.panel.backgroundColor=n,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"- Image:",style:{marginBottom:"4px",marginLeft:"12px"}},e.settings.panel.backgroundImage?r().createElement(a.Button,{variant:"destructive",size:"md",icon:"trash-alt",onClick:()=>{if(!confirm("Are you sure you want remove the background image?"))return;let n=e;n.settings.panel.backgroundImage=void 0,t(n)},style:{justifyContent:"center"}}):r().createElement(a.Button,{onClick:()=>{let n=e;n.settings.panel.backgroundImage={url:"",fit:"contain"},t(n)},icon:"plus",style:{justifyContent:"center"}})),e.settings.panel.backgroundImage?r().createElement(r().Fragment,null,r().createElement(a.InlineField,{grow:!0,label:"Image Source",className:n.inlineField,style:{marginLeft:"24px"}},r().createElement(a.Input,{value:e.settings.panel.backgroundImage.url,placeholder:"https://example.com/background.jpg",type:"text",name:"bgImageURL",onChange:n=>{let r=e;r.settings.panel.backgroundImage&&(r.settings.panel.backgroundImage.url=n.currentTarget.value),t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Image Fit",className:n.inlineField,style:{marginLeft:"24px"}},r().createElement(a.Select,{onChange:n=>{let r=e;r.settings.panel.backgroundImage&&(r.settings.panel.backgroundImage.fit=n.value?n.value:"contain"),t(r)},value:e.settings.panel.backgroundImage.fit,options:["contain","cover","auto"].map((e=>({label:e,value:e}))),placeholder:"Select image fit"}))):"",r().createElement(a.InlineField,{grow:!0,label:"Viewbox Width (px)",className:n.inlineField},r().createElement(a.Input,{value:e.settings.panel.panelSize.width,placeholder:"Panel Width",type:"number",name:"panelWidth",onChange:n=>{let r=e;r.settings.panel.panelSize.width=n.currentTarget.valueAsNumber,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Viewbox Height (px)",className:n.inlineField},r().createElement(a.Input,{value:e.settings.panel.panelSize.height,placeholder:"Panel Height",type:"number",name:"panelHeight",onChange:n=>{let r=e;r.settings.panel.panelSize.height=n.currentTarget.valueAsNumber,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Zoom Scale",className:n.inlineField},r().createElement(a.Input,{value:e.settings.panel.zoomScale,placeholder:"Zoom Scale",type:"number",onChange:n=>{let r=e;r.settings.panel.zoomScale=n.currentTarget.valueAsNumber,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"View Offset X",className:n.inlineField},r().createElement(a.Input,{value:e.settings.panel.offset.x,placeholder:"Offset X",type:"number",onChange:n=>{let r=e;r.settings.panel.offset.x=n.currentTarget.valueAsNumber,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"View Offset Y",className:n.inlineField},r().createElement(a.Input,{value:e.settings.panel.offset.y,placeholder:"Offset Y",type:"number",onChange:n=>{let r=e;r.settings.panel.offset.y=n.currentTarget.valueAsNumber,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Display Timestamp"},r().createElement(a.InlineSwitch,{value:e.settings.panel.showTimestamp,onChange:n=>{let r=e;r.settings.panel.showTimestamp=n.currentTarget.checked,t(r)}})),r().createElement(K,{title:"Link Options"}),r().createElement(a.InlineField,{grow:!0,label:"Toggle all as Percentage Throughput"},r().createElement(a.InlineSwitch,{value:e.settings.link.showAllWithPercentage,onChange:n=>{let r=e;r.settings.link.showAllWithPercentage=n.currentTarget.checked,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Default Link Units"},r().createElement(a.UnitPicker,{onChange:n=>{let r=e;r.settings.link.defaultUnits=n,t(r)},value:e.settings.link.defaultUnits?e.settings.link.defaultUnits:"bps"})),r().createElement(a.InlineField,{grow:!0,label:"Reset All Links to Default Units"},r().createElement(a.Button,{variant:"destructive",size:"md",icon:"trash-alt",onClick:()=>{if(!confirm("Are you sure you want to reset all link units?"))return;let n=e;for(let e of n.links)e.units=void 0;t(n)},style:{justifyContent:"center"}})),r().createElement(a.InlineLabel,{width:"auto",style:{marginBottom:"4px"}},"Base Color:",r().createElement(a.ColorPicker,{color:e.settings.link.stroke.color,onChange:n=>{let r=e;r.settings.link.stroke.color=n,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Link Spacing Horizontal",className:n.inlineField},r().createElement(a.Slider,{min:0,max:30,value:e.settings.link.spacing.horizontal,step:1,onChange:n=>{let r=e;r.settings.link.spacing.horizontal=n,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Link Spacing Vertical",className:n.inlineField},r().createElement(a.Slider,{min:0,max:30,value:e.settings.link.spacing.vertical,step:1,onChange:n=>{let r=e;r.settings.link.spacing.vertical=n,t(r)}})),r().createElement(a.InlineLabel,{width:"auto",style:{marginBottom:"4px"}},"Label Background Color:",r().createElement(a.ColorPicker,{color:e.settings.link.label.background,onChange:n=>{let r=e;r.settings.link.label.background=n,t(r)}})),r().createElement(a.InlineLabel,{width:"auto",style:{marginBottom:"4px"}},"Label Border Color:",r().createElement(a.ColorPicker,{color:e.settings.link.label.border,onChange:n=>{let r=e;r.settings.link.label.border=n,t(r)}})),r().createElement(a.InlineLabel,{width:"auto",style:{marginBottom:"4px"}},"Label Font Color:",r().createElement(a.ColorPicker,{color:e.settings.link.label.font,onChange:n=>{let r=e;r.settings.link.label.font=n,t(r)}})),r().createElement(K,{title:"Arrow Options"}),r().createElement(K,{title:"Grid Options"}),r().createElement(a.InlineFieldRow,{className:n.inlineRow},r().createElement(a.InlineField,{grow:!0,label:"Enable Node Grid Snapping",className:n.inlineField},r().createElement(a.InlineSwitch,{value:e.settings.panel.grid.enabled,onChange:n=>{let r=e;r.settings.panel.grid.enabled=n.currentTarget.checked,r.settings.panel.grid.guidesEnabled=!1,t(r)}})),e.settings.panel.grid.enabled?r().createElement(a.InlineField,{grow:!0,label:"Grid Size (px)",className:n.inlineField},r().createElement(a.Slider,{min:2,max:50,value:e.settings.panel.grid.size,step:1,onChange:n=>{let r=e;r.settings.panel.grid.size=n,t(r)}})):""),e.settings.panel.grid.enabled?r().createElement(a.InlineFieldRow,{className:n.inlineRow},r().createElement(a.InlineField,{grow:!0,label:"Grid Guides",className:n.inlineField},r().createElement(a.InlineSwitch,{value:e.settings.panel.grid.guidesEnabled,onChange:n=>{let r=e;r.settings.panel.grid.guidesEnabled=n.currentTarget.checked,t(r)}}))):"",r().createElement(K,{title:"Font Options"}),r().createElement(a.InlineField,{grow:!0,label:"Node Font Size",className:n.inlineField},r().createElement(a.Slider,{min:2,max:40,value:e.settings.fontSizing.node,step:1,onChange:n=>{let r=e;r.settings.fontSizing.node=n,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Link Font Size",className:n.inlineField},r().createElement(a.Slider,{min:2,max:40,value:e.settings.fontSizing.link,step:1,onChange:n=>{let r=e;r.settings.fontSizing.link=n,t(r)}})),r().createElement(K,{title:"Tootlip Options"}),r().createElement(a.InlineLabel,{width:"auto",style:{marginBottom:"4px"}},"Background Color:",r().createElement(a.ColorPicker,{color:e.settings.tooltip.backgroundColor,onChange:n=>{let r=e;r.settings.tooltip.backgroundColor=n,t(r)}})),r().createElement(a.InlineLabel,{width:"auto",style:{marginBottom:"4px"}},"Text Color:",r().createElement(a.ColorPicker,{color:e.settings.tooltip.textColor,onChange:n=>{let r=e;r.settings.tooltip.textColor=n,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Tooltip Font Size",className:n.inlineField},r().createElement(a.Slider,{min:2,max:40,value:e.settings.tooltip.fontSize,step:1,onChange:n=>{let r=e;r.settings.tooltip.fontSize=n,t(r)}})),r().createElement(a.InlineLabel,{width:"auto",style:{marginBottom:"4px"}},"Inbound Graph Color:",r().createElement(a.ColorPicker,{color:e.settings.tooltip.inboundColor,onChange:n=>{let r=e;r.settings.tooltip.inboundColor=n,t(r)}})),r().createElement(a.InlineLabel,{width:"auto",style:{marginBottom:"4px"}},"Outbound Graph Color:",r().createElement(a.ColorPicker,{color:e.settings.tooltip.outboundColor,onChange:n=>{let r=e;r.settings.tooltip.outboundColor=n,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Scale to Include Bandwidth",className:n.inlineField},r().createElement(a.InlineSwitch,{value:e.settings.tooltip.scaleToBandwidth,onChange:n=>{let r=e;r.settings.tooltip.scaleToBandwidth=n.currentTarget.checked,t(r)}})),r().createElement(K,{title:"Scale Options"}),r().createElement(a.InlineField,{grow:!0,label:"Scale Title",className:n.inlineField},r().createElement(a.Input,{value:e.settings.scale.title,placeholder:"Scale Title",type:"text",name:"scaleTitle",onChange:n=>{let r=e;r.settings.scale.title=n.currentTarget.value,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Scale Width",className:n.inlineField},r().createElement(a.Slider,{min:10,max:200,value:e.settings.scale.size.width,step:1,onChange:n=>{let r=e;r.settings.scale.size.width=n,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Scale Height",className:n.inlineField},r().createElement(a.Slider,{min:0,max:1e3,value:e.settings.scale.size.height,step:10,onChange:n=>{let r=e;r.settings.scale.size.height=n,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Scale Position X",className:n.inlineField},r().createElement(a.Slider,{min:0,max:100,value:e.settings.scale.position.x,step:1,onChange:n=>{let r=e;r.settings.scale.position.x=n,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Scale Position Y",className:n.inlineField},r().createElement(a.Slider,{min:0,max:100,value:e.settings.scale.position.y,step:1,onChange:n=>{let r=e;r.settings.scale.position.y=n,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Title Font Size",className:n.inlineField},r().createElement(a.Slider,{min:2,max:40,value:e.settings.scale.fontSizing.title,step:1,onChange:n=>{let r=e;r.settings.scale.fontSizing.title=n,t(r)}})),r().createElement(a.InlineField,{grow:!0,label:"Threshold Font Size",className:n.inlineField},r().createElement(a.Slider,{min:2,max:40,value:e.settings.scale.fontSizing.threshold,step:1,onChange:n=>{let r=e;r.settings.scale.fontSizing.threshold=n,t(r)}}))):r().createElement(r().Fragment,null)},ae=(0,a.stylesFactory)((e=>({inlineField:i.css`
      flex: 1 0 auto;
    `,inlineRow:i.css`
      flex-flow: column;
    `}))),le=t=>{const n=(0,a.useTheme2)(),o=[L("Node A",[200,300],n),L("Node B",[400,300],n)],i={version:14,id:b(),nodes:o.map(((t,n)=>{let r=t;return r.anchors[0===n?e.Right:e.Left].numLinks=1,r})),links:[j([o[0],o[1]])],scale:[],settings:{link:{spacing:{horizontal:10,vertical:5},stroke:{color:n.colors.secondary.main},label:{background:n.colors.secondary.main,border:n.colors.secondary.border,font:n.colors.secondary.contrastText},showAllWithPercentage:!1},fontSizing:{node:10,link:7},panel:{backgroundColor:n.colors.background.primary,showTimestamp:!0,panelSize:{width:600,height:600},zoomScale:0,offset:{x:0,y:0},grid:{enabled:!1,size:10,guidesEnabled:!1}},tooltip:{fontSize:8,textColor:"white",backgroundColor:"black",inboundColor:"#00cf00",outboundColor:"#fade2a",scaleToBandwidth:!1},scale:{position:{x:0,y:0},size:{width:50,height:200},title:"Traffic Load",fontSizing:{title:16,threshold:12}}}};if(t.value){if(!t.value.version||14!==t.value.version){let e=t.value;t.onChange(P(e,n))}}else console.log("Initializing weathermap plugin."),t.onChange(i);return t.value?r().createElement(r().Fragment,null,r().createElement(G,t),r().createElement(te,t),r().createElement(re,t),r().createElement(ie,t)):r().createElement(r().Fragment,null)};function se(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}const ce=({value:e,onChange:t})=>{const n=de((0,a.useTheme2)()),o=(i=function*(){const t=document.getElementById(`nw-${e.id}_`);let n=t.outerHTML||"";const r=t.getElementsByTagName("image");for(let e=0;e<r.length;e++){const t=document.location.origin+"/"+r[e].href.baseVal,o=yield fetch(t),i=yield o.text(),a="data:image/svg+xml;base64,"+window.btoa(i);n=n.replace(r[e].href.baseVal,a)}const o=new Blob(['<?xml version="1.0" standalone="no"?>\r\n',n],{type:"image/svg+xml;charset=utf-8"});((e,t)=>{let n=document.createElement("a");n.href=e,n.download=t,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)})(URL.createObjectURL(o),`network-weathermap-${(new Date).toISOString()}.svg`)},l=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){se(o,n,r,a,l,"next",e)}function l(e){se(o,n,r,a,l,"throw",e)}a(void 0)}))},function(){return l.apply(this,arguments)});var i,l;return e?r().createElement(r().Fragment,null,r().createElement(a.InlineFieldRow,null,r().createElement(a.Button,{onClick:o,className:n.exportButton},"Export SVG"))):r().createElement(r().Fragment,null)},de=(0,a.stylesFactory)((e=>({exportButton:i.css`
      margin: ${e.spacing(1)} 0;
      margin-right: ${e.spacing(1)};
    `,exportJSONButton:i.css`
      margin: ${e.spacing(1)} 0;
    `}))),ue=new t.PanelPlugin((o=>{const{options:l,data:s,width:c,height:d,onOptionsChange:u,timeRange:p}=o,g=W(),m=(0,a.useTheme2)(),f=l.weathermap;!f||f.version&&14===f.version||u({weathermap:P(f,m)});const h=window.location.search.includes("editPanel"),[b,y]=(0,n.useState)(null),[v,k]=(0,n.useState)([]);function x(e,t){if(0===t)return w(f.settings.link.stroke.color,f.settings.panel.backgroundColor);const n=e/t*100;let r="";return f.scale.forEach((e=>{e.percent<=n&&(r=e.color)})),r}function S(e,t,n){const r=(e.x+t.x)/2,o=(e.y+t.y)/2,i=t.x-e.x,a=t.y-e.y,l=Math.sqrt(i*i+a*a);return{x:r-n*(t.x-e.x)/l,y:o-n*(t.y-e.y)/l}}function E(e,t,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}}function C(e,t,n,r){let o=n,i=r/2,a={x:t.x-e.x,y:t.y-e.y},l=Math.sqrt(a.x*a.x+a.y*a.y);a.x=a.x/l,a.y=a.y/l;let s=-a.y,c=a.x;return{p1:{x:t.x-o*a.x+i*s,y:t.y-o*a.y+i*c},p2:{x:t.x-o*a.x-i*s,y:t.y-o*a.y-i*c}}}const[L,j]=(0,n.useState)(f.nodes.map(((e,t)=>Z(e,t,f))));let A=L.slice();const[N,D]=(0,n.useState)(f?f.links.map(((e,t)=>V(e,t))):[]);function $(t,n){let r=t.x,o=t.y;r=f.settings.panel.grid.enabled&&b&&(b.index===t.index||v.find((e=>e.index===t.index)))?I(t.x,f.settings.panel.grid.size):r,o=f.settings.panel.grid.enabled&&b&&(b.index===t.index||v.find((e=>e.index===t.index)))?I(t.y,f.settings.panel.grid.size):o;const i=Math.max(...f.links.filter((e=>e.nodes[0].id===t.id||e.nodes[1].id===t.id)).filter((e=>n.anchor===e.sides.A.anchor||e.sides.Z.anchor===n.anchor)).map((e=>e.stroke)));if(n.anchor===e.Left||n.anchor===e.Right)n.anchor===e.Left?r-=z(t,f)/2-i/2:r+=z(t,f)/2-i/2,!t.compactVerticalLinks&&t.anchors[n.anchor].numLinks>1&&(o-=((i+f.settings.link.spacing.vertical)*t.anchors[n.anchor].numLinks-f.settings.link.spacing.vertical-i)/2,o+=(t.anchors[n.anchor].numFilledLinks+1)*i+t.anchors[n.anchor].numFilledLinks*f.settings.link.spacing.vertical-i);else if(n.anchor!==e.Center){if(t.useConstantSpacing)r+=-(i*(t.anchors[n.anchor].numLinks-1)+f.settings.link.spacing.horizontal*(t.anchors[n.anchor].numLinks-1))/2+t.anchors[n.anchor].numFilledLinks*(i+f.settings.link.spacing.horizontal);else{const e=t.labelWidth+2*t.padding.horizontal;r+=-e/2+(t.anchors[n.anchor].numFilledLinks+1)*(e/(L[t.index].anchors[n.anchor].numLinks+1))}n.anchor===e.Bottom?o+=T(t,f)/2-i/2:n.anchor===e.Top&&(o-=T(t,f)/2,o+=i/2)}return t.anchors[n.anchor].numFilledLinks++,{x:r,y:o}}function V(e,n){let r=R(B({},e),{sides:{A:B({},e.sides.A),Z:B({},e.sides.Z)}});r.index=n;const o=(i=e.units?e.units:f.settings.link.defaultUnits?f.settings.link.defaultUnits:"bps",(0,t.getValueFormat)(i));var i;r.source=L.filter((e=>e.id===r.nodes[0].id))[0],r.target=L.filter((e=>e.id===r.nodes[1].id))[0];let a=[];s.series.forEach((e=>{if(!(e.fields.length<2))try{a.push({value:e.fields[1].values.get(e.fields[1].values.length-1),id:F(e,s.series)})}catch(e){console.warn("Network Weathermap: Error while attempting to access query data.",e)}}));let l=a.filter((e=>e.id===r.sides.A.query||e.id===r.sides.Z.query));for(let e=0;e<2;e++){const t=0===e?"A":"Z";if(r.sides[t].bandwidthQuery){let e=a.filter((e=>e.id===r.sides[t].bandwidthQuery));void 0!==e[0]&&void 0!==e[0].value?r.sides[t].bandwidth=e[0].value:r.sides[t].bandwidth=0}if(r.sides[t].currentValue=0,r.sides[t].currentText="n/a",r.sides[t].currentValueText="n/a",r.sides[t].currentPercentageText="n/a%",r.sides[t].currentBandwidthText="n/a",r.sides[t].query){let e=r.sides[t].query,n=l.filter((t=>t.id===e));if(void 0!==n[0]&&void 0!==n[0].value){r.sides[t].currentValue=n[0].value;let e=o(r.sides[t].currentValue);r.sides[t].currentValueText=`${e.text} ${e.suffix}`,r.sides[t].currentPercentageText=r.sides[t].bandwidth>0?`${(r.sides[t].currentValue/r.sides[t].bandwidth*100).toFixed(2)}%`:"n/a%"}}r.showThroughputPercentage||f.settings.link.showAllWithPercentage?r.sides[t].currentText=r.sides[t].currentPercentageText:r.sides[t].currentText=r.sides[t].currentValueText;let n=o(r.sides[t].bandwidth);r.sides[t].currentBandwidthText=`${n.text} ${n.suffix}`}return 0===n&&(A=A.map((e=>(e.anchors={0:{numLinks:e.anchors[0].numLinks,numFilledLinks:0},1:{numLinks:e.anchors[1].numLinks,numFilledLinks:0},2:{numLinks:e.anchors[2].numLinks,numFilledLinks:0},3:{numLinks:e.anchors[3].numLinks,numFilledLinks:0},4:{numLinks:e.anchors[4].numLinks,numFilledLinks:0}},e)))),r.lineStartA=$(A[r.source.index],r.sides.A),r.lineStartZ=$(A[r.target.index],r.sides.Z),r.lineEndA=S(r.lineStartZ,r.lineStartA,-r.arrows.offset-r.arrows.height),A[r.target.index].isConnection&&(r.lineEndA=r.lineStartZ,r.lineEndZ=r.lineStartZ),r.arrowCenterA=S(r.lineStartZ,r.lineStartA,-r.arrows.offset),r.arrowPolygonA=C(r.lineStartA,r.arrowCenterA,r.arrows.height,r.arrows.width),r.lineEndZ=S(r.lineStartZ,r.lineStartA,r.arrows.offset+r.arrows.height),r.arrowCenterZ=S(r.lineStartZ,r.lineStartA,r.arrows.offset),r.arrowPolygonZ=C(r.lineStartZ,r.arrowCenterZ,r.arrows.height,r.arrows.width),r}const U=(0,n.useRef)(!1);(0,n.useEffect)((()=>{U.current?j(l.weathermap.nodes.map(((e,t)=>Z(e,t,l.weathermap)))):U.current=!0}),[l,s]),A=L.slice(),(0,n.useEffect)((()=>{D(l.weathermap.links.map(((e,t)=>V(e,t))))}),[l,s,L]);const[X,Y]=(0,n.useState)(!1);let q=f.settings.panel.panelSize.width/c,H=f.settings.panel.panelSize.height/d,G=Math.max(q,H);const[Q,K]=(0,n.useState)(f.settings.panel.offset),[J,ee]=(0,n.useState)(null),te=(e,t,n)=>{if(!n.shiftKey){if(A[e.source.index].isConnection){let t=N.filter((t=>t.target.id===e.source.id));for(;1===t.length&&A[t[0].source.index].isConnection;)t=N.filter((e=>e.target.id===t[0].source.id));if(1===t.length)for(let n in t[0].sides.A)"labelOffset"!==n&&"anchor"!==n&&(e.sides.A[n]=t[0].sides.A[n]);else console.warn(`Connection node "${e.source.label}" missing input connection.`)}if(A[e.target.index].isConnection){let t=N.filter((t=>t.source.id===e.target.id));for(;1===t.length&&A[t[0].target.index].isConnection;)t=N.filter((e=>e.source.id===t[0].target.id));if(1===t.length)for(let n in t[0].sides.Z)"labelOffset"!==n&&"anchor"!==n&&(e.sides.Z[n]=t[0].sides.Z[n]);else console.warn(`Connection node "${e.target.label}" missing output connection.`)}ee({link:e,side:t,mouseEvent:n})}},ne=e=>{e.shiftKey||ee(null)},re=s.series.filter((e=>{if(!J)return;let t=null;try{t=F(e,s.series)}catch(e){console.warn("Network Weathermap: Error while attempting to access query data.",e)}return t===J.link.sides.A.query||t===J.link.sides.Z.query}));var oe;return f?r().createElement("div",{className:(0,i.cx)(g.wrapper,i.css`
            width: ${c}px;
            height: ${d}px;
            position: relative;
          `)},J?r().createElement("div",{className:i.css`
              position: absolute;
              top: ${J.mouseEvent.nativeEvent.layerY}px;
              left: ${J.mouseEvent.nativeEvent.layerX}px;
              transform: translate(0%, -100%);
              background-color: ${f.settings.tooltip.backgroundColor};
              color: ${f.settings.tooltip.textColor} !important;
              font-size: ${f.settings.tooltip.fontSize} !important;
              z-index: 10000;
              display: ${J?"flex":"none"};
              flex-direction: column;
              padding: 5px;
              border-radius: 4px;
            `},r().createElement("div",{style:{fontSize:f.settings.tooltip.fontSize}},"Usage - Inbound: ",J.link.sides.Z.currentValueText,", Outbound:"," ",J.link.sides.A.currentValueText),r().createElement("div",{style:{fontSize:f.settings.tooltip.fontSize}},"Bandwidth - Inbound: ",J.link.sides.Z.currentBandwidthText,", Outbound:"," ",J.link.sides.A.currentBandwidthText),r().createElement("div",{style:{fontSize:f.settings.tooltip.fontSize}},"Throughput (%) - Inbound: ",J.link.sides.Z.currentPercentageText,", Outbound:"," ",J.link.sides.A.currentPercentageText),r().createElement("div",{style:{fontSize:f.settings.tooltip.fontSize,paddingBottom:"4px"}},J.link.sides[J.side].dashboardLink.length>0?"Click to see more.":""),(J.link.sides.A.query||J.link.sides.Z.query)&&re.length>0?r().createElement(r().Fragment,null,r().createElement(a.TimeSeries,{width:250,height:100,timeRange:p,timeZone:(0,t.getTimeZone)(),frames:re.map((e=>{let t=e,n=F(e,s.series)===J.link.sides.Z.query;return t.fields=t.fields.map((e=>(e.config.custom={fillOpacity:10,lineColor:n?f.settings.tooltip.inboundColor:f.settings.tooltip.outboundColor},e))),t})),legend:{calcs:[],displayMode:a.LegendDisplayMode.List,placement:"bottom",isVisible:!0,showLegend:!1},tweakScale:(e,t)=>(e.softMin=0,f.settings.tooltip.scaleToBandwidth&&J.link.sides[J.side].bandwidth>0&&(e.softMax=J.link.sides[J.side].bandwidth),e),tweakAxis:(e,n)=>{var r;return e.formatValue=(r=J.link.units?J.link.units:f.settings.link.defaultUnits?f.settings.link.defaultUnits:"bps",e=>{let n=(0,t.getValueFormat)(r)(e);return`${n.text} ${n.suffix}`}),e}},((e,n)=>r().createElement(r().Fragment,null,r().createElement(a.TooltipPlugin,{config:e,data:n,mode:a.TooltipDisplayMode.Multi,timeZone:(0,t.getTimeZone)()})))),r().createElement("div",{style:{display:"flex",alignItems:"center",paddingTop:"10px"}},r().createElement("div",{style:{width:"10px",height:"3px",background:f.settings.tooltip.inboundColor,paddingLeft:"5px",marginRight:"4px"}}),r().createElement("div",{style:{fontSize:f.settings.tooltip.fontSize}},"Inbound"),r().createElement("div",{style:{width:"10px",height:"3px",background:f.settings.tooltip.outboundColor,marginLeft:"10px",marginRight:"4px"}}),r().createElement("div",{style:{fontSize:f.settings.tooltip.fontSize}},"Outbound"))):""):"",r().createElement(M,{thresholds:f.scale,settings:f.settings}),r().createElement("svg",{style:{position:"absolute",top:0,left:0,backgroundImage:f.settings.panel.backgroundImage?`url(${f.settings.panel.backgroundImage.url})`:"none",backgroundSize:null===(oe=f.settings.panel.backgroundImage)||void 0===oe?void 0:oe.fit,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:f.settings.panel.backgroundImage?"none":f.settings.panel.backgroundColor},id:`nw-${f.id}${h?"_":""}`,width:c,height:d,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:`0 0 ${f.settings.panel.panelSize.width*Math.pow(1.2,f.settings.panel.zoomScale)} ${f.settings.panel.panelSize.height*Math.pow(1.2,f.settings.panel.zoomScale)}`,shapeRendering:"crispEdges",textRendering:"geometricPrecision",fontFamily:"sans-serif",onWheel:e=>{if(!h&&!e.shiftKey)return;let t=f;e.deltaY>0?t.settings.panel.zoomScale+=1:t.settings.panel.zoomScale-=1,u({weathermap:t})},onMouseDown:e=>{e.preventDefault(),q=f.settings.panel.panelSize.width/c,H=f.settings.panel.panelSize.height/d,G=Math.max(q,H),Y(!0)},onMouseMove:e=>{X&&(e.ctrlKey||4===e.buttons||e.shiftKey)&&(e=>{if(e.ctrlKey||4===e.buttons||e.shiftKey){e.nativeEvent.preventDefault();const t=Math.pow(1.2,f.settings.panel.zoomScale);K((n=>({x:n.x+e.nativeEvent.movementX*t*G,y:n.y+e.nativeEvent.movementY*t*G})))}})(e)},onMouseUp:()=>{Y(!1);let e=f;e.settings.panel.offset=Q,u({weathermap:e})},onDoubleClick:()=>{k([])}},f.settings.panel.grid.enabled?r().createElement("defs",null,r().createElement("pattern",{id:"smallGrid",width:f.settings.panel.grid.size,height:f.settings.panel.grid.size,patternUnits:"userSpaceOnUse"},r().createElement("path",{d:`M ${f.settings.panel.grid.size} 0 L 0 0 0 ${f.settings.panel.grid.size}`,fill:"none",stroke:"gray",strokeWidth:"2",opacity:1}))):"",r().createElement("g",{transform:`translate(${(f.settings.panel.panelSize.width*Math.pow(1.2,f.settings.panel.zoomScale)-f.settings.panel.panelSize.width)/2+Q.x}, ${(f.settings.panel.panelSize.height*Math.pow(1.2,f.settings.panel.zoomScale)-f.settings.panel.panelSize.height)/2+Q.y})`,overflow:"visible"},f.settings.panel.grid.guidesEnabled?r().createElement(r().Fragment,null,r().createElement("rect",{x:f.nodes.length>0?f.nodes[0].position[0]-f.settings.panel.panelSize.width*Math.pow(1.2,f.settings.panel.zoomScale)*2:0,y:f.nodes.length>0?f.nodes[0].position[1]-f.settings.panel.panelSize.height*Math.pow(1.2,f.settings.panel.zoomScale)*2:0,width:f.settings.panel.panelSize.width*Math.pow(1.2,f.settings.panel.zoomScale)*4,height:f.settings.panel.panelSize.height*Math.pow(1.2,f.settings.panel.zoomScale)*4,fill:"url(#smallGrid)"})):""),r().createElement("g",{transform:`translate(${(f.settings.panel.panelSize.width*Math.pow(1.2,f.settings.panel.zoomScale)-f.settings.panel.panelSize.width)/2+Q.x}, ${(f.settings.panel.panelSize.height*Math.pow(1.2,f.settings.panel.zoomScale)-f.settings.panel.panelSize.height)/2+Q.y})`},r().createElement("g",null,N.map(((e,t)=>{if(e.nodes[0].id===e.nodes[1].id)return;let n=[];if(A[e.source.index].isConnection)if(n=N.filter((t=>t.target.id===e.source.id)),1===n.length)for(let t in e.sides.A)"labelOffset"!==t&&"anchor"!==t&&(e.sides.A[t]=n[0].sides.A[t]);else console.warn(`Connection node "${e.source.label}" missing input connection.`);return r().createElement("g",{key:t,className:"line","data-testid":"link",strokeOpacity:1,width:Math.abs(e.target.x-e.source.x),height:Math.abs(e.target.y-e.source.y)},r().createElement("line",{strokeWidth:e.stroke,stroke:x(e.sides.A.currentValue,e.sides.A.bandwidth),x1:e.lineStartA.x,y1:e.lineStartA.y,x2:e.lineEndA.x,y2:e.lineEndA.y,onMouseMove:t=>{te(e,"A",t)},onMouseOut:ne,onClick:()=>{e.sides.A.dashboardLink.length>0&&window.open(e.sides.A.dashboardLink,"_blank")},style:e.sides.A.dashboardLink.length>0?{cursor:"pointer"}:{}}),A[e.source.index].isConnection?r().createElement("circle",{cx:e.lineStartA.x,cy:e.lineStartA.y,r:n.length>0?Math.max(e.stroke,n[0].stroke)/2:e.stroke/2,fill:x(e.sides.A.currentValue,e.sides.A.bandwidth),style:{paintOrder:"stroke"}}):"",A[e.target.index].isConnection?"":r().createElement(r().Fragment,null,r().createElement("polygon",{points:`\n                                        ${e.arrowCenterA.x}\n                                        ${e.arrowCenterA.y}\n                                        ${e.arrowPolygonA.p1.x}\n                                        ${e.arrowPolygonA.p1.y}\n                                        ${e.arrowPolygonA.p2.x}\n                                        ${e.arrowPolygonA.p2.y}\n                                    `,fill:x(e.sides.A.currentValue,e.sides.A.bandwidth),onMouseMove:t=>{te(e,"A",t)},onMouseOut:ne,onClick:()=>{e.sides.A.dashboardLink.length>0&&window.open(e.sides.A.dashboardLink,"_blank")},style:e.sides.A.dashboardLink.length>0?{cursor:"pointer"}:{}}),r().createElement("line",{strokeWidth:e.stroke,stroke:x(e.sides.Z.currentValue,e.sides.Z.bandwidth),x1:e.lineStartZ.x,y1:e.lineStartZ.y,x2:e.lineEndZ.x,y2:e.lineEndZ.y,onMouseMove:t=>{te(e,"Z",t)},onMouseOut:ne,onClick:()=>{e.sides.Z.dashboardLink.length>0&&window.open(e.sides.Z.dashboardLink,"_blank")},style:e.sides.Z.dashboardLink.length>0?{cursor:"pointer"}:{}}),r().createElement("polygon",{points:`\n                                        ${e.arrowCenterZ.x}\n                                        ${e.arrowCenterZ.y}\n                                        ${e.arrowPolygonZ.p1.x}\n                                        ${e.arrowPolygonZ.p1.y}\n                                        ${e.arrowPolygonZ.p2.x}\n                                        ${e.arrowPolygonZ.p2.y}\n                                    `,fill:x(e.sides.Z.currentValue,e.sides.Z.bandwidth),onMouseMove:t=>{te(e,"Z",t)},onMouseOut:ne,onClick:()=>{e.sides.Z.dashboardLink.length>0&&window.open(e.sides.Z.dashboardLink,"_blank")},style:e.sides.Z.dashboardLink.length>0?{cursor:"pointer"}:{}})))}))),r().createElement("g",null,N.map(((e,t)=>{if(e.nodes[0].id===e.nodes[1].id)return;const n=E(e.lineStartZ,e.lineStartA,(A[e.target.index].isConnection?1:.5)*(e.sides.A.labelOffset/100));return r().createElement("g",{fontStyle:"italic",transform:`translate(${n.x},${n.y})`,onMouseMove:t=>{te(e,"A",t)},onMouseOut:ne,key:t},r().createElement("rect",{x:-O(`${e.sides.A.currentText}`,f.settings.fontSizing.link).width/2-1.5*f.settings.fontSizing.link/2,y:-f.settings.fontSizing.link,width:O(`${e.sides.A.currentText}`,f.settings.fontSizing.link).width+1.5*f.settings.fontSizing.link,height:2*f.settings.fontSizing.link,fill:w(f.settings.link.label.background,f.settings.panel.backgroundColor),stroke:w(f.settings.link.label.border,f.settings.panel.backgroundColor),strokeWidth:2,rx:(f.settings.fontSizing.link+8)/2}),r().createElement("text",{x:0,y:O(`${e.sides.A.currentText}`,f.settings.fontSizing.link).actualBoundingBoxAscent/2,textAnchor:"middle",fontSize:`${f.settings.fontSizing.link}px`,fill:f.settings.link.label.font},`${e.sides.A.currentText}`))}))),r().createElement("g",null,N.map(((e,t)=>{if(e.nodes[0].id===e.nodes[1].id||A[e.target.index].isConnection)return;const n=E(e.lineStartA,e.lineStartZ,e.sides.Z.labelOffset/100*.5);return r().createElement("g",{fontStyle:"italic",transform:`translate(${n.x},${n.y})`,onMouseMove:t=>{te(e,"Z",t)},onMouseOut:ne,key:t},r().createElement("rect",{x:-O(`${e.sides.Z.currentText}`,f.settings.fontSizing.link).width/2-1.5*f.settings.fontSizing.link/2,y:-f.settings.fontSizing.link,width:O(`${e.sides.Z.currentText}`,f.settings.fontSizing.link).width+1.5*f.settings.fontSizing.link,height:2*f.settings.fontSizing.link,fill:w(f.settings.link.label.background,f.settings.panel.backgroundColor),stroke:w(f.settings.link.label.border,f.settings.panel.backgroundColor),strokeWidth:2,rx:(f.settings.fontSizing.link+8)/2}),r().createElement("text",{x:0,y:O(`${e.sides.Z.currentText}`,f.settings.fontSizing.link).actualBoundingBoxAscent/2,textAnchor:"middle",fontSize:`${f.settings.fontSizing.link}px`,fill:f.settings.link.label.font},`${e.sides.Z.currentText}`))}))),r().createElement("g",null,L.map(((e,t)=>r().createElement(_,{key:e.id,node:e,draggedNode:b,selectedNodes:v,wm:f,onDrag:(n,r)=>{n.ctrlKey||(y(e),j((e=>e.map(((e,n)=>{if(n===t||v.find((e=>e.id===L[n].id))){const t=function(e){const t=Math.pow(1.2,f.settings.panel.zoomScale);return{x:e.x*t*G,y:e.y*t*G}}({x:r.deltaX,y:r.deltaY});e.x=Math.round(f.settings.panel.grid.enabled?f.nodes[n].position[0]+(e.x+t.x-f.nodes[n].position[0]):e.x+t.x),e.y=Math.round(f.settings.panel.grid.enabled?f.nodes[n].position[1]+(e.y+t.y-f.nodes[n].position[1]):e.y+t.y)}return e})))),A=L.slice(),D(f.links.map(((e,t)=>V(e,t)))))},onStop:(e,n)=>{y(null);let r=f;r.nodes[t].position=[f.settings.panel.grid.enabled?I(L[t].x,f.settings.panel.grid.size):L[t].x,f.settings.panel.grid.enabled?I(L[t].y,f.settings.panel.grid.size):L[t].y];for(let e of v)r.nodes[e.index].position=[f.settings.panel.grid.enabled?I(L[e.index].x,f.settings.panel.grid.size):L[e.index].x,f.settings.panel.grid.enabled?I(L[e.index].y,f.settings.panel.grid.size):L[e.index].y];u(R(B({},l),{weathermap:r}))},onClick:e=>{e.ctrlKey&&h?k((e=>{let n=e.findIndex((e=>e.id===A[t].id));return n>-1?e.splice(n,1):e.push(A[t]),e})):!h&&A[t].dashboardLink&&window.open(A[t].dashboardLink,"_blank"),u(l)},disabled:!h,data:s})))))),r().createElement("div",{className:(0,i.cx)(g.timeText,i.css`
              color: ${m.colors.getContrastText(f.settings.panel.backgroundColor.startsWith("image")?f.settings.panel.backgroundColor.split("|",3)[1]:f.settings.panel.backgroundColor)};
            `)},f.settings.panel.showTimestamp?p.to.toLocaleString():"")):r().createElement(r().Fragment,null)})).setPanelOptions((e=>e.addCustomEditor({id:"weathermapEditor",path:"weathermap",name:"Edit Weathermap",description:"Add, remove, and edit weathermap nodes and links.",editor:le,settings:{placeholder:"This is my placeholder."}}).addCustomEditor({id:"exportForm",path:"weathermap",name:"Export Weathermap",description:"Export an SVG snapshot of the weathermap. The SVG exports show only links and nodes, for the entire panel please use Grafana's image renderer plugin.",editor:ce})))})(),s})()));
//# sourceMappingURL=module.js.map